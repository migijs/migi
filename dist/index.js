!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(30)},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){r(this,e),this.__hash={}}return n(e,[{key:"on",value:function(e,t){var r=this;if(Array.isArray(e))for(var n=0,a=e.length;a>n;n++)r.on(e[n],t);else if(t){r.__hash.hasOwnProperty(e)||(r.__hash[e]=[]);for(var n=0,i=r.__hash[e],a=i.length;a>n;n++)if(i[n]===t)return r;r.__hash[e].push(t)}return r}},{key:"once",value:function(e,t){var r=this;if(Array.isArray(e))for(var n=0,a=e.length;a>n;n++)r.once(e[n],t);else if(t){var i=function o(){for(var n=arguments.length,a=Array(n),i=0;n>i;i++)a[i]=arguments[i];t.apply(this,a),r.off(e,o)};r.on(e,i)}return this}},{key:"off",value:function(e,t){var r=this;if(Array.isArray(e))for(var n=0,a=e.length;a>n;n++)r.off(e[n],t);else if(r.__hash.hasOwnProperty(e))if(t){for(var n=0,i=r.__hash[e],a=i.length;a>n;n++)if(i[n]===t){i.splice(n,1);break}}else delete r.__hash[e];return this}},{key:"emit",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),a=1;r>a;a++)n[a-1]=arguments[a];if(Array.isArray(e))for(var i=0,o=e.length;o>i;i++)t.emit(e[i],n);else if(t.__hash.hasOwnProperty(e)){var u=t.__hash[e];if(u.length){u=u.slice();for(var i=0,o=u.length;o>i;i++)u[i].apply(t,n)}}return this}}],[{key:"mix",value:function(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];for(var a=r.length-1;a>=0;a--){var i=r[a],o=new e;i.__hash={};for(var u=["on","once","off","emit"],s=u.length-1;s>=0;s--){var l=u[s];i[l]=o[l]}}}}]),e}();a.DOM="DOM",a.DESTROY="DESTROY",a.DATA="DATA",t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(e instanceof p["default"])return e;if(o(e))return e;var t=Array.isArray(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];n instanceof p["default"]?t[r]=n:g.isDate(n)?t[r]=new Date(n):t[r]=g.isObject(n)?a(n):n}return t}function i(e){return function(t){return y.call(t)=="[object "+e+"]"}}function o(e){return void 0===e||null===e||g.isBoolean(e)||g.isNumber(e)||g.isString(e)}function u(e,t){if(e instanceof p["default"]||t instanceof p["default"])return e===t;if(o(e)||o(t))return e===t;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(var r=0,n=e.length;n>r;r++)if(!u(e[r],t[r]))return!1;return!0}if(g.isDate(e))return g.isDate(t)?e-t==0:!1;if(g.isObject(e)){if(!g.isObject(t))return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var r=0,n=a.length;n>r;r++)if(!t.hasOwnProperty(r)||!u(e[r],t[r]))return!1;return!0}}function s(e,t){for(var r="",n=0,a=e.length;a>n;n++){var i=e[n];r+=Array.isArray(i)?s(i):i instanceof p["default"]?t?c(i.toString(),t):i.toString():c(f(i),t)}return r}function l(e){for(var t="",r=0,n=e.length;n>r;r++){var a=e[r];t+=Array.isArray(a)?l(a):a.toString()}return t}function f(e){return null===e||void 0===e?"":e.toString()}function c(e,t){return t?e.replace(/"/g,"&quot;"):e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}function d(e,t){return t=t||[],Array.isArray(t)?t.forEach(function(e){t.push(e)}):t.push(e),t}function _(e){for(var t=!0;t;){var r=e;t=!1;{if(!Array.isArray(r))return r;e=r[0],t=!0}}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.__children.forEach(function(e){e instanceof migi.VirtualDom?(h(e,t),t.push(e)):e instanceof migi.Component&&(h(e.__virtualDom,t),t.push(e.__virtualDom))}),t}Object.defineProperty(t,"__esModule",{value:!0});var v=r(3),p=n(v),y={}.toString,g={clone:function(e){return a(e)},isObject:i("Object"),isString:i("String"),isFunction:i("Function"),isNumber:i("Number"),isBoolean:i("Boolean"),isDate:i("Date"),equal:function(e,t){return u(e,t)},stringify:f,encodeHtml:c,joinArray:function(e,t){return s(e,t)},joinSourceArray:function(e){return l(e)},linear:d,arrFirst:_,isDom:function(e){return e instanceof p["default"]},getAllChildrenElement:h};t["default"]=g},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return v["default"].isString(e)?document.querySelector(e):e instanceof p?e.element:e}function s(e){for(var t={},r=0,n=e.length;n>r;r++){var a=e[r];if(Array.isArray(a))t[a[0]]=a[1];else for(var i=Object.keys(a),o=i.length-1;o>=0;o--){var u=i[o];t[u]=a[u]}}return t}function l(e){for(var t=[],r=Object.keys(e),n=0,a=r.length;a>n;n++){var i=r[n];t.push([i,e[i]])}return t}function f(e){for(var t=0,r=e.length;r>t;t++){var n=e[t];if(!Array.isArray(n)){for(var a=[],i=Object.keys(n),o=0,r=i.length;r>o;o++){var u=i[o];a.push([u,n[u]])}e.splice.apply(e,[t,1].concat(a))}}return e}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=r(1),_=n(d),h=r(2),v=n(h),p=function(e){function t(e,r,n,o){a(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.__reset(e,r,n,o),u}return o(t,e),c(t,[{key:"__reset",value:function(e,t,r,n){this.__uid=e,this.__name=t,Array.isArray(r)?(this.props=s(r),this.__props=f(r)):(this.props=r,this.__props=l(r)),this.__children=n,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(_["default"].DOM,this.__onDom)}},{key:"clean",value:function(){if(this.__dom){var e=this.element;e&&e.parentNode&&e.parentNode.removeChild(e),this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(_["default"].DOM,this.__onDom)}}},{key:"__onDom",value:function(){this.__dom=!0,this.__saveRef()}},{key:"__saveRef",value:function(){if(this.props.ref){var e=this.top;if(e){var t=this.props.ref,r=e.ref[t];Array.isArray(r)?r.push(this):r?e.ref[t]=[r,this]:e.ref[t]=this}}}},{key:"__delRef",value:function(){var e=this.props.ref;if(e){var t=this.top;if(t&&t.ref){var r=t.ref[e];if(r)if(r===this)delete t.ref[e];else if(Array.isArray(r))for(var n=0,a=r.length;a>n;n++)if(r[n]===this){r.splice(n,1);break}}}}},{key:"inTo",value:function(e){this.clean();var t=this.toString();u(e).innerHTML=t,this.emit(_["default"].DOM)}},{key:"appendTo",value:function(e){this.clean();var t=this.toString();e=u(e),e.insertAdjacentHTML("beforeend",t),this.emit(_["default"].DOM)}},{key:"prependTo",value:function(e){this.clean();var t=this.toString();e=u(e),e.insertAdjacentHTML("afterbegin",t),this.emit(_["default"].DOM)}},{key:"before",value:function(e){this.clean();var t=this.toString();e=u(e),e.insertAdjacentHTML("beforebegin",t),this.emit(_["default"].DOM)}},{key:"after",value:function(e){this.clean();var t=this.toString();e=u(e),e.insertAdjacentHTML("afterend",t),this.emit(_["default"].DOM)}},{key:"replace",value:function(e){this.clean();var t=this.toString();e=u(e),e.insertAdjacentHTML("afterend",t),e.parentNode.removeChild(e),this.emit(_["default"].DOM)}},{key:"top",get:function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component?this.__top=this.parent:this.__top=this.parent.top),this.__top}},{key:"parent",get:function(){return this.__parent}},{key:"children",get:function(){return this.__children}},{key:"name",get:function(){return this.__name}},{key:"dom",get:function(){return this.__dom}}]),t}(_["default"]);t["default"]=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var a=e,i=t,o=r;n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=i,r=o,n=!0,u=l=void 0}},l=r(1),f=n(l),c=r(3),d=n(c),_=r(9),h=n(_),v=r(2),p=n(v),y=r(7),g=n(y),m=r(6),O=n(m),b=r(8),T=n(b),k=r(25),w=n(k),E=r(11),D=n(E),M=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touchstart","touchmove","touchend","touchcancel","MSGestureEnd","MSPointerDown","pointerdown","MSPointerMove","pointermove","MSPointerUp","pointerup","MSPointerCancel","pointercancel"],x=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];a(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null,r,n)),u=o;return u.__name=u.constructor.__migiName,u.__virtualDom=null,u.__ref={},u.__bindHash={},u.__ob=[],u.__bindProperty={},u.__props.forEach(function(e,t){var r=e[0],n=e[1];u.__init(r,n,t)}),o}return o(t,e),u(t,[{key:"__init",value:function(e,t,r){var n=this;if(/^on[a-zA-Z]/.test(e)){var a=e.slice(2).toLowerCase();n.once(f["default"].DOM,function(){n.virtualDom.__addEvt(a,t)})}else if(/^on-[a-zA-Z\d_]/.test(e)){var a=e.slice(3);n.on(a,function(){for(var e=arguments.length,r=Array(e),n=0;e>n;n++)r[n]=arguments[n];if(t instanceof O["default"]){if(p["default"].isFunction(t.cb)){var a;(a=t.cb).call.apply(a,[t.context].concat(r))}}else p["default"].isFunction(t)&&t.apply(void 0,r)})}else"model"==e?n.model=t:t instanceof g["default"]&&(n.__props[r]=t.v,n.props[e]=t.v,n.__bindProperty[t.k]=[e,t])}},{key:"render",value:function(){return new h["default"](this.__uid,"div",this.__props,this.__children)}},{key:"toString",value:function(){if(this.__virtualDom=this.render(),!this.__virtualDom)throw new Error("render must return a VirtualDom: "+this.__name);return this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()}},{key:"preString",value:function(){this.toString()}},{key:"findChild",value:function(e){return this.findChildren(e,!0)[0]}},{key:"findChildren",value:function(e,r){for(var n=[],a=0,i=this.children.length;i>a;a++){var o=this.children[a];if(o instanceof d["default"])if(o instanceof t){if((o.name==e||p["default"].isFunction(e)&&o instanceof e)&&(n.push(o),r))break}else{if((o.name==e||p["default"].isFunction(e)&&o instanceof e)&&(n.push(o),r))break;if(n=n.concat(o.findAll(e)),r&&n.length)break}}return n}},{key:"find",value:function(e){return this.__virtualDom?this.__virtualDom.find(e):null}},{key:"findAll",value:function(e){return this.__virtualDom?this.__virtualDom.findAll(e):[]}},{key:"__onDom",value:function(){function e(e){e=e||window.event,D["default"](e),e.target!=n&&e.srcElement!=n&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);var r=this;r.virtualDom.emit(f["default"].DOM);var n=r.element;if(r.name&&n.setAttribute("migi-name",r.name),r.props.stopPropagation===!0||"true"===r.props.stopPropagation);else{if(r.props.stopPropagation===!1||"false"===r.props.stopPropagation)return;if(!r.stopPropagation)return}r.__stop=e,M.forEach(function(t){n.addEventListener(t,e)})}},{key:"__data",value:function(e,t){var r=this;r.dom&&(r.__canData=!0),r.__onData(e,t),r.emit(f["default"].DATA,e,r[e])}},{key:"__onData",value:function(e,t){if(this.__dom&&this.__canData){this.virtualDom&&this.virtualDom.__onData(e,t);for(var r=0,n=this.children.length;n>r;r++){var a=this.children[r];a instanceof h["default"]&&a.__onData(e,t)}}}},{key:"__notifyBindProperty",value:function(e){if(this.__bindProperty.hasOwnProperty(e)){var t=this.__bindProperty[e],r=t[0],n=t[1];n.update(n.v)&&(this[r]=n.v)}}},{key:"__destroy",value:function(){var e=this;if(e.__stop){var t=e.element;M.forEach(function(r){t.removeEventListener(r,e.__stop)})}e.model&&e.model.__del(e),e.__ob.forEach(function(t){var r=t.__ob__.indexOf(e);r>-1&&(t.__ob__.splice(r,1),t.__cb__.splice(r,1))});var r=e.virtualDom.__destroy();return e.emit(f["default"].DESTROY),e.__hash={},e.__bindProperty=null,r}},{key:"__initBind",value:function(e){return!this.__bindHash.hasOwnProperty(e)}},{key:"__getBind",value:function(e){return this.__bindHash[e]}},{key:"__setBind",value:function(e,t){this.__bindHash[e]=t,this.__array(e,t)}},{key:"__array",value:function(e,t){var r=this;Array.isArray(t)&&(t.__proto__=w["default"],t.__ob__=t.__ob__||[],t.__cb__=t.__cb__||[],-1==t.__ob__.indexOf(r)&&(r.__ob.push(t),t.__ob__.push(r),t.__cb__.push(function(t){r.__data(e,t)})))}},{key:"stopPropagation",get:function(){return this.__stopPropagation},set:function(e){this.__stopPropagation=e}},{key:"element",get:function(){return this.virtualDom?this.virtualDom.element:null}},{key:"style",get:function(){return this.__style},set:function(e){this.__style=e}},{key:"model",get:function(){return this.__model},set:function(e){if(!(e instanceof T["default"]))throw new Error("can not set model to a non Model: "+e);this.__model=e,e.__add(this)}},{key:"virtualDom",get:function(){return this.__virtualDom}},{key:"ref",get:function(){return this.__ref}}]),t}(d["default"]);t["default"]=x},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t["default"]={get:function(e){return r[e]},set:function(e){return r[e.__uid]=e,e}}},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function a(e,t){r(this,a),this.context=e,this.cb=t};t["default"]=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(3),u=n(o),s=r(2),l=n(s),f=function(){function e(t,r,n,i){a(this,e),this.k=t,this.context=r,this.cb=n,this.single=i,this.setV(n.call(r))}return i(e,[{key:"setV",value:function(e){this.v=l["default"].clone(e)}},{key:"toString",value:function(e){if(Array.isArray(this.v))return l["default"].joinArray(this.v,e);var t=l["default"].stringify(this.v);return e?l["default"].encodeHtml(t,e):this.v instanceof u["default"]?t:l["default"].encodeHtml(t)}},{key:"toSourceString",value:function(){return Array.isArray(this.v)?l["default"].joinSourceArray(this.v):l["default"].stringify(this.v)}},{key:"update",value:function(e){var t=this.cb.call(this.context);return l["default"].equal(e,t)?void 0:(this.setV(t),!0)}}]),e}();t["default"]=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),f=r(4),c=n(f),d=0,_=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__uid="m"+d++,e.__name=e.constructor.__migiName,e.__ref=[],e.__bindHash={},e.__ob=[],e}return o(t,e),u(t,[{key:"__onData",value:function(e,t){e="model."+e,this.__ref.forEach(function(r){r.dom&&(r.__canData=!0),r.__onData(e,t)})}},{key:"__add",value:function(e){-1==this.__ref.indexOf(e)&&this.__ref.push(e)}},{key:"__del",value:function(e){var t=this.__ref.indexOf(e);t>-1&&this.__ref.splice(t,1)}},{key:"name",get:function(){return this.__name}}]),t}(l["default"]);["__data","__record","__unRecord","__initBind","__getBind","__setBind","__array"].forEach(function(e){_.prototype[e]=c["default"].prototype[e]}),t["default"]=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e instanceof E["default"]?e.name+'[migi-uid="'+e.__uid+'"]':e.replace(/(^|\s|,|])([A-Z][\w$]*)\b/,'$1[migi-name="$2"]')}function s(e,t){return l(e,t,!0)[0]||null}function l(e,t,r){return f(e,t,[],r)}function f(e,t,r,n){for(var a=0,i=t.length;i>a;a++){var o=t[a];if(o instanceof E["default"]?r=c(e,o,r,n):o instanceof j["default"]?(o=o.v,Array.isArray(o)?r=f(e,o,r,n):o instanceof E["default"]&&(r=c(e,o,r,n))):Array.isArray(o)&&(r=f(e,o,r,n)),n&&r.length)break}return r}function c(e,t,r,n){if(t instanceof M["default"])t instanceof e&&r.push(t);else{if(t instanceof e&&(r.push(t),n))return r;r=r.concat(t.findAll(e,n))}return r}function d(e){return void 0===e||null===e||!e.toString()}function _(e){if(e instanceof E["default"]||e instanceof j["default"])return e.toString();if(Array.isArray(e)){for(var t="",r=0,n=e.length;n>r;r++)t+=_(e[r]);return t}return A["default"].encodeHtml(A["default"].stringify(e))}function h(e,t){if(Array.isArray(e))for(var r=0,n=e.length;n>r;r++)h(e[r],t);else e instanceof E["default"]?e.__parent=t:e instanceof j["default"]&&h(e.v,t)}function v(e,t){if(Array.isArray(e))for(var r=0,n=e.length;n>r;r++)v(e[r],t);else e instanceof ue?e.style=t:e instanceof j["default"]&&v(e.v,t)}function p(e){var t=!0;if(Array.isArray(e))for(var r=0,n=e.length;n>r&&(t=p(e[r]),t);r++);else t=e instanceof E["default"]?!1:e instanceof j["default"]?p(e.v):d(e);return t}function y(e,t,r,n){if(Array.isArray(e))for(var a=0,i=e.length;i>a&&(y(e[a],t,r,n),!r.done);a++);else if(e instanceof E["default"]){if(t==e)return void(r.done=!0);n(e)}else e instanceof j["default"]&&y(e.v,t,r,n)}function g(e,t,r,n){if(Array.isArray(e))for(var a=0,i=e.length;i>a&&(g(e[a],t,r,n),!r.done);a++);else e instanceof E["default"]?t==e?r.start=!0:r.start&&n(e):e instanceof j["default"]&&g(e.v,t,r,n)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(e))for(var r=0,n=e.length;n>r;r++)m(e[r],t);else e instanceof E["default"]?t.push(e):e instanceof j["default"]&&m(e.v,t);return t}Object.defineProperty(t,"__esModule",{value:!0});var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),b=function(e,t,r){for(var n=!0;n;){var a=e,i=t,o=r;n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(o)}var l=Object.getPrototypeOf(a);if(null===l)return void 0;e=l,t=i,r=o,n=!0,u=l=void 0}},T=r(1),k=n(T),w=r(3),E=n(w),D=r(4),M=n(D),x=r(2),A=n(x),P=r(7),j=n(P),X=r(6),S=n(X),L=r(22),C=n(L),N=r(21),R=n(N),H=r(26),F=n(H),I=r(15),B=n(I),V=r(11),q=n(V),z=r(17),U=n(z),$=r(5),Y=n($),Z=r(29),G=n(Z),J=r(19),K=n(J),Q=r(13),W=n(Q),ee=r(27),te=n(ee),re=r(23),ne=n(re),ae=r(20),ie=n(ae),oe={swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,longtap:!0,doubletap:!0},ue=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(a(this,t),ne["default"].hasOwnProperty(r)&&o.length)throw new Error("self-close tag can not has children: "+r);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n,o)),s=u;return s.__names=null,s.__classes=null,s.__ids=null,u}return o(t,e),O(t,[{key:"toString",value:function(){for(var e=this,t="<"+e.name,r=0,n=e.__props.length;n>r;r++){var a=e.__props[r],i=e.__renderProp(a[0],a[1]);t+=i}if(e.__style){var i=e.__match(!0);i&&(t=t.indexOf(' style="')>1?t.replace(/ style="[^"]*"/,' style="'+i+'"'):t+' style="'+i+'"')}if(t+=' migi-uid="'+e.__uid+'"',e.__checkListener(),e.__selfClose)return t+"/>";if(t+=">",e.props.dangerouslySetInnerHTML){var i=e.props.dangerouslySetInnerHTML;i=i instanceof j["default"]?i.toSourceString():Array.isArray(i)?A["default"].joinSourceArray(i):A["default"].stringify(i),t+=i}else t+=e.__renderChildren();return t+="</"+e.name+">"}},{key:"preString",value:function(){for(var e=this,t=0,r=e.__props.length;r>t;t++){var n=e.__props[t];e.__renderProp(n[0],n[1])}e.__style&&e.__match(!0),e.__checkListener(),e.__renderChildren()}},{key:"isFirst",value:function(e){if(this.parent instanceof M["default"])return!0;e=e||this.parent.children;for(var r=0,n=e.length;n>r;r++){var a=e[r];if(Array.isArray(a)&&a.length)return this.isFirst(a);if(a==this)return!0;if(a instanceof t)return!1;if(a instanceof j["default"]&&(a=a.v,Array.isArray(a)&&a.length))return this.isFirst(a)}}},{key:"isLast",value:function(e){if(this.parent instanceof M["default"])return!0;e=e||this.parent.children;for(var r=e.length-1;r>=0;r--){var n=e[r];if(Array.isArray(n)&&n.length)return this.isLast(n);if(n==this)return!0;if(n instanceof t)return!1;if(n instanceof j["default"]&&(n=n.v,Array.isArray(n)&&n.length))return this.isLast(n)}}},{key:"isEmpty",value:function(){return p(this.children)}},{key:"isEnabled",value:function(){return!this.__cache.disabled}},{key:"isDisabled",value:function(){return this.__cache.disabled}},{key:"isChecked",value:function(){return this.__cache.checked}},{key:"prev",value:function(){var e={};return y(this.parent.children,this,e,function(t){e.prev=t}),e.prev}},{key:"prevAll",value:function(e){var t={prev:[]};return y(this.parent.children,this,t,function(r){(e&&!W["default"].nci(e,r)||!e)&&t.prev.push(r)}),t.prev}},{key:"next",value:function(){var e={};return g(this.parent.children,this,e,function(t){e.next=t,e.done=!0}),e.next}},{key:"nextAll",value:function(e){var t={next:[]};return g(this.parent.children,this,t,function(r){(e&&!W["default"].nci(e,r)||!e)&&t.next.push(r)}),t.next}},{key:"isOnly",value:function(){return 1==this.siblings().length}},{key:"isOnlyOfType",value:function(e){for(var t=this,r=t.siblings(),n=0,a=r.length;a>n;n++){var i=r[n];if(i!=t&&!W["default"].nci(e,i))return!1}return!0}},{key:"isFirstOfType",value:function(e){for(var t=this.prevAll(e),r=0,n=t.length;n>r;r++)if(!W["default"].nci(e,t[r]))return!1;return!0}},{key:"isLastOfType",value:function(e){for(var t=this.nextAll(e),r=0,n=t.length;n>r;r++)if(!W["default"].nci(e,t[r]))return!1;return!0}},{key:"siblings",value:function(){var e=this.parent,t=m(e.children);return t}},{key:"getIdx",value:function(e){var t=this.siblings(),r=t.indexOf(this);return r>-1?e?t.length-r-1:r:-1}},{key:"getIdxOfType",value:function(e,t){var r=t?this.nextAll(e):this.prevAll(e);t?r.unshift(this):r.push(this);var n=r.indexOf(this);return n>-1?t?r.length-n-1:n:-1}},{key:"closest",value:function(e){for(var t=this;t&&t!=this.top;){if(!W["default"].nci(e,t))return t;t=t.parent}}},{key:"__renderProp",value:function(e,t){var r=this,n="";if(/^on[a-zA-Z]/.test(e))r.__renderPropEventDelay=r.__renderPropEventDelay||[],r.__renderPropEventDelay.push({k:e.slice(2).toLowerCase(),v:t});else if(t instanceof j["default"]){if("dangerouslySetInnerHTML"==e)return"";var a=t.toString(!0);"className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=a;var i=U["default"].special(r.name,e);switch(i){case U["default"].RENDER_EXIST:t.v&&(n=" "+e+'="'+a+'"');break;case U["default"].RENDER_DOM:r.once(k["default"].DOM,function(){r.__updateAttr(e,t)});break;default:n=" "+e+'="'+a+'"'}}else{var a=Array.isArray(t)?A["default"].joinSourceArray(t):A["default"].stringify(t);if("dangerouslySetInnerHTML"==e)return"";"className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=a;var i=U["default"].special(r.name,e);switch(i){case U["default"].RENDER_EXIST:t&&(n=" "+e+'="'+A["default"].encodeHtml(a,!0)+'"');break;case U["default"].RENDER_DOM:r.once(k["default"].DOM,function(){r.__updateAttr(e,t)});break;default:n=" "+e+'="'+A["default"].encodeHtml(a,!0)+'"'}}if(r.__style)switch(e){case"class":case"id":n=" migi-"+n.slice(1)}return n}},{key:"__renderChildren",value:function(){for(var e=this,t="",r=0,n=e.children.length;n>r;r++)t+=_(e.children[r]);return t}},{key:"__checkListener",value:function(){var e=this;if("input"==e.name){if(e.props.hasOwnProperty("value")){var t=e.props.value;t instanceof j["default"]&&e.once(k["default"].DOM,function(){function r(e){q["default"](e);var r=e.target.value;t.setV(r);var n=t.k;0==n.indexOf("model.")?t.context.model[n.slice(6)]=r:t.context[n]=r}var n=e.__cache.type||"";switch(n.toLowerCase()){case"checkbox":case"radio":case"range":case"color":e.__addListener("change",r);break;default:e.__addListener(["input","paste","cut","change"],r)}})}}else if("select"==e.name){if(e.props.hasOwnProperty("value")){var t=e.props.value;t instanceof j["default"]&&e.once(k["default"].DOM,function(){function r(e){q["default"](e);var r=e.target.value;t.setV(r);var n=t.k;0==n.indexOf("model.")?t.context.model[n.slice(6)]=r:t.context[n]=r}e.__addListener("change",r)})}}else if("textarea"==e.name&&1==e.children.length){var r=e.children[0];r instanceof j["default"]&&e.once(k["default"].DOM,function(){function t(e){q["default"](e);var t=e.target.value;r.setV(t);var n=r.k;r.context[n]=t}e.__addListener(["input","paste","cut","change"],t)})}e.__renderPropEventDelay&&(e.__renderPropEventDelay.forEach(function(t){e.once(k["default"].DOM,function(){e.__addEvt(t.k,t.v)})}),e.__renderPropEventDelay=null)}},{key:"__addEvt",value:function(e,t){var r=this;r.__addListener(e,function(e){q["default"](e);var n=e.target,a=n.getAttribute("migi-uid"),i=Y["default"].get(a);if(t instanceof S["default"]&&A["default"].isFunction(t.cb))return t.cb.call(t.context,e,r,i);if(A["default"].isFunction(t))return t(e,r,i);if(Array.isArray(t)){var o;return t.forEach(function(t,n){var a=t[1],u=K["default"](e,t[0],r);u[0]&&(a instanceof S["default"]&&A["default"].isFunction(a.cb)?n?a.cb.call(a.context,e,r,u[1],i):o=a.cb.call(a.context,e,r,u[1],i):A["default"].isFunction(a)&&(n?a(e,r,u[1],i):o=a(e,r,u[1],i)))}),o}})}},{key:"__addListener",value:function(e,t){var r=this;if(Array.isArray(e))for(var n=0,a=e.length;a>n;n++)r.__addListener(e[n],t);else{r.__listener=r.__listener||[],"tap"==e&&(e="click");var i=r.element;if(oe.hasOwnProperty(e))return void G["default"](this,e,t,r.__listener);if(r.__listener.push([e,t]),i.addEventListener(te["default"][e]||e,t),"load"==e&&i.complete){var o=document.createEvent("Event");o.initEvent("load",!0,!0),i.dispatchEvent(o)}}}},{key:"__removeListener",value:function(){var e=this;if(e.__listener){for(var t=e.element,r=e.__listener.length-1;r>=0;r--){var n=e.__listener[r];t.removeEventListener(n[0],n[1])}e.__listener=null}}},{key:"find",value:function(e){if(A["default"].isFunction(e))return s(e,this.children);if(this.element){var t=this.element.querySelector(u(e)),r=t.getAttribute("migi-uid");return Y["default"].get(r)||null}return null}},{key:"findAll",value:function(e){if(A["default"].isFunction(e))return l(e,this.children);var t=[];if(this.element){var r=this.element.querySelectorAll(u(e));Array.from(r).forEach(function(e){if(e){var r=e.getAttribute("migi-uid"),n=Y["default"].get(r)||null;n&&t.push(n)}})}return t}},{key:"__onDom",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);var e=this,r={start:0,first:!0};e.__checkBlank(e.children,r),(r.empty||r.first)&&e.__insertBlank(r.start)}},{key:"__checkBlank",value:function(e,t){var r=this;if(Array.isArray(e)&&e.length)for(var n=0,a=e.length;a>n;n++)r.__checkBlank(e[n],t);else if(A["default"].isDom(e))t.empty&&r.__insertBlank(t.start),t.start++,t.prev==B["default"].TEXT&&t.start++,t.prev=B["default"].DOM,t.empty=!1,t.first=!1,e.emit(k["default"].DOM);else if(e instanceof j["default"])r.__checkBlank(e.v,t);else if(d(e)){if(t.prev==B["default"].TEXT)return;t.empty=!0,t.prev=B["default"].TEXT,t.first=!1}else t.empty=!1,t.prev=B["default"].TEXT,t.first=!1}},{key:"__insertBlank",value:function(e){var t=document.createTextNode(""),r=this.element,n=r.childNodes,a=n.length;!a||e>=a?r.appendChild(t):r.insertBefore(t,n[e])}},{key:"__onData",value:function(e,t){var r=this;if(r.dom){for(var n=0,a=r.__props.length;a>n;n++){var i=r.__props[n],o=i[0];if(i=i[1],i instanceof j["default"]){var u=!1,s=Array.isArray(e)?1:0,l=Array.isArray(i.k)?2:0;switch(s|l){case 0:u=e==i.k;break;case 1:u=e.indexOf(i.k)>-1;break;case 2:u=i.k.indexOf(e)>-1;break;case 3:for(var f={},c=e.length-1;c>=0;c--)f[e[c]]=!0;for(var d=i.k,c=0,a=d.length;a>c;c++)if(f.hasOwnProperty(d[c])){u=!0;break}}if(u){var _=i.v;i.update(_)&&r.__updateAttr(o,i.v)}}}for(var h={start:0,range:[],history:[],first:!0},v=r.children,p=0,a=v.length;a>p;p++){var y=v[p];h.index=[p],r.__checkObj(e,y,h,t)}if(h.range.length){if("textarea"==r.__name)return void r.__updateAttr("value",C["default"].value(h.range[0],r.children));for(var n=0,a=h.range.length;a>n;n++)C["default"].update(h.range[n],r.children,r.element)}}}},{key:"__checkObj",value:function(e,r,n,a){var i=this;if(r instanceof j["default"]){var o=!1,u=Array.isArray(e)?1:0,s=Array.isArray(r.k)?2:0;switch(u|s){case 0:o=e==r.k;break;case 1:o=e.indexOf(r.k)>-1;
break;case 2:o=r.k.indexOf(e)>-1;break;case 3:for(var l={},f=e.length-1;f>=0;f--)l[e[f]]=!0;for(var c=r.k,f=0,d=c.length;d>f;f++)if(l.hasOwnProperty(c[f])){o=!0;break}}if(o){var _=r.v;r.update(_)?F["default"].diff(this,this.element,_,r.v,n,ie["default"].optimizeArrayDiff&&r.single&&a):i.__checkObj(e,r.v,n,a)}else i.__checkObj(e,r.v,n,a)}else if(A["default"].isDom(r))r instanceof t?r.__onData(e,a):r.__notifyBindProperty(e),n.start++,n.first||n.prev!=B["default"].TEXT||n.start++,n.state=B["default"].DOM_TO_DOM,n.prev=B["default"].DOM;else if(Array.isArray(r))if(r.length){n.index.push(0);for(var f=0,d=r.length;d>f;f++){var h=r[f];n.index[n.index.length-1]=f,i.__checkObj(e,h,n,a)}n.index.pop()}else F["default"].checkText(this.element,r,n),(n.first||n.prev==B["default"].DOM)&&F["default"].recordRange(n),n.state=B["default"].TEXT_TO_TEXT,n.prev=B["default"].TEXT;else F["default"].checkText(this.element,r,n),(n.first||n.prev==B["default"].DOM)&&F["default"].recordRange(n),n.state=B["default"].TEXT_TO_TEXT,n.prev=B["default"].TEXT;n.first=!1}},{key:"__updateAttr",value:function(e,t){return"dangerouslySetInnerHTML"==e?((null===t||void 0===t)&&(t=""),this.element.innerHTML=A["default"].stringify(t),void this.__insertBlank(0)):(U["default"].update(this.name,this.element,e,t,this.__style),this.__cache[e]=t,void(this.__style&&this.__updateStyle()))}},{key:"__match",value:function(e){var t=this.__cache.style||"";this.__initCI();var r=R["default"](this.__names,this.__classes,this.__ids,this.__style||{"default":{}},this,e);return r+t}},{key:"__initCI",value:function(){var e=this.parent;e instanceof t?(this.__classes=e.__classes.slice(),this.__ids=e.__ids.slice()):(this.__classes=[],this.__ids=[]),this.__classes.push(W["default"].splitClass(this.__cache["class"])),this.__ids.push(W["default"].preId(this.__cache.id))}},{key:"__updateStyle",value:function(e){var r=this.__match(e);if(this.element.getAttribute("style")!=r&&this.element.setAttribute("style",r),!e)for(var n=this.children.length-1;n>=0;n--){var a=this.children[n];a instanceof t&&a.__updateStyle()}}},{key:"__init",value:function(e,t){var r=this;r.__selfClose=ne["default"].hasOwnProperty(e),h(t,r)}},{key:"__reset",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__reset",this).call(this,e,r,n,a),this.__init(r,a),this.__hasDes=!1,this}},{key:"__destroy",value:function(){return(this.__onHover||this.__outHover)&&this.element&&(this.element.removeEventListener("mouseenter",this.__onHover),this.element.removeEventListener("mouseleave",this.__outHover)),this.__hash={},this.__cache=null,this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this.__renderPropEventDelay=null,this}},{key:"clean",value:function(){b(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clean",this).call(this),this.__renderPropEventDelay=null,this.__removeListener(),this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1}},{key:"names",get:function(){return this.__names||(this.__names=[])}},{key:"element",get:function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.__uid+'"]'))}},{key:"style",get:function(){return this.__style},set:function(e){var r=this;r.__style=e,r.parent instanceof t?r.__names=r.parent.names.slice():r.__names=[],r.__names.push(r.name);for(var n=0,a=r.children.length;a>n;n++)v(r.children[n],e)}}]),t}(E["default"]);t["default"]=ue},function(e,t){"use strict";function r(e){return"undefined"!=typeof window?document.createElement(e):void 0}Object.defineProperty(t,"__esModule",{value:!0});var n=r("div"),a=r("table"),i=r("tbody"),o=r("tr"),u=r("ul"),s=r("dl"),l=r("select"),f=r("menu");t["default"]={NODE:n,getParent:function(e){switch(e){case"td":return o;case"tr":return i;case"tbody":case"thead":case"col":return a;case"li":return u;case"dt":case"dd":return s;case"option":return l;case"menuitem":return f;default:return n}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){3==e.target.nodeType&&(e.target=e.target.parentNode)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t["default"]={add:function(e,t){r[e]=t},del:function(e){var t=r[e];t&&(window.removeEventListener("mouseup",t,!0),window.removeEventListener("touchend",t,!0),window.removeEventListener("touchcancel",t,!0),window.removeEventListener("blur",t),window.removeEventListener("dragend",t),delete r[e])}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t-n>1){a(e,t,r,n+1);for(var i=0,o=r.length;o>i;i++)r.push(r[i]+"."+e[n])}return r.push("."+e[n]),r}function i(e,t){if("odd"==t){if(e%2==1)return!1}else if("even"==t){if(e%2==0)return!1}else if(/^\d+$/.test(t)){if(e!=t-1)return!1}else{for(var r=/(\d+)?n(?:\+(\d+))?/.exec(t),n=!1,a=0;a<=Math.ceil(e/r[1]);a++)if((r[1]||1)*a+(r[2]||0)==e+1){n=!0;break}if(!n)return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var o=r(14),u=n(o);t["default"]={splitClass:function(e){return e=(e||"").trim(),e?(e=e.split(/\s+/),u["default"](e,function(e,t){return e>t}),e):""},preId:function(e){return(void 0===e||null===e)&&(e=""),e=e.toString().trim(),e?"#"+e:""},combo:function s(e,t,r,n){var i=0,o=0;if(e&&e.length){var u=a(e,e.length);o=1}var s=[t];r&&(i=2);var l=n.hasOwnProperty("_*."),f=n.hasOwnProperty("_*#"),c=n.hasOwnProperty("_*.#");return n.hasOwnProperty("_*")&&s.push("*"),o&&u.forEach(function(e){s.push(e),s.push(t+e),l&&s.push("*"+e),i&&(s.push(e+r),s.push(t+e+r),c&&s.push("*"+e+r))}),i&&(s.push(r),s.push(t+r),f&&s.push("*"+r)),s},pseudo:function l(e,t,r){for(var n=0,a=e.length;a>n;n++){var l=e[n];switch(l){case"hover":if(!t.__hover)return!1;break;case"active":if(!t.__active)return!1;break;case"first-child":if(!t.isFirst())return!1;break;case"last-child":if(!t.isLast())return!1;break;case"empty":if(!t.isEmpty())return!1;break;case"enabled":if(!t.isEnabled())return!1;break;case"disabled":if(!t.isDisabled())return!1;break;case"checked":if(!t.isChecked())return!1;break;case"only-child":if(!t.isOnly())return!1;break;case"only-of-type":if(!t.isOnlyOfType(r))return!1;break;case"first-of-type":if(!t.isFirstOfType(r))return!1;break;case"last-of-type":if(!t.isLastOfType(r))return!1;break;default:if(0==l.indexOf("nth-child")){var o=t.getIdx(),u=/\((.+)\)/.exec(l)[1];if(!i(o,u))return!1}else if(0==l.indexOf("nth-last-child")){var o=t.getIdx(!0),u=/\((.+)\)/.exec(l)[1];if(!i(o,u))return!1}else if(0==l.indexOf("nth-of-type")){var o=t.getIdxOfType(r),u=/\((.+)\)/.exec(l)[1];if(!i(o,u))return!1}else{if(0!=l.indexOf("nth-last-of-type"))return!1;var o=t.getIdxOfType(r,!0),u=/\((.+)\)/.exec(l)[1];if(!i(o,u))return!1}}}return!0},attr:function f(e,t){var r=!0;e:for(var n=0,a=e.length;a>n;n++){var f=e[n];if(1==f.length){if(!t.__cache.hasOwnProperty(f[0])){r=!1;break}}else{var i=t.__cache[f[0]];if(void 0===i){r=!1;break}var o=f[2];switch(f[1]){case"=":r=i==o;break;case"^=":r=0==i.indexOf(o);break;case"$=":r=i.length>=o.length&&i.indexOf(o)==i.length-o.length;break;case"~=":var u=new RegExp("\\b"+o+"\\b");r=u.test(i);break;case"*=":r=i.indexOf(o)>-1;break;case"|=":r=0==i.indexOf(o)||0==i.indexOf(o+"-");break;default:r=!1;break e}if(!r)break}}return r},nci:function(e,t){var r=/^[a-z\d]+/i.exec(e);if(r&&r[0].toUpperCase()!=t.__name.toUpperCase())return!0;var n=e.match(/\.[a-z\d_-]+/gi);if(n&&t.__cache["class"])for(var a=n.length-1;a>=0;a--)if(!new RegExp("\\b"+n[a].slice(1)+"\\b","i").test(t.__cache["class"]))return!0;var i=/#[a-z\d_-]+/i.exec(e);return i&&t.__cache.id&&i[0].toUpperCase()!=t.__cache.id.toUpperCase()?!0:void 0}}},function(e,t){"use strict";function r(e,t,a,i){if(!(t>=a)){for(var o=t,u=a,s=o,l=e[s],f=!0;u>o;)if(f){for(;u>o;u--)if(i.call(e,l,e[u])){n(e,s,u),s=u,f=!f,o++;break}}else for(;u>o;o++)if(i.call(e,e[o],l)){n(e,s,o),s=o,f=!f,u--;break}r(e,t,s-1,i),r(e,s+1,a,i)}}function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){if(!Array.isArray(e))throw new Error("quick sort need an array");return e.length<2?e:(t=t||function(){},r(e,0,e.length-1,t),e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={TEXT:1,DOM:2,DOM_TO_TEXT:3,DOM_TO_DOM:4,TEXT_TO_DOM:5,TEXT_TO_TEXT:6,ADD_TEXT:7,ADD_DOM:8,DEL_TEXT:9,DEL_DOM:10}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(1),l=n(s),f=r(4),c=n(f),d=function(e){function t(){var e;a(this,t);for(var r=arguments.length,n=Array(r),o=0;r>o;o++)n[o]=arguments[o];var u=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return u.__handler={},u.__timeout,u.__timecb,u}return o(t,e),u(t,[{key:"__data",value:function(e){var t=this;t.__dom&&(t.__canData=!0),Array.isArray(e)||(e=[e]),e.forEach(function(e){t.__handler[e]=!0}),t.__ccb||(t.__ccb=!0,t.__timeout=setTimeout(t.__timecb=function(){t.__ccb=!1;var e=t.__handler,r=Object.keys(e);t.__handler={},r.length&&(t.__onData(r),t.emit(l["default"].DATA,r,r.map(function(e){return t[e]})))},0))}},{key:"flush",value:function(){this.__timeout&&(clearTimeout(this.__timeout),this.__ccb=!1,this.__timecb())}}]),t}(c["default"]);t["default"]=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),i=n(a),o=0,u=1,s=2,l=1,f=2,c={button:{disabled:l},input:{autofocus:l,checked:l,defaultChecked:f,defaultchecked:f,defaultValue:f,defaultvalue:f,disabled:l,multiple:l,readOnly:l,readonly:l,required:l},link:{disabled:l},option:{defaultSelected:f,defaultselected:f,disabled:l,selected:l,text:f},select:{autofocus:l,disabled:l,multiple:l,selectedIndex:f,selectedindex:f},textarea:{autofocus:l,defaultValue:f,defaultvalue:f,disabled:l,readOnly:l,readonly:l},audio:{autoplay:l,controls:l,loop:l,muted:l},video:{autoplay:l,controls:l,loop:l,muted:l}},d={button:{disabled:s},input:{autofocus:s,checked:s,defaultChecked:s,defaultchecked:s,defaultValue:u,defaultvalue:u,disabled:s,readOnly:s,readonly:s,required:s,value:u},link:{checked:s},option:{defaultSelected:s,defaultselected:s,disabled:s,selected:s,text:u},select:{autofocus:s,disabled:s,required:s,selectedIndex:o,selectedindex:o,value:u},textarea:{autofocus:s,defaultValue:u,defaultvalue:u,disabled:s,readOnly:s,readonly:s,required:s,value:u},audio:{autoplay:s,controls:s,loop:s,muted:s},video:{autoplay:s,controls:s,loop:s,muted:s}},_={defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defautlValue",readonly:"readOnly",selectindex:"selectIndex"};t["default"]={RENDER_EXIST:l,RENDER_DOM:f,special:function(e,t){if(c.hasOwnProperty(e)){var r=c[e];if(r.hasOwnProperty(t))return r[t]}},update:function(e,t,r,n,a){if(d.hasOwnProperty(e)){var l=d[e];if(l.hasOwnProperty(r)){switch(l=l[r],r=_[r]||r,l){case o:n=parseInt(n),t[r]=n||0;break;case u:n=i["default"].stringify(n),t[r]=n;break;case s:n=!!n,t[r]=n}return}}switch(r){case"className":r="class";break;case"htmlFor":r="for"}if(a)switch(r){case"id":case"class":r="migi-"+r}null===n||void 0===n?t.removeAttribute(r):"id"==r?t[r]=n:"class"==r?t.className=n:t.setAttribute(r,n)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=4096,n=new Array(r),a={index:0,add:function(e){!e.__hasDes&&this.index<r&&(n[this.index++]=e,e.__hasDes=!0)},get:function(){return n[--this.index]}};t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){var n=e.target,a=l["default"].get(n.getAttribute("migi-uid"));if(!a.__dom)return[!1];if(a==r||!a)return[!1];var s=[],f=[],c=[];i(a,s,f,c);for(var d=a;d.parent&&d.parent!=r;)d=d.parent,i(d,s,f,c);for(u=!1,o(s.length-1,s,f,c,t,a);!u&&s.length;)a=a.parent,s.pop(),f.pop(),c.pop(),o(s.length-1,s,f,c,t,a);return[u,a]}function i(e,t,r,n){t.unshift(e.name),r.unshift(c["default"].splitClass(e.__cache["class"])),n.unshift(c["default"].preId(e.__cache.id))}function o(e,t,r,n,a,i){if(!u)for(var s=c["default"].combo(r[e],t[e],n[e],a),l=0,f=s.length;f>l;l++){var d=s[l];if(a.hasOwnProperty(d)){var _=a[d];if(e){o(e-1,t,r,n,_,i.parent);for(var h=e-2;h>=0;h--)o(h,t,r,n,_,i.parent)}if(_.hasOwnProperty("_v"))return void(u=!0);if(_.hasOwnProperty("_:")||_.hasOwnProperty("_[")){var v,p=function(a){if(a&&a.hasOwnProperty("_[")){var s=a["_["];s.forEach(function(a){var l=c["default"].attr(a[0],i);l&&(s=a[1],e&&o(e-1,t,r,n,s,i.parent),s.hasOwnProperty("_v")&&(u=!0))})}};_.hasOwnProperty("_:")&&(v=_["_:"],v.forEach(function(a){var s=c["default"].pseudo(a[0],i,d);s&&(v=a[1],e&&o(e-1,t,r,n,v,i.parent),v.hasOwnProperty("_v")&&(u=!0))})),p(_),p(v)}if(_.hasOwnProperty("_>")){var v=_["_>"];o(e-1,t,r,n,v,i.parent)}if(_.hasOwnProperty("_+")){var v=_["_+"],y=i.prev();y&&Object.keys(v).forEach(function(a){return c["default"].nci(a,y)?void 0:v[a].hasOwnProperty("_v")?void(u=!0):void o(e-1,t,r,n,v[a],i.parent)})}if(_.hasOwnProperty("_~")){var v=_["_~"],g=i.prevAll();if(g.length)for(var m=!1,l=g.length-1;l>=0;l--){var y=g[l];if(Object.keys(v).forEach(function(a){if(!c["default"].nci(a,y)){if(v[a].hasOwnProperty("_v"))return void(u=!0);m=!0,o(e-1,t,r,n,v[a],i.parent)}}),m)break}}}}}Object.defineProperty(t,"__esModule",{value:!0});var u,s=r(5),l=n(s),f=r(13),c=n(f);t["default"]=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={optimizeArrayDiff:!0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r,n,a,o){var s=[];if(i(e.length-1,e,t,r,n["default"],a,s,o),n.media&&(n.media.forEach(function(n){var l=!1;n.query.forEach(function(f){if(!l)for(var c=0,d=f.length;d>c;c++){var _=f[c];if(Array.isArray(_)){var h=_[0].replace(/^-[a-z]+-/i,"").replace(/^mso-/i,"").toLowerCase(),v=_[1];if(/(px|\d)$/.test(v))switch(v=v.replace(/px$/,""),h){case"width":case"height":var p=u(h);if(p==v)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"min-width":case"max-width":case"min-height":case"max-height":var p=u(h.slice(4));if(0==h.indexOf("min-")){if(p>=v)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o)}else if(v>=p)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"device-width":case"device-height":var p=window.screen[h.slice(7)];p==v&&(l=!0,i(e.length-1,e,t,r,n.style,a,s,o));break;case"min-device-width":case"min-device-height":case"max-device-width":case"max-device-height":var p=window.screen[h.slice(11)];if(0==h.indexOf("min-")){if(p>=v)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o)}else if(v>=p)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"aspect-ratio":var y=u("width"),g=u("height"),p=y/g,m=v.split("/");if(m=m[0]/m[1],p==m)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"min-aspect-ratio":case"max-aspect-ratio":var y=u("width"),g=u("height"),p=y/g,m=v.split("/");if(m=m[0]/m[1],0==h.indexOf("min-")){if(p>=v)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o)}else if(v>=p)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"device-aspect-ratio":var y=window.screen.width,g=window.screen.height,p=y/g,m=v.split("/");if(m=m[0]/m[1],p==m)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"min-device-aspect-ratio":case"max-device-aspect-ratio":var y=window.screen.width,g=window.screen.height,p=y/g,m=v.split("/");if(m=m[0]/m[1],0==h.indexOf("min-")){if(p>=v)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o)}else if(v>=p)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"device-pixel-ratio":var p=window.devicePixelRatio;if(p==v)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o);break;case"min-device-pixel-ratio":case"max-device-pixel-ratio":var p=window.devicePixelRatio;if(0==h.indexOf("min-")){if(p>=v)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o)}else if(v>=p)return l=!0,void i(e.length-1,e,t,r,n.style,a,s,o)}}}})}),o)){var l,f=function(){l&&clearTimeout(l),l=setTimeout(function(){_["default"].get(a.__uid).__updateStyle()},100)};window.addEventListener("resize",f),v["default"].add(a.__uid,f)}c["default"](s,function(e,t){var r=e[2],n=t[2];if(r==n)return e[0]>t[0];for(var a=0;3>a;a++)if(r[a]!=n[a])return r[a]>n[a];return e[0]>t[0]});var d="";return s.forEach(function(e){d+=e[1]+";"}),d}function i(e,t,r,n,a,u,s,f,c){for(var d=y["default"].combo(r[e],t[e],n[e],a),h=0,p=d.length;p>h;h++){var g=d[h];if(a.hasOwnProperty(g)){var m=a[g];if(e&&(i(e-1,t,r,n,m,u.parent,s,f),!c))for(var O=e-2;O>=0;O--)i(O,t,r,n,m,u.parent,s,f);if(m.hasOwnProperty("_v")&&o(s,m),f&&m.hasOwnProperty("_:")&&m["_:"].forEach(function(e){e[0].forEach(function(e){var t=u.__uid;switch(e){case"hover":var r=function(){_["default"].get(t).__hover=!0,_["default"].get(t).__updateStyle()},n=function(){_["default"].get(t).__hover=!1,_["default"].get(t).__updateStyle()},a=function(){u.element.addEventListener("mouseenter",r),u.element.addEventListener("mouseleave",n)};u.__dom?a():u.once(l["default"].DOM,a),u.__onHover=r,u.__outHover=n;break;case"active":var i=function(){_["default"].get(t).__active=!0,_["default"].get(t).__updateStyle()},o=function(){_["default"].get(t).__active=!1,_["default"].get(t).__updateStyle()},s=function(){u.element.addEventListener("mousedown",i),window.addEventListener("mouseup",o,!0),window.addEventListener("touchend",o,!0),window.addEventListener("touchcancel",o,!0),window.addEventListener("blur",o),window.addEventListener("dragend",o)};u.__dom?s():u.once(l["default"].DOM,s),v["default"].add(t,o)}})}),m.hasOwnProperty("_:")||m.hasOwnProperty("_[")){var b,T=function(a){if(a&&a.hasOwnProperty("_[")){var l=a["_["];l.forEach(function(a){var c=y["default"].attr(a[0],u);c&&(l=a[1],e&&i(e-1,t,r,n,l,u.parent,s,f),l.hasOwnProperty("_v")&&o(s,l))})}};m.hasOwnProperty("_:")&&(b=m["_:"],b.forEach(function(a){var l=y["default"].pseudo(a[0],u,g);l&&(b=a[1],e&&i(e-1,t,r,n,b,u.parent,s,f),b.hasOwnProperty("_v")&&o(s,b))})),T(m),T(b)}if(m.hasOwnProperty("_>")){var b=m["_>"];i(e-1,t,r,n,b,u.parent,s,!1,c)}if(m.hasOwnProperty("_+")){var b=m["_+"],k=u.prev();k&&Object.keys(b).forEach(function(a){y["default"].nci(a,k)||(b[a].hasOwnProperty("_v")&&o(s,b[a]),i(e-1,t,r,n,b[a],u.parent,s,!1,c))})}if(m.hasOwnProperty("_~")){var b=m["_~"],w=u.prevAll();if(w.length)for(var E=!1,h=w.length-1;h>=0;h--){var k=w[h];if(Object.keys(b).forEach(function(a){y["default"].nci(a,k)||(b[a].hasOwnProperty("_v")&&o(s,b[a]),E=!0,i(e-1,t,r,n,b[a],u.parent,s,!1,c))}),E)break}}}}}function o(e,t){t._v.forEach(function(r){r[2]=t._p,e.push(r)})}function u(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return window["inner"+t]||document.documentElement["client"+t]||document.body["client"+t]}Object.defineProperty(t,"__esModule",{value:!0});var s=r(1),l=n(s),f=r(14),c=n(f),d=r(5),_=n(d),h=r(12),v=n(h),p=r(13),y=n(p);t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){for(var n="",o=e.shift(),u=t.length;u>o;o++){var s=t[o];if(e.length){if(n+=s instanceof d["default"]?a(e,s.v,r):a(e,s,r),r.end)break}else if(s instanceof d["default"])if(Array.isArray(s.v)){if(n+=i(s.v,r),r.end)break}else{if(s.v instanceof l["default"]){r.end=!0;break}n+=s.toSourceString()}else{if(s instanceof l["default"]){r.end=!0;break}if(Array.isArray(s)){if(n+=i(s,r),r.end)break}else n+=h["default"].stringify(s)}}return n}function i(e,t){for(var r="",n=0,a=e.length;a>n;n++){var o=e[n];if(t.end)break;if(Array.isArray(o))r+=i(o,t);else{if(o instanceof l["default"]){t.end=!0;break}r+=h["default"].stringify(o)}}return r}function o(e,t,r){var n=a(e.index,t,{}),i=r.childNodes,o=i[e.start];if(1!=o.nodeType){var u=o.textContent;n!=u&&(o.textContent=n||"")}}function u(e,t){return a(e.index,t,{})}Object.defineProperty(t,"__esModule",{value:!0});var s=r(3),l=n(s),f=r(9),c=(n(f),r(7)),d=n(c),_=r(2),h=n(_),v=r(10),p=(n(v),r(15));n(p);t["default"]={update:o,value:u}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=r(8),s=n(u),l=r(16),f=n(l),c=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__handler={},e.__ccb=!1,e.__timeout,e.__timecb,e}return o(t,e),t}(s["default"]);c.prototype.__data=f["default"].prototype.__data,t["default"]=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Array.prototype,n=Object.create(r);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=r[e];Object.defineProperty(n,e,{value:function(){for(var r=arguments.length,n=new Array(r);r--;)n[r]=arguments[r];var a=t.apply(this,n);return Array.isArray(this.__cb__)&&this.__cb__.forEach(function(t){"sort"==e||"reverse"==e?t():t({method:e,args:n})}),a}})}),t["default"]=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r,n,a){var i;if(a){var o=E["default"].stringify(n);i=document.createTextNode(o||""),e.replaceChild(i,t[r])}else{if(i=n.toString(),1==t[r].nodeType)t[r].insertAdjacentHTML("afterend",i),e.removeChild(t[r]);else{var u=M["default"].getParent(n.__name);u.innerHTML=i,e.replaceChild(u.firstChild,t[r])}n.emit(m["default"].DOM)}}function i(e,t,r,n,a){var i;if(a){var o=E["default"].stringify(n);i=document.createTextNode(o||""),r>=t.length?e.appendChild(i):e.insertBefore(i,t[r])}else{if(i=n.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",i);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("beforebegin",i);else{var u=M["default"].getParent(n.name);u.innerHTML=i,e.insertBefore(u.firstChild,t[r])}n.emit(m["default"].DOM)}}function o(e,t,r,n,a,u){if(Array.isArray(r)){n.index.push(0);for(var s=0,l=Math.max(r.length,1);l>s;s++){var d=r[s];n.index[n.index.length-1]=s,o(e,t,d,n,a,u&&s==l-1)}n.index.pop()}else if(E["default"].isDom(r)){if(r.__parent=e,r.__top=e.top,r.style=e.style,C["default"].set(r),a.prev)a.prev==S["default"].TEXT&&n.start++,i(t,t.childNodes,n.start++,r);else{switch(n.state){case S["default"].DOM_TO_TEXT:case S["default"].TEXT_TO_TEXT:c(n),n.start++;break;case S["default"].TEXT_TO_DOM:break;case S["default"].DOM_TO_DOM:}i(t,t.childNodes,n.start++,r)}a.prev=S["default"].DOM}else{if(a.prev)a.prev==S["default"].DOM&&(i(t,t.childNodes,n.start,r,!0),f(n)),c(n);else switch(n.state){case S["default"].DOM_TO_TEXT:case S["default"].TEXT_TO_TEXT:c(n);break;case S["default"].TEXT_TO_DOM:i(t,t.childNodes,n.start,r,!0),f(n),c(n);break;case S["default"].DOM_TO_DOM:i(t,t.childNodes,n.start,r,!0),f(n)}a.prev=S["default"].TEXT}if(u){switch(n.state){case S["default"].TEXT_TO_TEXT:a.prev==S["default"].DOM&&(n.state=S["default"].TEXT_TO_DOM);break;case S["default"].DOM_TO_DOM:a.prev==S["default"].TEXT&&(n.state=S["default"].DOM_TO_TEXT);break;case S["default"].TEXT_TO_DOM:a.prev==S["default"].TEXT&&(n.state=S["default"].TEXT_TO_TEXT);break;case S["default"].DOM_TO_TEXT:a.prev==S["default"].DOM&&(n.state=S["default"].DOM_TO_DOM)}n.prev=a.prev}}function u(e,t,r,n,a){if(Array.isArray(t))for(var i=0,o=t.length;o>i;i++)u(e,t[i],r,n,a&&i==o-1);else if(E["default"].isDom(t)){switch(r.state){case S["default"].DOM_TO_TEXT:case S["default"].TEXT_TO_TEXT:s(e,r.start+1);break;case S["default"].TEXT_TO_DOM:case S["default"].DOM_TO_DOM:s(e,r.start)}n.prev=S["default"].DOM,E["default"].getAllChildrenElement(t).forEach(function(e){j["default"].add(e.__destroy())}),j["default"].add(t.__destroy())}else{if(n.prev){if(n.prev==S["default"].DOM)switch(r.state){case S["default"].DOM_TO_TEXT:s(e,r.start+1),c(r);break;case S["default"].TEXT_TO_TEXT:s(e,r.start+1),c(r);break;case S["default"].DOM_TO_DOM:s(e,r.start);break;case S["default"].TEXT_TO_DOM:s(e,r.start)}}else switch(r.state){case S["default"].DOM_TO_TEXT:s(e,r.start+1),c(r);break;case S["default"].TEXT_TO_TEXT:c(r);break;case S["default"].DOM_TO_DOM:s(e,r.start);break;case S["default"].TEXT_TO_DOM:}n.prev=S["default"].TEXT}if(a)switch(r.state){case S["default"].TEXT_TO_TEXT:n.prev==S["default"].DOM?r.state=S["default"].DOM_TO_TEXT:c(r);break;case S["default"].DOM_TO_DOM:n.prev==S["default"].TEXT&&(r.state=S["default"].TEXT_TO_DOM);break;case S["default"].TEXT_TO_DOM:n.prev==S["default"].DOM&&(r.state=S["default"].DOM_TO_DOM);break;case S["default"].DOM_TO_TEXT:n.prev==S["default"].TEXT&&(r.state=S["default"].TEXT_TO_TEXT)}}function s(e,t){e.childNodes[t]&&e.removeChild(e.childNodes[t])}function l(e,t){return(void 0===e||null===e)&&(e=""),(void 0===t||null===t)&&(t=""),e.toString()==t.toString()}function f(e){e.history=e.index.slice()}function c(e){var t=e.start;e.range.length&&e.range[e.range.length-1].start==t||e.range.push({start:t,index:e.history.slice()})}function d(e,t){if(e!=t){for(var r=e.element,n=["__uid","__element","__parent","__top","__style","__dom","__names"],a=n.length-1;a>=0;a--){var i=n[a];t[i]=e[i]}C["default"].set(t);var o={};for(a=e.__props.length-1;a>=0;a--){var u=e.__props[a],i=u[0],s=u[1];if(0!=i.indexOf("on")||"on"==i)if(o[i]=!0,t.props.hasOwnProperty(i)){var l=t.props[i];l!==s&&t.__updateAttr(i,l),t.__cache[i]=l}else t.__updateAttr(i,null),delete t.__cache[i]}e.__removeListener();var f=t.__props.length,c=function(){u=t.__props[a],i=u[0];var e=u[1];0==i.indexOf("on")&&"on"!=i?(d=i.slice(2).toLowerCase(),t.__addListener(d,function(r){r=r||window.event,F["default"](r);var n=r.target,a=n.getAttribute("migi-uid"),i=C["default"].get(a);e instanceof k["default"]?e.cb.call(e.context,r,t,i):E["default"].isFunction(e)?e(r,t,i):Array.isArray(e)&&e.forEach(function(e){var n=e[1];B["default"](r,e[0],t)&&(n instanceof k["default"]?n.cb.call(n.context,r,t,i):E["default"].isFunction(n)&&n(r,t,i))})})):o.hasOwnProperty(i)||t.__updateAttr(i,e)};for(a=0;f>a;a++){var u,i,d;c()}t.__style&&t.__updateStyle(!0);var _={start:0,index:[],range:[],first:!0};if(h(t,r,e.children,t.children,_),_.range.length){if("textarea"==t.__name)return void t.__updateAttr("value",A["default"].value(_.range[0],t.children));for(var a=0,f=_.range.length;f>a;a++)A["default"].update(_.range[a],t.children,r)}j["default"].add(e.__destroy())}}function _(e,t,r,n,a,i){i?p(e,t,r,n,a,i):h(e,t,r,n,a)}function h(e,t,r,n,s){var _=Array.isArray(r),v=Array.isArray(n);if(_&&v){var p=r.length,y=n.length,g=p?1:0,O=y?2:0;switch(s.index.push(0),g|O){case 0:s.state==S["default"].TEXT_TO_DOM&&i(t,t.childNodes,s.start++,n,!0),s.state=S["default"].TEXT_TO_TEXT,s.prev=S["default"].TEXT;break;case 1:h(e,t,r[0],n[0],s);for(var T={},k=1;p>k;k++)u(t,r[k],s,T,k==p-1);break;case 2:h(e,t,r[0],n[0],s);for(var T={},k=1;y>k;k++)s.index[s.index.length-1]=k,o(e,t,n[k],s,T,k==y-1);break;case 3:for(var k=0,w=Math.min(p,y);w>k;k++)s.index[s.index.length-1]=k,h(e,t,r[k],n[k],s);var T={};if(p>k)for(;p>k;k++)u(t,r[k],s,T,k==p-1);else if(y>k)for(;y>k;k++)s.index[s.index.length-1]=k,o(e,t,n[k],s,T,k==y-1)}s.index.pop()}else if(_){h(e,t,r[0],n,s);for(var T={},k=1,w=r.length;w>k;k++)u(t,r[k],s,T,k==w-1)}else if(v){s.index.push(0),h(e,t,r,n[0],s);for(var T={},k=1,w=n.length;w>k;k++)s.index[s.index.length-1]=k,o(e,t,n[k],s,T,k==w-1);s.index.pop()}else{var D=E["default"].isDom(r)?1:0,M=E["default"].isDom(n)?2:0,x=t.childNodes;switch(D|M){case 0:if(s.first)f(s),l(r,n)||c(s);else switch(s.state){case S["default"].DOM_TO_TEXT:t.removeChild(x[s.start+1]),c(s);break;case S["default"].TEXT_TO_DOM:i(t,x,s.start,n,!0),f(s),c(s);break;case S["default"].DOM_TO_DOM:f(s);case S["default"].TEXT_TO_TEXT:l(r,n)||c(s)}s.state=S["default"].TEXT_TO_TEXT,s.prev=S["default"].TEXT;break;case 1:if(r.__delRef(),s.first)a(t,x,s.start,n,!0),f(s);else switch(s.state){case S["default"].DOM_TO_TEXT:case S["default"].TEXT_TO_TEXT:c(s),t.removeChild(x[s.start+1]);break;case S["default"].TEXT_TO_DOM:case S["default"].DOM_TO_DOM:a(t,x,s.start,n,!0),f(s)}E["default"].getAllChildrenElement(r).forEach(function(e){j["default"].add(e.__destroy())}),j["default"].add(r.__destroy()),s.state=S["default"].DOM_TO_TEXT,s.prev=S["default"].TEXT;break;case 2:if(n.__parent=e,n.__top=e.top,n.style=e.style,C["default"].set(n),s.first)a(t,x,s.start++,n);else switch(s.state){case S["default"].DOM_TO_TEXT:s.start++;case S["default"].DOM_TO_DOM:a(t,x,s.start++,n);break;case S["default"].TEXT_TO_DOM:i(t,x,s.start++,n);break;case S["default"].TEXT_TO_TEXT:c(s),i(t,x,++s.start,n),s.start++}s.state=S["default"].TEXT_TO_DOM,s.prev=S["default"].DOM;break;case 3:switch(s.state){case S["default"].DOM_TO_TEXT:case S["default"].TEXT_TO_TEXT:s.start++}var A=r instanceof b["default"]?1:0,P=n instanceof b["default"]?2:0;switch(A|P){case 0:r.__delRef(),r.__name==n.__name?(r.__parent=e,r.__top=e.top,d(r,n),n.__saveRef()):(n.__parent=e,n.__top=e.top,n.style=e.style,t=r.element,t.insertAdjacentHTML("afterend",n.toString()),t.parentNode.removeChild(t),n.emit(m["default"].DOM),R["default"].del(r.__uid),C["default"].set(n),j["default"].add(r.__destroy()));break;default:r.__delRef(),t=r.element,t.insertAdjacentHTML("afterend",n.toString()),t.parentNode.removeChild(t),n.__parent=e,n.__top=e.top,A?R["default"].del(r.virtualDom.__uid):R["default"].del(r.__uid),n.style=e.style,n.emit(m["default"].DOM),C["default"].set(n),E["default"].getAllChildrenElement(A?r.__virtualDom:r).forEach(function(e){j["default"].add(e.__destroy())}),j["default"].add(r.__destroy())}s.state=S["default"].DOM_TO_DOM,s.prev=S["default"].DOM,s.start++}}s.first=!1}function v(e,t,r){r.state==S["default"].TEXT_TO_DOM?(i(e,e.childNodes,r.start,t,!0),f(r),c(r)):r.state==S["default"].DOM_TO_TEXT&&(c(r),s(e,r.start+1))}function p(e,t,r,n,a,s){var l=r.length,f=n.length,c=l?1:0,d=f?2:0;switch(a.index.push(0),c|d){case 0:a.state==S["default"].TEXT_TO_DOM&&i(t,t.childNodes,a.start++,n,!0),a.state=S["default"].TEXT_TO_TEXT,a.prev=S["default"].TEXT;break;case 1:h(e,t,r[0],n[0],a);for(var _={},p=1;l>p;p++)u(t,r[p],a,_,p==l-1);break;case 2:h(e,t,r[0],n[0],a);for(var _={},p=1;f>p;p++)a.index[a.index.length-1]=p,o(e,t,n[p],a,_,p==f-1);break;case 3:var g=E["default"].arrFirst(r),m=E["default"].arrFirst(n),O=E["default"].isDom(g)?1:0,b=E["default"].isDom(m)?2:0,_={};switch(s.method){case"push":a.first||0!=b||(a.index[a.index.length-1]=0,
v(t,m,a));for(var p=0;l>p;p++)a.index[a.index.length-1]=p,y(t,n[p],a);for(;f>p;p++)a.index[a.index.length-1]=p,o(e,t,n[p],a,_,p==f-1);break;case"pop":a.first||0!=b||(a.index[a.index.length-1]=0,v(t,m,a));for(var p=0;f>p;p++)a.index[a.index.length-1]=p,y(t,n[p],a);u(t,r[f],a,{},!0);break;case"unshift":a.first&&(a.state=S["default"].DOM_TO_DOM);for(var p=0;f-l>p;p++)a.index[a.index.length-1]=p,o(e,t,n[p],a,_,p==f-l-1);for(0==O&&(a.index[a.index.length-1]=p,v(t,g,a));f>p;p++)a.index[a.index.length-1]=p,y(t,n[p],a);break;case"shift":a.first&&(a.state=S["default"].DOM_TO_DOM),u(t,r[0],a,{},!0),0==b&&(a.index[a.index.length-1]=0,v(t,m,a));for(var p=0;f>p;p++)a.index[a.index.length-1]=p,y(t,n[p],a);break;case"splice":for(var T=s.args[0],k=s.args[1],w=s.args.length-2,p=0;T>p;p++)a.index[a.index.length-1]=p,y(t,n[p],a);for(a.first&&(a.state=S["default"].DOM_TO_DOM);p<Math.min(k,w)+T;p++)a.index[a.index.length-1]=p,h(e,t,r[p],n[p],a);if(k>w)for(var D=p;k+T>D;D++)u(t,r[D],a,_,D==k+T-1);else if(w>k)for(;w+T>p;p++)a.index[a.index.length-1]=p,o(e,t,n[p],a,_,p==w+T-1);for(f>p&&(m=E["default"].arrFirst(n[p]),E["default"].isDom(m)||(a.index[a.index.length-1]=p,v(t,m,a)));f>p;p++)a.index[a.index.length-1]=p,y(t,n[p],a)}}a.index.pop(),a.first=!1}function y(e,t,r){if(Array.isArray(t)){r.index.push(0);for(var n=0,a=t.length;a>n;n++)r.index[r.index.length-1]=n,y(e,t[n],r);r.index.pop()}else E["default"].isDom(t)?(r.prev==S["default"].TEXT&&r.start++,r.state=S["default"].DOM_TO_DOM,r.prev=S["default"].DOM,r.start++):((r.first||r.prev==S["default"].DOM)&&f(r),r.state=S["default"].TEXT_TO_TEXT,r.prev=S["default"].TEXT),r.first=!1}Object.defineProperty(t,"__esModule",{value:!0});var g=r(1),m=n(g),O=r(4),b=n(O),T=r(6),k=n(T),w=r(2),E=n(w),D=r(10),M=n(D),x=r(22),A=n(x),P=r(18),j=n(P),X=r(15),S=n(X),L=r(5),C=n(L),N=r(12),R=n(N),H=r(11),F=n(H),I=r(19),B=n(I);t["default"]={diff:_,checkText:v,recordRange:f,addRange:c}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={domactivate:"DOMActivate",domfocusin:"DOMFocusIn",msgestureend:"MSGestureEnd",mspointerdown:"MSPointerDown",mspointermove:"MSPointerMove",mspointerup:"MSPointerUp",mspointercancel:"MSPointerCancel"}},function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),i=n(a),o=r(3),u=n(o),s=r(8),l=n(s),f=r(24),c=n(f),d=r(4),_=n(d),h=r(9),v=n(h),p=r(16),y=n(p),g=r(7),m=n(g),O=r(6),b=n(O),T=r(18),k=n(T),w=r(2),E=n(w),D=r(10),M=n(D),x=r(14),A=n(x),P=r(5),j=n(P),X=r(21),S=n(X),L=r(12),C=n(L),N=r(17),R=n(N),H=r(23),F=n(H),I=r(20),B=n(I),V={uid:0,render:function(e,t){return t&&e.appendTo(t),e},preRender:function(e){return e.toString()},preExist:function(e){return e.preString(),e.emit(i["default"].DOM)},createCp:function(e,t,r){return j["default"].set(new e(this.uid++,t,r))},createVd:function(e,t,r){if("style"==e||"script"==e)throw new Error("can not create VirtualDom of: "+e);return j["default"].set(k["default"].index?k["default"].get().__reset(this.uid++,e,t,r):new v["default"](this.uid++,e,t,r))},Event:i["default"],Model:l["default"],CacheModel:c["default"],eventBus:new i["default"],Element:u["default"],Component:_["default"],CacheComponent:y["default"],VirtualDom:v["default"],Obj:m["default"],Cb:b["default"],util:E["default"],browser:M["default"],sort:A["default"],hash:j["default"],match:S["default"],matchHash:C["default"],attr:R["default"],selfClose:F["default"],name:function(e,t){_["default"].prototype.isPrototypeOf(e.prototype)&&(e.__migiName=t)},resetUid:function(e){this.uid=e||0},clone:function q(){var q=Object.create(V);return q.uid=0,q},dev:B["default"]};"undefined"!=typeof window?window.migi=V:"undefined"!=typeof e&&(e.migi=V),t["default"]=V}).call(t,function(){return this}())},function(e,t){"use strict";function r(e,t,r,n){return Math.abs(e-t)>=Math.abs(r-n)?e-t>0?"left":"right":r-n>0?"up":"down"}function n(){s&&clearTimeout(s),l&&clearTimeout(l),s=l=null,v={},h=[]}function a(){document.addEventListener("touchmove",i,!0),document.addEventListener("touchend",o,!0),document.addEventListener("touchcancel",n,!0),window.addEventListener("scroll",n),window.addEventListener("blur",n)}function i(e){v.vd&&(d=e.touches[0],v.x2=d.pageX,v.y2=d.pageY,g+=Math.abs(v.x1-v.x2),m+=Math.abs(v.y1-v.y2))}function o(e){v.vd&&(v.x2&&Math.abs(v.x1-v.x2)>30||v.y2&&Math.abs(v.y1-v.y2)>30?l=setTimeout(function(){var t="swipe"+r(v.x1,v.x2,v.y1,v.y2);("swipe"==v.name||v.name==t)&&v.cb(e),h.forEach(function(r){("swipe"==r.name||r.name==t)&&r.cb(e)}),v={},h=[]},0):30>g&&30>m?s=setTimeout(function(){var t=Date.now()-y>p;t?("longtap"==v.name&&v.cb(e),h.forEach(function(t){"longtap"==t.name&&t.cb(e)})):v.isDoubleTap&&v.vd==u.vd&&("doubletap"==v.name&&v.cb(e),h.forEach(function(t){"doubletap"==t.name&&t.cb(e)})),v={},h=[]},0):(v={},h=[]),g=m=0)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,r,n){function i(n){return v.first?void h.push({vd:e,name:t,cb:r}):(d=n.touches[0],n.touches&&1===n.touches.length&&v.x2&&(v.x2=void 0,v.y2=void 0),v={vd:e,name:t,cb:r,first:!0,x1:d.pageX,y1:d.pageY},u=v,f=Date.now(),c=f-y,y=f,void(c>0&&250>c&&(v.isDoubleTap=!0)))}_||(_=!0,a()),n.push(["touchstart",i]);var o=e.element;o.addEventListener("touchstart",i)};var u,s,l,f,c,d,_,h=[],v={},p=750,y=0,g=0,m=0},function(e,t,r){"use strict";e.exports=r(28)["default"]}]);