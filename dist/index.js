!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=23)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__hash={}}return n(e,[{key:"on",value:function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)this.on(e[r],t);else if(t){this.__hash.hasOwnProperty(e)||(this.__hash[e]=[]);r=0;var i=this.__hash[e];for(n=i.length;r<n;r++)if(i[r]===t)return this;this.__hash[e].push(t)}return this}},{key:"once",value:function(e,t){var r=this;if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)r.once(e[n],t);else if(t){r.on(e,function n(){for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];t.apply(this,a),r.off(e,n)})}return this}},{key:"off",value:function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)this.off(e[r],t);else if(this.__hash.hasOwnProperty(e))if(t){r=0;var i=this.__hash[e];for(n=i.length;r<n;r++)if(i[r]===t){i.splice(r,1);break}}else delete this.__hash[e];return this}},{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(Array.isArray(e))for(var i=0,a=e.length;i<a;i++)this.emit(e[i],r);else if(this.__hash.hasOwnProperty(e)){var o=this.__hash[e];if(o.length)for(i=0,a=(o=o.slice()).length;i<a;i++)o[i].apply(this,r)}return this}}],[{key:"mix",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i=r.length-1;i>=0;i--){var a=r[i],o=new e;a.__hash={};for(var s=["on","once","off","emit"],u=s.length-1;u>=0;u--){var l=s[u];a[l]=o[l]}}}}]),e}();i.DOM="DOM",i.DESTROY="DESTROY",i.DATA="DATA",t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2));var i={}.toString;function a(e){return function(t){return i.call(t)=="[object "+e+"]"}}function o(e){return void 0===e||null===e||l.isBoolean(e)||l.isNumber(e)||l.isString(e)}function s(e){return null===e||void 0===e?"":e.toString()}function u(e,t){return t?e.replace(/"/g,"&quot;"):e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}var l={clone:function(e){return function e(t){if(t instanceof n.default)return t;if(o(t))return t;var r=Array.isArray(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];a instanceof n.default?r[i]=a:l.isDate(a)?r[i]=new Date(a):r[i]=l.isObject(a)?e(a):a}return r}(e)},isObject:a("Object"),isString:a("String"),isFunction:a("Function"),isNumber:a("Number"),isBoolean:a("Boolean"),isDate:a("Date"),equal:function(e,t){return function e(t,r){if(t instanceof n.default||r instanceof n.default)return t===r;if(o(t)||o(r))return t===r;if(Array.isArray(t)){if(!Array.isArray(r))return!1;if(t.length!=r.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!e(t[i],r[i]))return!1;return!0}if(l.isDate(t))return!!l.isDate(r)&&t-r==0;if(l.isObject(t)){if(!l.isObject(r))return!1;var s=Object.keys(t),u=Object.keys(r);if(s.length!==u.length)return!1;for(i=0,a=s.length;i<a;i++)if(!r.hasOwnProperty(i)||!e(t[i],r[i]))return!1;return!0}}(e,t)},stringify:s,encodeHtml:u,joinArray:function(e,t){return function e(t,r){for(var i="",a=0,o=t.length;a<o;a++){var l=t[a];Array.isArray(l)?i+=e(l):l instanceof n.default?i+=r?u(l.toString(),r):l.toString():i+=u(s(l),r)}return i}(e,t)},joinSourceArray:function(e){return function e(t){for(var r="",n=0,i=t.length;n<i;n++){var a=t[n];Array.isArray(a)?r+=e(a):r+=a.toString()}return r}(e)},linear:function(e,t){return t=t||[],Array.isArray(t)?t.forEach(function(e){t.push(e)}):t.push(e),t},arrFirst:function e(t){return Array.isArray(t)?e(t[0]):t},isDom:function(e){return e instanceof n.default},getAllChildrenElement:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.__children.forEach(function(t){t instanceof migi.VirtualDom?(e(t,r),r.push(t)):t instanceof migi.Component&&(e(t.__virtualDom,r),r.push(t.__virtualDom))}),r}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r(0)),a=o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return a.default.isString(e)?document.querySelector(e):e instanceof u?e.element:e}var u=function(e){function t(e,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.__reset(e,r,n,i),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),n(t,[{key:"__reset",value:function(e,t,r,n){this.__uid=e,this.__name=t,Array.isArray(r)?(this.props=function(e){for(var t={},r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i))t[i[0]]=i[1];else for(var a=Object.keys(i),o=a.length-1;o>=0;o--){var s=a[o];t[s]=i[s]}}return t}(r),this.__props=function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t];if(!Array.isArray(n)){var i=[],a=Object.keys(n),o=0;for(r=a.length;o<r;o++){var s=a[o];i.push([s,n[s]])}e.splice.apply(e,[t,1].concat(i))}}return e}(r)):(this.props=r,this.__props=function(e){for(var t=[],r=Object.keys(e),n=0,i=r.length;n<i;n++){var a=r[n];t.push([a,e[a]])}return t}(r)),this.__children=n,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(i.default.DOM,this.__onDom)}},{key:"clean",value:function(){if(this.__dom){var e=this.element;e&&e.parentNode&&e.parentNode.removeChild(e),this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(i.default.DOM,this.__onDom)}}},{key:"__onDom",value:function(){this.__dom=!0,this.__saveRef()}},{key:"__saveRef",value:function(){if(this.props.ref){var e=this.top;if(e){var t=this.props.ref,r=e.ref[t];Array.isArray(r)?r.push(this):e.ref[t]=r?[r,this]:this}}}},{key:"__delRef",value:function(){var e=this.props.ref;if(e){var t=this.top;if(t&&t.ref){var r=t.ref[e];if(r)if(r===this)delete t.ref[e];else if(Array.isArray(r))for(var n=0,i=r.length;n<i;n++)if(r[n]===this){r.splice(n,1);break}}}}},{key:"inTo",value:function(e){this.clean();var t=this.toString();s(e).innerHTML=t,this.emit(i.default.DOM)}},{key:"appendTo",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("beforeend",t),this.emit(i.default.DOM)}},{key:"prependTo",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterbegin",t),this.emit(i.default.DOM)}},{key:"before",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("beforebegin",t),this.emit(i.default.DOM)}},{key:"after",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterend",t),this.emit(i.default.DOM)}},{key:"replace",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterend",t),e.parentNode.removeChild(e),this.emit(i.default.DOM)}},{key:"top",get:function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component?this.__top=this.parent:this.__top=this.parent.top),this.__top}},{key:"parent",get:function(){return this.__parent}},{key:"children",get:function(){return this.__children}},{key:"name",get:function(){return this.__name}},{key:"dom",get:function(){return this.__dom}}]),t}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=_(r(0)),a=_(r(2)),o=_(r(8)),s=_(r(1)),u=_(r(5)),l=_(r(6)),f=_(r(7)),c=_(r(29)),d=_(r(14));function _(e){return e&&e.__esModule?e:{default:e}}var h=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touchstart","touchmove","touchend","touchcancel","MSGestureEnd","MSPointerDown","pointerdown","MSPointerMove","pointermove","MSPointerUp","pointerup","MSPointerCancel","pointercancel"],p=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null,r,n)),a=i;return a.__name=a.constructor.__migiName,a.__virtualDom=null,a.__ref={},a.__bindHash={},a.__ob=[],a.__bindProperty={},a.__props.forEach(function(e,t){var r=e[0],n=e[1];a.__init(r,n,t)}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),n(t,[{key:"__init",value:function(e,t,r){var n=this;if(/^on[a-zA-Z]/.test(e)){var a=e.slice(2).toLowerCase();n.once(i.default.DOM,function(){n.virtualDom.__addEvt(a,t)})}else if(/^on-[a-zA-Z\d_]/.test(e)){a=e.slice(3);n.on(a,function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i;t instanceof l.default?s.default.isFunction(t.cb)&&(i=t.cb).call.apply(i,[t.context].concat(r)):s.default.isFunction(t)&&t.apply(void 0,r)})}else"model"==e?n.model=t:t instanceof u.default&&(n.__props[r]=t.v,n.props[e]=t.v,n.__bindProperty[t.k]=[e,t])}},{key:"render",value:function(){return new o.default(this.__uid,"div",this.__props,this.__children)}},{key:"toString",value:function(){if(this.__virtualDom=this.render(),!this.__virtualDom)throw new Error("render must return a VirtualDom: "+this.__name);return this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()}},{key:"preString",value:function(){this.toString()}},{key:"findChild",value:function(e){return this.findChildren(e,!0)[0]}},{key:"findChildren",value:function(e,r){for(var n=[],i=0,o=this.children.length;i<o;i++){var u=this.children[i];if(u instanceof a.default)if(u instanceof t){if((u.name==e||s.default.isFunction(e)&&u instanceof e)&&(n.push(u),r))break}else{if((u.name==e||s.default.isFunction(e)&&u instanceof e)&&(n.push(u),r))break;if(n=n.concat(u.findAll(e)),r&&n.length)break}}return n}},{key:"find",value:function(e){return this.__virtualDom?this.__virtualDom.find(e):null}},{key:"findAll",value:function(e){return this.__virtualDom?this.__virtualDom.findAll(e):[]}},{key:"__onDom",value:function(){(function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);this.virtualDom.emit(i.default.DOM);var e=this.element;if(this.name&&e.setAttribute("migi-name",this.name),!0===this.props.stopPropagation||"true"===this.props.stopPropagation);else{if(!1===this.props.stopPropagation||"false"===this.props.stopPropagation)return;if(!this.stopPropagation)return}function r(t){t=t||window.event,(0,d.default)(t),t.target!=e&&t.srcElement!=e&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}this.__stop=r,h.forEach(function(t){e.addEventListener(t,r)})}},{key:"__data",value:function(e,t){this.dom&&(this.__canData=!0),this.__onData(e,t),this.emit(i.default.DATA,e,this[e])}},{key:"__onData",value:function(e,t){if(this.__dom&&this.__canData){this.virtualDom&&this.virtualDom.__onData(e,t);for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r];i instanceof o.default&&i.__onData(e,t)}}}},{key:"__notifyBindProperty",value:function(e){if(this.__bindProperty.hasOwnProperty(e)){var t=this.__bindProperty[e],r=t[0],n=t[1];n.update(n.v)&&(this[r]=n.v)}}},{key:"__destroy",value:function(){var e=this;if(e.__stop){var t=e.element;h.forEach(function(r){t.removeEventListener(r,e.__stop)})}e.model&&e.model.__del(e),e.__ob.forEach(function(t){var r=t.__ob__.indexOf(e);r>-1&&(t.__ob__.splice(r,1),t.__cb__.splice(r,1))});var r=e.virtualDom.__destroy();return e.emit(i.default.DESTROY),e.__hash={},e.__bindProperty=null,r}},{key:"__initBind",value:function(e){return!this.__bindHash.hasOwnProperty(e)}},{key:"__getBind",value:function(e){return this.__bindHash[e]}},{key:"__setBind",value:function(e,t){this.__bindHash[e]=t,this.__array(e,t)}},{key:"__array",value:function(e,t){var r=this;Array.isArray(t)&&(t.__proto__=c.default,t.__ob__=t.__ob__||[],t.__cb__=t.__cb__||[],-1==t.__ob__.indexOf(r)&&(r.__ob.push(t),t.__ob__.push(r),t.__cb__.push(function(t){r.__data(e,t)})))}},{key:"stopPropagation",get:function(){return this.__stopPropagation},set:function(e){this.__stopPropagation=e}},{key:"element",get:function(){return this.virtualDom?this.virtualDom.element:null}},{key:"style",get:function(){return this.__style},set:function(e){this.__style=e}},{key:"model",get:function(){return this.__model},set:function(e){if(!(e instanceof f.default))throw new Error("can not set model to a non Model: "+e);this.__model=e,e.__add(this)}},{key:"virtualDom",get:function(){return this.__virtualDom}},{key:"ref",get:function(){return this.__ref}}]),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default={get:function(e){return n[e]},set:function(e){return n[e.__uid]=e,e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r(2)),a=o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.k=t,this.cb=r,this.single=n,this.vBind=i,this.setV(r())}return n(e,[{key:"setV",value:function(e){this.v=a.default.clone(e)}},{key:"toString",value:function(e){if(Array.isArray(this.v))return a.default.joinArray(this.v,e);var t=a.default.stringify(this.v);return e?a.default.encodeHtml(t,e):this.v instanceof i.default?t:a.default.encodeHtml(t)}},{key:"toSourceString",value:function(){return Array.isArray(this.v)?a.default.joinSourceArray(this.v):a.default.stringify(this.v)}},{key:"update",value:function(e){var t=this.cb();if(!a.default.equal(e,t))return this.setV(t),!0}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.cb=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r(0)),a=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}var s=0,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__uid="m"+s++,e.__name=e.constructor.__migiName,e.__ref=[],e.__bindHash={},e.__ob=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),n(t,[{key:"__onData",value:function(e,t){e="model."+e,this.__ref.forEach(function(r){r.dom&&(r.__canData=!0),r.__onData(e,t)})}},{key:"__add",value:function(e){-1==this.__ref.indexOf(e)&&this.__ref.push(e)}},{key:"__del",value:function(e){var t=this.__ref.indexOf(e);t>-1&&this.__ref.splice(t,1)}},{key:"name",get:function(){return this.__name}}]),t}();["__data","__record","__unRecord","__initBind","__getBind","__setBind","__array"].forEach(function(e){u.prototype[e]=a.default.prototype[e]}),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0},a=w(r(0)),o=w(r(2)),s=w(r(3)),u=w(r(1)),l=w(r(5)),f=w(r(6)),c=w(r(15)),d=w(r(16)),_=w(r(26)),h=w(r(10)),p=w(r(14)),v=w(r(19)),y=w(r(4)),g=w(r(27)),O=w(r(18)),b=w(r(13)),m=w(r(28)),T=w(r(20)),k=w(r(21));function w(e){return e&&e.__esModule?e:{default:e}}var E={swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,longtap:!0,doubletap:!0};function D(e){return e instanceof o.default?e.name+'[migi-uid="'+e.__uid+'"]':e.replace(/(^|\s|,|])([A-Z][\w$]*)\b/,'$1[migi-name="$2"]')}function M(e,t,r){return function e(t,r,n,i){for(var a=0,s=r.length;a<s;a++){var u=r[a];if(u instanceof o.default?n=x(t,u,n,i):u instanceof l.default?(u=u.v,Array.isArray(u)?n=e(t,u,n,i):u instanceof o.default&&(n=x(t,u,n,i))):Array.isArray(u)&&(n=e(t,u,n,i)),i&&n.length)break}return n}(e,t,[],r)}function x(e,t,r,n){if(t instanceof s.default)t instanceof e&&r.push(t);else{if(t instanceof e&&(r.push(t),n))return r;r=r.concat(t.findAll(e,n))}return r}var A=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T.default.hasOwnProperty(r)&&i.length)throw new Error("self-close tag can not has children: "+r);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n,i)),o=a;return o.__names=null,o.__classes=null,o.__ids=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),n(t,[{key:"toString",value:function(){for(var e="<"+this.name,t=0,r=this.__props.length;t<r;t++){var n,i=this.__props[t];e+=n=this.__renderProp(i[0],i[1])}this.__style&&((n=this.__match(!0))&&(e=e.indexOf(' style="')>1?e.replace(/ style="[^"]*"/,' style="'+n+'"'):e+' style="'+n+'"'));if(e+=' migi-uid="'+this.__uid+'"',this.__checkListener(),this.__selfClose)return e+"/>";(e+=">",this.props.dangerouslySetInnerHTML)?e+=n=(n=this.props.dangerouslySetInnerHTML)instanceof l.default?n.toSourceString():Array.isArray(n)?u.default.joinSourceArray(n):u.default.stringify(n):e+=this.__renderChildren();return e+="</"+this.name+">"}},{key:"preString",value:function(){for(var e=0,t=this.__props.length;e<t;e++){var r=this.__props[e];this.__renderProp(r[0],r[1])}this.__style&&this.__match(!0),this.__checkListener(),this.__renderChildren()}},{key:"isFirst",value:function(e){if(this.parent instanceof s.default)return!0;for(var r=0,n=(e=e||this.parent.children).length;r<n;r++){var i=e[r];if(Array.isArray(i)&&i.length)return this.isFirst(i);if(i==this)return!0;if(i instanceof t)return!1;if(i instanceof l.default&&(i=i.v,Array.isArray(i)&&i.length))return this.isFirst(i)}}},{key:"isLast",value:function(e){if(this.parent instanceof s.default)return!0;for(var r=(e=e||this.parent.children).length-1;r>=0;r--){var n=e[r];if(Array.isArray(n)&&n.length)return this.isLast(n);if(n==this)return!0;if(n instanceof t)return!1;if(n instanceof l.default&&(n=n.v,Array.isArray(n)&&n.length))return this.isLast(n)}}},{key:"isEmpty",value:function(){return function e(t){var r=!0;if(Array.isArray(t))for(var n=0,i=t.length;n<i&&(r=e(t[n]));n++);else r=!(t instanceof o.default)&&(t instanceof l.default?e(t.v):P(t));return r}(this.children)}},{key:"isEnabled",value:function(){return!this.__cache.disabled}},{key:"isDisabled",value:function(){return this.__cache.disabled}},{key:"isChecked",value:function(){return this.__cache.checked}},{key:"prev",value:function(){var e={};return S(this.parent.children,this,e,function(t){e.prev=t}),e.prev}},{key:"prevAll",value:function(e){var t={prev:[]};return S(this.parent.children,this,t,function(r){(e&&!b.default.nci(e,r)||!e)&&t.prev.push(r)}),t.prev}},{key:"next",value:function(){var e={};return L(this.parent.children,this,e,function(t){e.next=t,e.done=!0}),e.next}},{key:"nextAll",value:function(e){var t={next:[]};return L(this.parent.children,this,t,function(r){(e&&!b.default.nci(e,r)||!e)&&t.next.push(r)}),t.next}},{key:"isOnly",value:function(){return 1==this.siblings().length}},{key:"isOnlyOfType",value:function(e){for(var t=this.siblings(),r=0,n=t.length;r<n;r++){var i=t[r];if(i!=this&&!b.default.nci(e,i))return!1}return!0}},{key:"isFirstOfType",value:function(e){for(var t=this.prevAll(e),r=0,n=t.length;r<n;r++)if(!b.default.nci(e,t[r]))return!1;return!0}},{key:"isLastOfType",value:function(e){for(var t=this.nextAll(e),r=0,n=t.length;r<n;r++)if(!b.default.nci(e,t[r]))return!1;return!0}},{key:"siblings",value:function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],r);else t instanceof o.default?r.push(t):t instanceof l.default&&e(t.v,r);return r}(this.parent.children)}},{key:"getIdx",value:function(e){var t=this.siblings(),r=t.indexOf(this);return r>-1?e?t.length-r-1:r:-1}},{key:"getIdxOfType",value:function(e,t){var r=t?this.nextAll(e):this.prevAll(e);t?r.unshift(this):r.push(this);var n=r.indexOf(this);return n>-1?t?r.length-n-1:n:-1}},{key:"closest",value:function(e){for(var t=this;t&&t!=this.top;){if(!b.default.nci(e,t))return t;t=t.parent}}},{key:"__renderProp",value:function(e,t){var r=this,n="";if(/^on[a-zA-Z]/.test(e))r.__renderPropEventDelay=r.__renderPropEventDelay||[],r.__renderPropEventDelay.push({k:e.slice(2).toLowerCase(),v:t});else if(t instanceof l.default){if("dangerouslySetInnerHTML"==e)return"";var i=t.toString(!0);switch("className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=i,v.default.special(r.name,e)){case v.default.RENDER_EXIST:t.v&&(n=" "+e+'="'+i+'"');break;case v.default.RENDER_DOM:r.once(a.default.DOM,function(){r.__updateAttr(e,t)});break;default:n=" "+e+'="'+i+'"'}}else{i=Array.isArray(t)?u.default.joinSourceArray(t):u.default.stringify(t);if("dangerouslySetInnerHTML"==e)return"";switch("className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=i,v.default.special(r.name,e)){case v.default.RENDER_EXIST:t&&(n=" "+e+'="'+u.default.encodeHtml(i,!0)+'"');break;case v.default.RENDER_DOM:r.once(a.default.DOM,function(){r.__updateAttr(e,t)});break;default:n=" "+e+'="'+u.default.encodeHtml(i,!0)+'"'}}if(r.__style)switch(e){case"class":case"id":n=" migi-"+n.slice(1)}return n}},{key:"__renderChildren",value:function(){for(var e="",t=0,r=this.children.length;t<r;t++)e+=j(this.children[t]);return e}},{key:"__checkListener",value:function(){var e=this;if("input"==e.name)e.props.hasOwnProperty("value")&&(t=e.props.value)instanceof l.default&&t.vBind&&e.once(a.default.DOM,function(){function r(e){(0,p.default)(e);var r=e.target.value;t.vBind(r)}switch((e.__cache.type||"").toLowerCase()){case"checkbox":case"radio":case"range":case"color":e.__addListener("change",r);break;default:e.__addListener(["input","paste","cut","change"],r)}});else if("select"==e.name){var t;if(e.props.hasOwnProperty("value"))(t=e.props.value)instanceof l.default&&t.vBind&&e.once(a.default.DOM,function(){e.__addListener("change",function(e){(0,p.default)(e);var r=e.target.value;t.vBind(r)})})}else if("textarea"==e.name&&1==e.children.length){var r=e.children[0];r instanceof l.default&&r.vBind&&e.once(a.default.DOM,function(){e.__addListener(["input","paste","cut","change"],function(e){(0,p.default)(e);var t=e.target.value;r.vBind(t)})})}e.__renderPropEventDelay&&(e.__renderPropEventDelay.forEach(function(t){e.once(a.default.DOM,function(){e.__addEvt(t.k,t.v)})}),e.__renderPropEventDelay=null)}},{key:"__addEvt",value:function(e,t){var r=this;r.__addListener(e,function(e){(0,p.default)(e);var n,i=e.target.getAttribute("migi-uid"),a=y.default.get(i);return t instanceof f.default&&u.default.isFunction(t.cb)?t.cb.call(t.context,e,r,a):u.default.isFunction(t)?t(e,r,a):Array.isArray(t)?(t.forEach(function(t,i){var o=t[1],s=(0,O.default)(e,t[0],r);s[0]&&(o instanceof f.default&&u.default.isFunction(o.cb)?i?o.cb.call(o.context,e,r,s[1],a):n=o.cb.call(o.context,e,r,s[1],a):u.default.isFunction(o)&&(i?o(e,r,s[1],a):n=o(e,r,s[1],a)))}),n):void 0})}},{key:"__addListener",value:function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)this.__addListener(e[r],t);else{this.__listener=this.__listener||[],"tap"==e&&(e="click");var i=this.element;if(E.hasOwnProperty(e))return void(0,g.default)(this,e,t,this.__listener);if(this.__listener.push([e,t]),i.addEventListener(m.default[e]||e,t),"load"==e&&i.complete){var a=document.createEvent("Event");a.initEvent("load",!0,!0),i.dispatchEvent(a)}}}},{key:"__removeListener",value:function(){if(this.__listener){for(var e=this.element,t=this.__listener.length-1;t>=0;t--){var r=this.__listener[t];e.removeEventListener(r[0],r[1])}this.__listener=null}}},{key:"find",value:function(e){if(u.default.isFunction(e))return function(e,t){return M(e,t,!0)[0]||null}(e,this.children);if(this.element){var t=this.element.querySelector(D(e)).getAttribute("migi-uid");return y.default.get(t)||null}return null}},{key:"findAll",value:function(e){if(u.default.isFunction(e))return M(e,this.children);var t=[];if(this.element){var r=this.element.querySelectorAll(D(e));Array.from(r).forEach(function(e){if(e){var r=e.getAttribute("migi-uid"),n=y.default.get(r)||null;n&&t.push(n)}})}return t}},{key:"__onDom",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);var e={start:0,first:!0};this.__checkBlank(this.children,e),(e.empty||e.first)&&this.__insertBlank(e.start)}},{key:"__checkBlank",value:function(e,t){if(Array.isArray(e)&&e.length)for(var r=0,n=e.length;r<n;r++)this.__checkBlank(e[r],t);else if(u.default.isDom(e))t.empty&&this.__insertBlank(t.start),t.start++,t.prev==h.default.TEXT&&t.start++,t.prev=h.default.DOM,t.empty=!1,t.first=!1,e.emit(a.default.DOM);else if(e instanceof l.default)this.__checkBlank(e.v,t);else if(P(e)){if(t.prev==h.default.TEXT)return;t.empty=!0,t.prev=h.default.TEXT,t.first=!1}else t.empty=!1,t.prev=h.default.TEXT,t.first=!1}},{key:"__insertBlank",value:function(e){var t=document.createTextNode(""),r=this.element,n=r.childNodes,i=n.length;!i||e>=i?r.appendChild(t):r.insertBefore(t,n[e])}},{key:"__onData",value:function(e,t){if(this.dom){for(var r=0,n=this.__props.length;r<n;r++){var i=this.__props[r],a=i[0];if((i=i[1])instanceof l.default){var o=!1;switch((Array.isArray(e)?1:0)|(Array.isArray(i.k)?2:0)){case 0:o=e==i.k;break;case 1:o=e.indexOf(i.k)>-1;break;case 2:o=i.k.indexOf(e)>-1;break;case 3:for(var s={},u=e.length-1;u>=0;u--)s[e[u]]=!0;var f=i.k;for(u=0,n=f.length;u<n;u++)if(s.hasOwnProperty(f[u])){o=!0;break}}if(o){var d=i.v;i.update(d)&&this.__updateAttr(a,i.v)}}}var _={start:0,range:[],history:[],first:!0},h=this.children,p=0;for(n=h.length;p<n;p++){var v=h[p];_.index=[p],this.__checkObj(e,v,_,t)}if(_.range.length){if("textarea"==this.__name)return void this.__updateAttr("value",c.default.value(_.range[0],this.children));for(r=0,n=_.range.length;r<n;r++)c.default.update(_.range[r],this.children,this.element)}}}},{key:"__checkObj",value:function(e,r,n,i){if(r instanceof l.default){var a=!1;switch((Array.isArray(e)?1:0)|(Array.isArray(r.k)?2:0)){case 0:a=e==r.k;break;case 1:a=e.indexOf(r.k)>-1;break;case 2:a=r.k.indexOf(e)>-1;break;case 3:for(var o={},s=e.length-1;s>=0;s--)o[e[s]]=!0;for(var f=r.k,c=(s=0,f.length);s<c;s++)if(o.hasOwnProperty(f[s])){a=!0;break}}if(a){var d=r.v;r.update(d)?_.default.diff(this,this.element,d,r.v,n,k.default.optimizeArrayDiff&&r.single&&i):this.__checkObj(e,r.v,n,i)}else this.__checkObj(e,r.v,n,i)}else if(u.default.isDom(r))r instanceof t?r.__onData(e,i):r.__notifyBindProperty(e),n.start++,n.first||n.prev!=h.default.TEXT||n.start++,n.state=h.default.DOM_TO_DOM,n.prev=h.default.DOM;else if(Array.isArray(r))if(r.length){n.index.push(0);for(s=0,c=r.length;s<c;s++){var p=r[s];n.index[n.index.length-1]=s,this.__checkObj(e,p,n,i)}n.index.pop()}else _.default.checkText(this.element,r,n),(n.first||n.prev==h.default.DOM)&&_.default.recordRange(n),n.state=h.default.TEXT_TO_TEXT,n.prev=h.default.TEXT;else _.default.checkText(this.element,r,n),(n.first||n.prev==h.default.DOM)&&_.default.recordRange(n),n.state=h.default.TEXT_TO_TEXT,n.prev=h.default.TEXT;n.first=!1}},{key:"__updateAttr",value:function(e,t){if("dangerouslySetInnerHTML"==e)return null!==t&&void 0!==t||(t=""),this.element.innerHTML=u.default.stringify(t),void this.__insertBlank(0);v.default.update(this.name,this.element,e,t,this.__style),this.__cache[e]=t,this.__style&&this.__updateStyle()}},{key:"__match",value:function(e){var t=this.__cache.style||"";return this.__initCI(),(0,d.default)(this.__names,this.__classes,this.__ids,this.__style||{default:{}},this,e)+t}},{key:"__initCI",value:function(){var e=this.parent;e instanceof t?(this.__classes=e.__classes.slice(),this.__ids=e.__ids.slice()):(this.__classes=[],this.__ids=[]),this.__classes.push(b.default.splitClass(this.__cache.class)),this.__ids.push(b.default.preId(this.__cache.id))}},{key:"__updateStyle",value:function(e){var r=this.__match(e);if(this.element.getAttribute("style")!=r&&this.element.setAttribute("style",r),!e)for(var n=this.children.length-1;n>=0;n--){var i=this.children[n];i instanceof t&&i.__updateStyle()}}},{key:"__init",value:function(e,t){this.__selfClose=T.default.hasOwnProperty(e),function e(t,r){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],r);else t instanceof o.default?t.__parent=r:t instanceof l.default&&e(t.v,r)}(t,this)}},{key:"__reset",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__reset",this).call(this,e,r,n,a),this.__init(r,a),this.__hasDes=!1,this}},{key:"__destroy",value:function(){return(this.__onHover||this.__outHover)&&this.element&&(this.element.removeEventListener("mouseenter",this.__onHover),this.element.removeEventListener("mouseleave",this.__outHover)),this.__hash={},this.__cache=null,this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this.__renderPropEventDelay=null,this}},{key:"clean",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clean",this).call(this),this.__renderPropEventDelay=null,this.__removeListener(),this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1}},{key:"names",get:function(){return this.__names||(this.__names=[])}},{key:"element",get:function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.__uid+'"]'))}},{key:"style",get:function(){return this.__style},set:function(e){this.__style=e,this.parent instanceof t?this.__names=this.parent.names.slice():this.__names=[],this.__names.push(this.name);for(var r=0,n=this.children.length;r<n;r++)X(this.children[r],e)}}]),t}();function P(e){return void 0===e||null===e||!e.toString()}function j(e){if(e instanceof o.default||e instanceof l.default)return e.toString();if(Array.isArray(e)){for(var t="",r=0,n=e.length;r<n;r++)t+=j(e[r]);return t}return u.default.encodeHtml(u.default.stringify(e))}function X(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)X(e[r],t);else e instanceof A?e.style=t:e instanceof l.default&&X(e.v,t)}function S(e,t,r,n){if(Array.isArray(e))for(var i=0,a=e.length;i<a&&(S(e[i],t,r,n),!r.done);i++);else if(e instanceof o.default){if(t==e)return void(r.done=!0);n(e)}else e instanceof l.default&&S(e.v,t,r,n)}function L(e,t,r,n){if(Array.isArray(e))for(var i=0,a=e.length;i<a&&(L(e[i],t,r,n),!r.done);i++);else e instanceof o.default?t==e?r.start=!0:r.start&&n(e):e instanceof l.default&&L(e.v,t,r,n)}t.default=A},function(e,t,r){"use strict";function n(e){if("undefined"!=typeof window)return document.createElement(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n("div"),a=n("table"),o=n("tbody"),s=n("tr"),u=n("ul"),l=n("dl"),f=n("select"),c=n("menu");t.default={NODE:i,getParent:function(e){switch(e){case"td":return s;case"tr":return o;case"tbody":case"thead":case"col":return a;case"li":return u;case"dt":case"dd":return l;case"option":return f;case"menuitem":return c;default:return i}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TEXT:1,DOM:2,DOM_TO_TEXT:3,DOM_TO_DOM:4,TEXT_TO_DOM:5,TEXT_TO_TEXT:6,ADD_TEXT:7,ADD_DOM:8,DEL_TEXT:9,DEL_DOM:10}},function(e,t,r){"use strict";function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Array.isArray(e))throw new Error("quick sort need an array");return e.length<2?e:(t=t||function(){},function e(t,r,i,a){if(r>=i)return;var o=r,s=i,u=o,l=t[u],f=!0;for(;o<s;)if(f){for(;o<s;s--)if(a.call(t,l,t[s])){n(t,u,s),u=s,f=!f,o++;break}}else for(;o<s;o++)if(a.call(t,t[o],l)){n(t,u,o),u=o,f=!f,s--;break}e(t,r,u-1,a);e(t,u+1,i,a)}(e,0,e.length-1,t),e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default={add:function(e,t){n[e]=t},del:function(e){var t=n[e];t&&(window.removeEventListener("mouseup",t,!0),window.removeEventListener("touchend",t,!0),window.removeEventListener("touchcancel",t,!0),window.removeEventListener("blur",t),window.removeEventListener("dragend",t),delete n[e])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(11));function i(e,t){if("odd"==t){if(e%2==1)return!1}else if("even"==t){if(e%2==0)return!1}else if(/^\d+$/.test(t)){if(e!=t-1)return!1}else{for(var r=/(\d+)?n(?:\+(\d+))?/.exec(t),n=!1,i=0;i<=Math.ceil(e/r[1]);i++)if((r[1]||1)*i+(r[2]||0)==e+1){n=!0;break}if(!n)return!1}return!0}t.default={splitClass:function(e){return(e=(e||"").trim())?(e=e.split(/\s+/),(0,n.default)(e,function(e,t){return e>t}),e):""},preId:function(e){return void 0!==e&&null!==e||(e=""),(e=e.toString().trim())?"#"+e:""},combo:function(e,t,r,n){var i=0,a=0;if(e&&e.length){var o=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r-i>1){e(t,r,n,i+1);for(var a=0,o=n.length;a<o;a++)n.push(n[a]+"."+t[i])}n.push("."+t[i]);return n}(e,e.length);a=1}var s=[t];r&&(i=2);var u=n.hasOwnProperty("_*."),l=n.hasOwnProperty("_*#"),f=n.hasOwnProperty("_*.#");return n.hasOwnProperty("_*")&&s.push("*"),a&&o.forEach(function(e){s.push(e),s.push(t+e),u&&s.push("*"+e),i&&(s.push(e+r),s.push(t+e+r),f&&s.push("*"+e+r))}),i&&(s.push(r),s.push(t+r),l&&s.push("*"+r)),s},pseudo:function(e,t,r){for(var n=0,a=e.length;n<a;n++){var o=e[n];switch(o){case"hover":if(!t.__hover)return!1;break;case"active":if(!t.__active)return!1;break;case"first-child":if(!t.isFirst())return!1;break;case"last-child":if(!t.isLast())return!1;break;case"empty":if(!t.isEmpty())return!1;break;case"enabled":if(!t.isEnabled())return!1;break;case"disabled":if(!t.isDisabled())return!1;break;case"checked":if(!t.isChecked())return!1;break;case"only-child":if(!t.isOnly())return!1;break;case"only-of-type":if(!t.isOnlyOfType(r))return!1;break;case"first-of-type":if(!t.isFirstOfType(r))return!1;break;case"last-of-type":if(!t.isLastOfType(r))return!1;break;default:if(0==o.indexOf("nth-child")){if(!i(t.getIdx(),/\((.+)\)/.exec(o)[1]))return!1}else if(0==o.indexOf("nth-last-child")){if(!i(t.getIdx(!0),/\((.+)\)/.exec(o)[1]))return!1}else if(0==o.indexOf("nth-of-type")){if(!i(t.getIdxOfType(r),/\((.+)\)/.exec(o)[1]))return!1}else{if(0!=o.indexOf("nth-last-of-type"))return!1;if(!i(t.getIdxOfType(r,!0),/\((.+)\)/.exec(o)[1]))return!1}}}return!0},attr:function(e,t){var r=!0;e:for(var n=0,i=e.length;n<i;n++){var a=e[n];if(1==a.length){if(!t.__cache.hasOwnProperty(a[0])){r=!1;break}}else{var o=t.__cache[a[0]];if(void 0===o){r=!1;break}var s=a[2];switch(a[1]){case"=":r=o==s;break;case"^=":r=0==o.indexOf(s);break;case"$=":r=o.length>=s.length&&o.indexOf(s)==o.length-s.length;break;case"~=":r=new RegExp("\\b"+s+"\\b").test(o);break;case"*=":r=o.indexOf(s)>-1;break;case"|=":r=0==o.indexOf(s)||0==o.indexOf(s+"-");break;default:r=!1;break e}if(!r)break}}return r},nci:function(e,t){var r=/^[a-z\d]+/i.exec(e);if(r&&r[0].toUpperCase()!=t.__name.toUpperCase())return!0;var n=e.match(/\.[a-z\d_-]+/gi);if(n&&t.__cache.class)for(var i=n.length-1;i>=0;i--)if(!new RegExp("\\b"+n[i].slice(1)+"\\b","i").test(t.__cache.class))return!0;var a=/#[a-z\d_-]+/i.exec(e);return!(!a||!t.__cache.id||a[0].toUpperCase()==t.__cache.id.toUpperCase())||void 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){3==e.target.nodeType&&(e.target=e.target.parentNode)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),i=(o(r(8)),o(r(5))),a=o(r(1));o(r(9)),o(r(10));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){for(var o="",l=e.shift(),f=t.length;l<f;l++){var c=t[l];if(e.length){if(c instanceof i.default?o+=s(e,c.v,r):o+=s(e,c,r),r.end)break}else if(c instanceof i.default)if(Array.isArray(c.v)){if(o+=u(c.v,r),r.end)break}else{if(c.v instanceof n.default){r.end=!0;break}o+=c.toSourceString()}else{if(c instanceof n.default){r.end=!0;break}if(Array.isArray(c)){if(o+=u(c,r),r.end)break}else o+=a.default.stringify(c)}}return o}function u(e,t){for(var r="",i=0,o=e.length;i<o;i++){var s=e[i];if(t.end)break;if(Array.isArray(s))r+=u(s,t);else{if(s instanceof n.default){t.end=!0;break}r+=a.default.stringify(s)}}return r}t.default={update:function(e,t,r){var n=s(e.index,t,{}),i=r.childNodes[e.start];1!=i.nodeType&&n!=i.textContent&&(i.textContent=n||"")},value:function(e,t){return s(e.index,t,{})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(0)),i=u(r(11)),a=u(r(4)),o=u(r(12)),s=u(r(13));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,i,u,c,d,_,h){for(var p=s.default.combo(r[e],t[e],i[e],u),v=0,y=p.length;v<y;v++){var g=p[v];if(u.hasOwnProperty(g)){var O=u[g];if(e&&(l(e-1,t,r,i,O,c.parent,d,_),!h))for(var b=e-2;b>=0;b--)l(b,t,r,i,O,c.parent,d,_);if(O.hasOwnProperty("_v")&&f(d,O),_&&O.hasOwnProperty("_:")&&O["_:"].forEach(function(e){e[0].forEach(function(e){var t=c.__uid;switch(e){case"hover":var r=function(){a.default.get(t).__hover=!0,a.default.get(t).__updateStyle()},i=function(){a.default.get(t).__hover=!1,a.default.get(t).__updateStyle()},s=function(){c.element.addEventListener("mouseenter",r),c.element.addEventListener("mouseleave",i)};c.__dom?s():c.once(n.default.DOM,s),c.__onHover=r,c.__outHover=i;break;case"active":var u=function(){a.default.get(t).__active=!0,a.default.get(t).__updateStyle()},l=function(){a.default.get(t).__active=!1,a.default.get(t).__updateStyle()},f=function(){c.element.addEventListener("mousedown",u),window.addEventListener("mouseup",l,!0),window.addEventListener("touchend",l,!0),window.addEventListener("touchcancel",l,!0),window.addEventListener("blur",l),window.addEventListener("dragend",l)};c.__dom?f():c.once(n.default.DOM,f),o.default.add(t,l)}})}),O.hasOwnProperty("_:")||O.hasOwnProperty("_[")){var m=function(n){if(n&&n.hasOwnProperty("_[")){var a=n["_["];a.forEach(function(n){s.default.attr(n[0],c)&&(a=n[1],e&&l(e-1,t,r,i,a,c.parent,d,_),a.hasOwnProperty("_v")&&f(d,a))})}};O.hasOwnProperty("_:")&&(T=O["_:"]).forEach(function(n){s.default.pseudo(n[0],c,g)&&(T=n[1],e&&l(e-1,t,r,i,T,c.parent,d,_),T.hasOwnProperty("_v")&&f(d,T))}),m(O),m(T)}if(O.hasOwnProperty("_>")){var T=O["_>"];l(e-1,t,r,i,T,c.parent,d,!1,h)}if(O.hasOwnProperty("_+")){T=O["_+"];(E=c.prev())&&Object.keys(T).forEach(function(n){s.default.nci(n,E)||(T[n].hasOwnProperty("_v")&&f(d,T[n]),l(e-1,t,r,i,T[n],c.parent,d,!1,h))})}if(O.hasOwnProperty("_~")){T=O["_~"];var k=c.prevAll();if(k.length){var w=!1;for(v=k.length-1;v>=0;v--){var E=k[v];if(Object.keys(T).forEach(function(n){s.default.nci(n,E)||(T[n].hasOwnProperty("_v")&&f(d,T[n]),w=!0,l(e-1,t,r,i,T[n],c.parent,d,!1,h))}),w)break}}}}}}function f(e,t){t._v.forEach(function(r){r[2]=t._p,e.push(r)})}function c(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return window["inner"+t]||document.documentElement["client"+t]||document.body["client"+t]}t.default=function(e,t,r,n,s,u){var f=[];if(l(e.length-1,e,t,r,n.default,s,f,u),n.media&&(n.media.forEach(function(n){var i=!1;n.query.forEach(function(a){if(!i)for(var o=0,d=a.length;o<d;o++){var _=a[o];if(Array.isArray(_)){var h=_[0].replace(/^-[a-z]+-/i,"").replace(/^mso-/i,"").toLowerCase(),p=_[1];if(/(px|\d)$/.test(p))switch(p=p.replace(/px$/,""),h){case"width":case"height":if((v=c(h))==p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-width":case"max-width":case"min-height":case"max-height":var v=c(h.slice(4));if(0==h.indexOf("min-")){if(v>=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"device-width":case"device-height":(v=window.screen[h.slice(7)])==p&&(i=!0,l(e.length-1,e,t,r,n.style,s,f,u));break;case"min-device-width":case"min-device-height":case"max-device-width":case"max-device-height":if(v=window.screen[h.slice(11)],0==h.indexOf("min-")){if(v>=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"aspect-ratio":if((v=c("width")/c("height"))==(y=(y=p.split("/"))[0]/y[1]))return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-aspect-ratio":case"max-aspect-ratio":if(v=c("width")/c("height"),y=(y=p.split("/"))[0]/y[1],0==h.indexOf("min-")){if(v>=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"device-aspect-ratio":if((v=window.screen.width/window.screen.height)==(y=(y=p.split("/"))[0]/y[1]))return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-device-aspect-ratio":case"max-device-aspect-ratio":var y;if(v=window.screen.width/window.screen.height,y=(y=p.split("/"))[0]/y[1],0==h.indexOf("min-")){if(v>=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"device-pixel-ratio":if((v=window.devicePixelRatio)==p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-device-pixel-ratio":case"max-device-pixel-ratio":if(v=window.devicePixelRatio,0==h.indexOf("min-")){if(v>=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return i=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}}}})}),u)){var d,_=function(){d&&clearTimeout(d),d=setTimeout(function(){a.default.get(s.__uid).__updateStyle()},100)};window.addEventListener("resize",_),o.default.add(s.__uid,_)}(0,i.default)(f,function(e,t){var r=e[2],n=t[2];if(r==n)return e[0]>t[0];for(var i=0;i<3;i++)if(r[i]!=n[i])return r[i]>n[i];return e[0]>t[0]});var h="";return f.forEach(function(e){h+=e[1]+";"}),h}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Array(4096),i={index:0,add:function(e){!e.__hasDes&&this.index<4096&&(n[this.index++]=e,e.__hasDes=!0)},get:function(){return n[--this.index]}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=o(r(4)),a=o(r(13));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n){t.unshift(e.name),r.unshift(a.default.splitClass(e.__cache.class)),n.unshift(a.default.preId(e.__cache.id))}function u(e,t,r,i,o,s){if(!n)for(var l=a.default.combo(r[e],t[e],i[e],o),f=0,c=l.length;f<c;f++){var d=l[f];if(o.hasOwnProperty(d)){var _=o[d];if(e){u(e-1,t,r,i,_,s.parent);for(var h=e-2;h>=0;h--)u(h,t,r,i,_,s.parent)}if(_.hasOwnProperty("_v"))return void(n=!0);if(_.hasOwnProperty("_:")||_.hasOwnProperty("_[")){var p=function(o){if(o&&o.hasOwnProperty("_[")){var l=o["_["];l.forEach(function(o){a.default.attr(o[0],s)&&(l=o[1],e&&u(e-1,t,r,i,l,s.parent),l.hasOwnProperty("_v")&&(n=!0))})}};_.hasOwnProperty("_:")&&(v=_["_:"]).forEach(function(o){a.default.pseudo(o[0],s,d)&&(v=o[1],e&&u(e-1,t,r,i,v,s.parent),v.hasOwnProperty("_v")&&(n=!0))}),p(_),p(v)}if(_.hasOwnProperty("_>")){var v=_["_>"];u(e-1,t,r,i,v,s.parent)}if(_.hasOwnProperty("_+")){v=_["_+"];(O=s.prev())&&Object.keys(v).forEach(function(o){a.default.nci(o,O)||(v[o].hasOwnProperty("_v")?n=!0:u(e-1,t,r,i,v[o],s.parent))})}if(_.hasOwnProperty("_~")){v=_["_~"];var y=s.prevAll();if(y.length){var g=!1;for(f=y.length-1;f>=0;f--){var O=y[f];if(Object.keys(v).forEach(function(o){a.default.nci(o,O)||(v[o].hasOwnProperty("_v")?n=!0:(g=!0,u(e-1,t,r,i,v[o],s.parent)))}),g)break}}}}}}t.default=function(e,t,r){var a=e.target,o=i.default.get(a.getAttribute("migi-uid"));if(!o.__dom)return[!1];if(o==r||!o)return[!1];var l=[],f=[],c=[];s(o,l,f,c);for(var d=o;d.parent&&d.parent!=r;)s(d=d.parent,l,f,c);for(n=!1,u(l.length-1,l,f,c,t,o);!n&&l.length;)o=o.parent,l.pop(),f.pop(),c.pop(),u(l.length-1,l,f,c,t,o);return[n,o]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1));var i={button:{disabled:1},input:{autofocus:1,checked:1,defaultChecked:2,defaultchecked:2,defaultValue:2,defaultvalue:2,disabled:1,multiple:1,readOnly:1,readonly:1,required:1},link:{disabled:1},option:{defaultSelected:2,defaultselected:2,disabled:1,selected:1,text:2},select:{autofocus:1,disabled:1,multiple:1,selectedIndex:2,selectedindex:2},textarea:{autofocus:1,defaultValue:2,defaultvalue:2,disabled:1,readOnly:1,readonly:1},audio:{autoplay:1,controls:1,loop:1,muted:1},video:{autoplay:1,controls:1,loop:1,muted:1}},a={button:{disabled:2},input:{autofocus:2,checked:2,defaultChecked:2,defaultchecked:2,defaultValue:1,defaultvalue:1,disabled:2,readOnly:2,readonly:2,required:2,value:1},link:{checked:2},option:{defaultSelected:2,defaultselected:2,disabled:2,selected:2,text:1},select:{autofocus:2,disabled:2,required:2,selectedIndex:0,selectedindex:0,value:1},textarea:{autofocus:2,defaultValue:1,defaultvalue:1,disabled:2,readOnly:2,readonly:2,required:2,value:1},audio:{autoplay:2,controls:2,loop:2,muted:2},video:{autoplay:2,controls:2,loop:2,muted:2}},o={defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defautlValue",readonly:"readOnly",selectindex:"selectIndex"};t.default={RENDER_EXIST:1,RENDER_DOM:2,special:function(e,t){if(i.hasOwnProperty(e)){var r=i[e];if(r.hasOwnProperty(t))return r[t]}},update:function(e,t,r,i,s){if(a.hasOwnProperty(e)){var u=a[e];if(u.hasOwnProperty(r)){switch(u=u[r],r=o[r]||r,u){case 0:i=parseInt(i),t[r]=i||0;break;case 1:i=n.default.stringify(i),t[r]=i;break;case 2:i=!!i,t[r]=i}return}}switch(r){case"className":r="class";break;case"htmlFor":r="for"}if(s)switch(r){case"id":case"class":r="migi-"+r}null===i||void 0===i?t.removeAttribute(r):"id"==r?t[r]=i:"class"==r?t.className=i:t.setAttribute(r,i)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={optimizeArrayDiff:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=o(r(0)),a=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return a.__handler={},a.__timeout,a.__timecb,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),n(t,[{key:"__data",value:function(e){var t=this;t.__dom&&(t.__canData=!0),Array.isArray(e)||(e=[e]),e.forEach(function(e){t.__handler[e]=!0}),t.__ccb||(t.__ccb=!0,t.__timeout=setTimeout(t.__timecb=function(){t.__ccb=!1;var e=t.__handler,r=Object.keys(e);t.__handler={},r.length&&(t.__onData(r),t.emit(i.default.DATA,r,r.map(function(e){return t[e]})))},0))}},{key:"flush",value:function(){this.__timeout&&(clearTimeout(this.__timeout),this.__ccb=!1,this.__timecb())}}]),t}();t.default=s},function(e,t,r){e.exports=r(24).default},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=T(r(0)),i=T(r(2)),a=T(r(7)),o=T(r(30)),s=T(r(3)),u=T(r(8)),l=T(r(22)),f=T(r(5)),c=T(r(6)),d=T(r(17)),_=T(r(1)),h=T(r(9)),p=T(r(11)),v=T(r(4)),y=T(r(16)),g=T(r(12)),O=T(r(19)),b=T(r(20)),m=T(r(21));function T(e){return e&&e.__esModule?e:{default:e}}var k={uid:0,render:function(e,t){return t&&e.appendTo(t),e},preRender:function(e){return e.toString()},preExist:function(e){return e.preString(),e.emit(n.default.DOM)},createCp:function(e,t,r){return v.default.set(new e(this.uid++,t,r))},createVd:function(e,t,r){if("style"==e||"script"==e)throw new Error("can not create VirtualDom of: "+e);return v.default.set(d.default.index?d.default.get().__reset(this.uid++,e,t,r):new u.default(this.uid++,e,t,r))},Event:n.default,Model:a.default,CacheModel:o.default,eventBus:new n.default,Element:i.default,Component:s.default,CacheComponent:l.default,VirtualDom:u.default,Obj:f.default,Cb:c.default,util:_.default,browser:h.default,sort:p.default,hash:v.default,match:y.default,matchHash:g.default,attr:O.default,selfClose:b.default,name:function(e,t){s.default.prototype.isPrototypeOf(e.prototype)&&(e.__migiName=t)},resetUid:function(e){this.uid=e||0},clone:function(){var e=Object.create(k);return e.uid=0,e},dev:m.default};"undefined"!=typeof window?window.migi=k:void 0!==e&&(e.migi=k),t.default=k}).call(this,r(25))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(0)),i=p(r(3)),a=p(r(6)),o=p(r(1)),s=p(r(9)),u=p(r(15)),l=p(r(17)),f=p(r(10)),c=p(r(4)),d=p(r(12)),_=p(r(14)),h=p(r(18));function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,i,a){var u;if(a){var l=o.default.stringify(i);u=document.createTextNode(l||""),e.replaceChild(u,t[r])}else{if(u=i.toString(),1==t[r].nodeType)t[r].insertAdjacentHTML("afterend",u),e.removeChild(t[r]);else{var f=s.default.getParent(i.__name);f.innerHTML=u,e.replaceChild(f.firstChild,t[r])}i.emit(n.default.DOM)}}function y(e,t,r,i,a){var u;if(a){var l=o.default.stringify(i);u=document.createTextNode(l||""),r>=t.length?e.appendChild(u):e.insertBefore(u,t[r])}else{if(u=i.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",u);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("beforebegin",u);else{var f=s.default.getParent(i.name);f.innerHTML=u,e.insertBefore(f.firstChild,t[r])}i.emit(n.default.DOM)}}function g(e,t,r,n,i,a){if(Array.isArray(r)){n.index.push(0);for(var s=0,u=Math.max(r.length,1);s<u;s++){var l=r[s];n.index[n.index.length-1]=s,g(e,t,l,n,i,a&&s==u-1)}n.index.pop()}else if(o.default.isDom(r)){if(r.__parent=e,r.__top=e.top,r.style=e.style,c.default.set(r),i.prev)i.prev==f.default.TEXT&&n.start++,y(t,t.childNodes,n.start++,r);else{switch(n.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:k(n),n.start++;break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:}y(t,t.childNodes,n.start++,r)}i.prev=f.default.DOM}else{if(i.prev)i.prev==f.default.DOM&&(y(t,t.childNodes,n.start,r,!0),T(n)),k(n);else switch(n.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:k(n);break;case f.default.TEXT_TO_DOM:y(t,t.childNodes,n.start,r,!0),T(n),k(n);break;case f.default.DOM_TO_DOM:y(t,t.childNodes,n.start,r,!0),T(n)}i.prev=f.default.TEXT}if(a){switch(n.state){case f.default.TEXT_TO_TEXT:i.prev==f.default.DOM&&(n.state=f.default.TEXT_TO_DOM);break;case f.default.DOM_TO_DOM:i.prev==f.default.TEXT&&(n.state=f.default.DOM_TO_TEXT);break;case f.default.TEXT_TO_DOM:i.prev==f.default.TEXT&&(n.state=f.default.TEXT_TO_TEXT);break;case f.default.DOM_TO_TEXT:i.prev==f.default.DOM&&(n.state=f.default.DOM_TO_DOM)}n.prev=i.prev}}function O(e,t,r,n,i){if(Array.isArray(t))for(var a=0,s=t.length;a<s;a++)O(e,t[a],r,n,i&&a==s-1);else if(o.default.isDom(t)){switch(r.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:b(e,r.start+1);break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:b(e,r.start)}n.prev=f.default.DOM,o.default.getAllChildrenElement(t).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(t.__destroy())}else{if(n.prev){if(n.prev==f.default.DOM)switch(r.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:b(e,r.start+1),k(r);break;case f.default.DOM_TO_DOM:case f.default.TEXT_TO_DOM:b(e,r.start)}}else switch(r.state){case f.default.DOM_TO_TEXT:b(e,r.start+1),k(r);break;case f.default.TEXT_TO_TEXT:k(r);break;case f.default.DOM_TO_DOM:b(e,r.start);break;case f.default.TEXT_TO_DOM:}n.prev=f.default.TEXT}if(i)switch(r.state){case f.default.TEXT_TO_TEXT:n.prev==f.default.DOM?r.state=f.default.DOM_TO_TEXT:k(r);break;case f.default.DOM_TO_DOM:n.prev==f.default.TEXT&&(r.state=f.default.TEXT_TO_DOM);break;case f.default.TEXT_TO_DOM:n.prev==f.default.DOM&&(r.state=f.default.DOM_TO_DOM);break;case f.default.DOM_TO_TEXT:n.prev==f.default.TEXT&&(r.state=f.default.TEXT_TO_TEXT)}}function b(e,t){e.childNodes[t]&&e.removeChild(e.childNodes[t])}function m(e,t){return void 0!==e&&null!==e||(e=""),void 0!==t&&null!==t||(t=""),e.toString()==t.toString()}function T(e){e.history=e.index.slice()}function k(e){var t=e.start;e.range.length&&e.range[e.range.length-1].start==t||e.range.push({start:t,index:e.history.slice()})}function w(e,t,r,s,p){var b=Array.isArray(r),E=Array.isArray(s);if(b&&E){var D=r.length,M=s.length,x=D?1:0,A=M?2:0;switch(p.index.push(0),x|A){case 0:p.state==f.default.TEXT_TO_DOM&&y(t,t.childNodes,p.start++,s,!0),p.state=f.default.TEXT_TO_TEXT,p.prev=f.default.TEXT;break;case 1:w(e,t,r[0],s[0],p);for(var P={},j=1;j<D;j++)O(t,r[j],p,P,j==D-1);break;case 2:w(e,t,r[0],s[0],p);for(P={},j=1;j<M;j++)p.index[p.index.length-1]=j,g(e,t,s[j],p,P,j==M-1);break;case 3:j=0;for(var X=Math.min(D,M);j<X;j++)p.index[p.index.length-1]=j,w(e,t,r[j],s[j],p);P={};if(j<D)for(;j<D;j++)O(t,r[j],p,P,j==D-1);else if(j<M)for(;j<M;j++)p.index[p.index.length-1]=j,g(e,t,s[j],p,P,j==M-1)}p.index.pop()}else if(b){w(e,t,r[0],s,p);for(P={},j=1,X=r.length;j<X;j++)O(t,r[j],p,P,j==X-1)}else if(E){p.index.push(0),w(e,t,r,s[0],p);for(P={},j=1,X=s.length;j<X;j++)p.index[p.index.length-1]=j,g(e,t,s[j],p,P,j==X-1);p.index.pop()}else{var S=o.default.isDom(r)?1:0,L=o.default.isDom(s)?2:0,C=t.childNodes;switch(S|L){case 0:if(p.first)T(p),m(r,s)||k(p);else switch(p.state){case f.default.DOM_TO_TEXT:t.removeChild(C[p.start+1]),k(p);break;case f.default.TEXT_TO_DOM:y(t,C,p.start,s,!0),T(p),k(p);break;case f.default.DOM_TO_DOM:T(p);case f.default.TEXT_TO_TEXT:m(r,s)||k(p)}p.state=f.default.TEXT_TO_TEXT,p.prev=f.default.TEXT;break;case 1:if(r.__delRef(),p.first)v(t,C,p.start,s,!0),T(p);else switch(p.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:k(p),t.removeChild(C[p.start+1]);break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:v(t,C,p.start,s,!0),T(p)}o.default.getAllChildrenElement(r).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(r.__destroy()),p.state=f.default.DOM_TO_TEXT,p.prev=f.default.TEXT;break;case 2:if(s.__parent=e,s.__top=e.top,s.style=e.style,c.default.set(s),p.first)v(t,C,p.start++,s);else switch(p.state){case f.default.DOM_TO_TEXT:p.start++;case f.default.DOM_TO_DOM:v(t,C,p.start++,s);break;case f.default.TEXT_TO_DOM:y(t,C,p.start++,s);break;case f.default.TEXT_TO_TEXT:k(p),y(t,C,++p.start,s),p.start++}p.state=f.default.TEXT_TO_DOM,p.prev=f.default.DOM;break;case 3:switch(p.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:p.start++}var N=r instanceof i.default?1:0;switch(N|(s instanceof i.default?2:0)){case 0:r.__delRef(),r.__name==s.__name?(r.__parent=e,r.__top=e.top,function(e,t){if(e!=t){for(var r=e.element,n=["__uid","__element","__parent","__top","__style","__dom","__names"],i=n.length-1;i>=0;i--)t[f=n[i]]=e[f];c.default.set(t);var s={};for(i=e.__props.length-1;i>=0;i--){var f=(g=e.__props[i])[0],d=g[1];if(0!=f.indexOf("on")||"on"==f)if(s[f]=!0,t.props.hasOwnProperty(f)){var p=t.props[f];p!==d&&t.__updateAttr(f,p),t.__cache[f]=p}else t.__updateAttr(f,null),delete t.__cache[f]}e.__removeListener();var v=t.__props.length,y=function(){g=t.__props[i],f=g[0];var e=g[1];0==f.indexOf("on")&&"on"!=f?(O=f.slice(2).toLowerCase(),t.__addListener(O,function(r){r=r||window.event,(0,_.default)(r);var n=r.target.getAttribute("migi-uid"),i=c.default.get(n);e instanceof a.default?e.cb.call(e.context,r,t,i):o.default.isFunction(e)?e(r,t,i):Array.isArray(e)&&e.forEach(function(e){var n=e[1];(0,h.default)(r,e[0],t)&&(n instanceof a.default?n.cb.call(n.context,r,t,i):o.default.isFunction(n)&&n(r,t,i))})})):s.hasOwnProperty(f)||t.__updateAttr(f,e)};for(i=0;i<v;i++){var g,O;y()}t.__style&&t.__updateStyle(!0);var b={start:0,index:[],range:[],first:!0};if(w(t,r,e.children,t.children,b),b.range.length){if("textarea"==t.__name)return void t.__updateAttr("value",u.default.value(b.range[0],t.children));for(i=0,v=b.range.length;i<v;i++)u.default.update(b.range[i],t.children,r)}l.default.add(e.__destroy())}}(r,s),s.__saveRef()):(s.__parent=e,s.__top=e.top,s.style=e.style,(t=r.element).insertAdjacentHTML("afterend",s.toString()),t.parentNode.removeChild(t),s.emit(n.default.DOM),d.default.del(r.__uid),c.default.set(s),l.default.add(r.__destroy()));break;default:r.__delRef(),(t=r.element).insertAdjacentHTML("afterend",s.toString()),t.parentNode.removeChild(t),s.__parent=e,s.__top=e.top,N?d.default.del(r.virtualDom.__uid):d.default.del(r.__uid),s.style=e.style,s.emit(n.default.DOM),c.default.set(s),o.default.getAllChildrenElement(N?r.__virtualDom:r).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(r.__destroy())}p.state=f.default.DOM_TO_DOM,p.prev=f.default.DOM,p.start++}}p.first=!1}function E(e,t,r){r.state==f.default.TEXT_TO_DOM?(y(e,e.childNodes,r.start,t,!0),T(r),k(r)):r.state==f.default.DOM_TO_TEXT&&(k(r),b(e,r.start+1))}function D(e,t,r){if(Array.isArray(t)){r.index.push(0);for(var n=0,i=t.length;n<i;n++)r.index[r.index.length-1]=n,D(e,t[n],r);r.index.pop()}else o.default.isDom(t)?(r.prev==f.default.TEXT&&r.start++,r.state=f.default.DOM_TO_DOM,r.prev=f.default.DOM,r.start++):((r.first||r.prev==f.default.DOM)&&T(r),r.state=f.default.TEXT_TO_TEXT,r.prev=f.default.TEXT),r.first=!1}t.default={diff:function(e,t,r,n,i,a){a?function(e,t,r,n,i,a){var s=r.length,u=n.length,l=s?1:0,c=u?2:0;switch(i.index.push(0),l|c){case 0:i.state==f.default.TEXT_TO_DOM&&y(t,t.childNodes,i.start++,n,!0),i.state=f.default.TEXT_TO_TEXT,i.prev=f.default.TEXT;break;case 1:w(e,t,r[0],n[0],i);for(var d={},_=1;_<s;_++)O(t,r[_],i,d,_==s-1);break;case 2:w(e,t,r[0],n[0],i);for(var d={},_=1;_<u;_++)i.index[i.index.length-1]=_,g(e,t,n[_],i,d,_==u-1);break;case 3:var h=o.default.arrFirst(r),p=o.default.arrFirst(n),v=o.default.isDom(h)?1:0,b=o.default.isDom(p)?2:0,d={};switch(a.method){case"push":i.first||0!=b||(i.index[i.index.length-1]=0,E(t,p,i));for(var _=0;_<s;_++)i.index[i.index.length-1]=_,D(t,n[_],i);for(;_<u;_++)i.index[i.index.length-1]=_,g(e,t,n[_],i,d,_==u-1);break;case"pop":i.first||0!=b||(i.index[i.index.length-1]=0,E(t,p,i));for(var _=0;_<u;_++)i.index[i.index.length-1]=_,D(t,n[_],i);O(t,r[u],i,{},!0);break;case"unshift":i.first&&(i.state=f.default.DOM_TO_DOM);for(var _=0;_<u-s;_++)i.index[i.index.length-1]=_,g(e,t,n[_],i,d,_==u-s-1);for(0==v&&(i.index[i.index.length-1]=_,E(t,h,i));_<u;_++)i.index[i.index.length-1]=_,D(t,n[_],i);break;case"shift":i.first&&(i.state=f.default.DOM_TO_DOM),O(t,r[0],i,{},!0),0==b&&(i.index[i.index.length-1]=0,E(t,p,i));for(var _=0;_<u;_++)i.index[i.index.length-1]=_,D(t,n[_],i);break;case"splice":for(var m=a.args[0],T=a.args[1],k=a.args.length-2,_=0;_<m;_++)i.index[i.index.length-1]=_,D(t,n[_],i);for(i.first&&(i.state=f.default.DOM_TO_DOM);_<Math.min(T,k)+m;_++)i.index[i.index.length-1]=_,w(e,t,r[_],n[_],i);if(T>k)for(var M=_;M<T+m;M++)O(t,r[M],i,d,M==T+m-1);else if(T<k)for(;_<k+m;_++)i.index[i.index.length-1]=_,g(e,t,n[_],i,d,_==k+m-1);for(_<u&&(p=o.default.arrFirst(n[_]),o.default.isDom(p)||(i.index[i.index.length-1]=_,E(t,p,i)));_<u;_++)i.index[i.index.length-1]=_,D(t,n[_],i)}}i.index.pop(),i.first=!1}(e,t,r,n,i,a):w(e,t,r,n,i)},checkText:E,recordRange:T,addRange:k}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i){function a(i){c.first?f.push({vd:e,name:t,cb:r}):(u=i.touches[0],i.touches&&1===i.touches.length&&c.x2&&(c.x2=void 0,c.y2=void 0),c={vd:e,name:t,cb:r,first:!0,x1:u.pageX,y1:u.pageY},n=c,o=Date.now(),s=o-_,_=o,s>0&&s<250&&(c.isDoubleTap=!0))}l||(l=!0,document.addEventListener("touchmove",y,!0),document.addEventListener("touchend",g,!0),document.addEventListener("touchcancel",v,!0),window.addEventListener("scroll",v),window.addEventListener("blur",v)),i.push(["touchstart",a]),e.element.addEventListener("touchstart",a)};var n,i,a,o,s,u,l,f=[],c={},d=750,_=0,h=0,p=0;function v(){i&&clearTimeout(i),a&&clearTimeout(a),i=a=null,c={},f=[]}function y(e){c.vd&&(u=e.touches[0],c.x2=u.pageX,c.y2=u.pageY,h+=Math.abs(c.x1-c.x2),p+=Math.abs(c.y1-c.y2))}function g(e){c.vd&&(c.x2&&Math.abs(c.x1-c.x2)>30||c.y2&&Math.abs(c.y1-c.y2)>30?a=setTimeout(function(){var t="swipe"+function(e,t,r,n){return Math.abs(e-t)>=Math.abs(r-n)?e-t>0?"left":"right":r-n>0?"up":"down"}(c.x1,c.x2,c.y1,c.y2);"swipe"!=c.name&&c.name!=t||c.cb(e),f.forEach(function(r){"swipe"!=r.name&&r.name!=t||r.cb(e)}),c={},f=[]},0):h<30&&p<30?i=setTimeout(function(){Date.now()-_>d?("longtap"==c.name&&c.cb(e),f.forEach(function(t){"longtap"==t.name&&t.cb(e)})):c.isDoubleTap&&c.vd==n.vd&&("doubletap"==c.name&&c.cb(e),f.forEach(function(t){"doubletap"==t.name&&t.cb(e)})),c={},f=[]},0):(c={},f=[]),h=p=0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={domactivate:"DOMActivate",domfocusin:"DOMFocusIn",msgestureend:"MSGestureEnd",mspointerdown:"MSPointerDown",mspointermove:"MSPointerMove",mspointerup:"MSPointerUp",mspointercancel:"MSPointerCancel"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Array.prototype,i=Object.create(n);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=n[e];Object.defineProperty(i,e,{value:function(){for(var r=arguments.length,n=new Array(r);r--;)n[r]=arguments[r];var i=t.apply(this,n);return Array.isArray(this.__cb__)&&this.__cb__.forEach(function(t){"sort"==e||"reverse"==e?t():t({method:e,args:n})}),i}})}),t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(7)),i=a(r(22));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__handler={},e.__ccb=!1,e.__timeout,e.__timecb,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),t}();o.prototype.__data=i.default.prototype.__data,t.default=o}]);