!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(32)},function(e,t){function r(){this.__hash={}}r.prototype.on=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.on(e,t)});else if(t){r.__hash.hasOwnProperty(e)||(r.__hash[e]=[]);for(var n=0,a=r.__hash[e],i=a.length;i>n;n++)if(a[n]===t)return r;r.__hash[e].push(t)}return r},r.prototype.once=function(e,t){var r=this;return Array.isArray(e)?e.forEach(function(e){r.once(e,t)}):t&&!function(){function n(a){a=[].slice.call(arguments,0),t.apply(this,a),r.off(e,n)}r.on(e,n)}(),this},r.prototype.off=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.off(e,t)});else if(r.__hash.hasOwnProperty(e))if(t){for(var n=0,a=r.__hash[e],i=a.length;i>n;n++)if(a[n]===t){a.splice(n,1);break}}else delete r.__hash[e];return this},r.prototype.emit=function(e,t){t=[].slice.call(arguments,1);var r=this;if(Array.isArray(e))e.forEach(function(e){r.emit(e,t)});else if(r.__hash.hasOwnProperty(e)){var n=r.__hash[e].slice();n.forEach(function(e){e.apply(r,t)})}return this},r.mix=function(e){e=[].slice.call(arguments,0),e.forEach(function(e){var t=new r;e.__hash={};var n=["on","once","off","emit"];n.forEach(function(r){e[r]=t[r]})})},r.DOM="__0",r.DESTROY="__1",r.DATA="__2",t["default"]=r},function(e,t,r){function n(e){if(e instanceof l)return e;if(i(e))return e;var t=Array.isArray(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];a instanceof l?t[r]=a:h.isDate(a)?t[r]=new Date(a):t[r]=h.isObject(a)?n(a):a}return t}function a(e){return function(t){return d.call(t)=="[object "+e+"]"}}function i(e){return void 0===e||null===e||h.isBoolean(e)||h.isNumber(e)||h.isString(e)}function o(e,t){if(e instanceof l||t instanceof l)return e==t;if(i(e)||i(t))return e===t;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(var r=0,n=e.length;n>r;r++)if(!o(e[r],t[r]))return!1;return!0}if(h.isDate(e))return h.isDate(t)?e-t==0:!1;if(h.isObject(e)){if(!h.isObject(t))return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var r=0,n=a.length;n>r;r++)if(!t.hasOwnProperty(r)||!o(e[r],t[r]))return!1;return!0}}function s(e,t){var r="";return e.forEach(function(e){r+=Array.isArray(e)?s(e):e instanceof l?t?f(e.toString(),t):e.toString():f(u(e),t)}),r}function c(e){var t="";return e.forEach(function(e){t+=Array.isArray(e)?c(e):e.toString()}),t}function u(e){return null===e||void 0===e?"":e.toString()}function f(e,t){return t?e.replace(/"/g,"&quot;"):e.replace(/</g,"&lt;")}var l=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),d={}.toString,h={clone:function(e){return l.hasOwnProperty("default")&&(l=l["default"]),n(e)},isObject:a("Object"),isString:a("String"),isFunction:a("Function"),isNumber:a("Number"),isBoolean:a("Boolean"),isDate:a("Date"),equal:function(e,t){return l.hasOwnProperty("default")&&(l=l["default"]),o(e,t)},stringify:u,encodeHtml:f,joinArray:function(e,t){return l.hasOwnProperty("default")&&(l=l["default"]),s(e,t)},joinSourceArray:function(e){return l.hasOwnProperty("default")&&(l=l["default"]),c(e)}};t["default"]=h},function(e,t,r){function n(e){return u.isString(e)?document.querySelector(e):e instanceof s?e.element:e}function a(e){var t={};return e.forEach(function(e){Array.isArray(e)?t[e[0]]=e[1]:Object.keys(e).forEach(function(r){t[r]=e[r]})}),t}function i(e){var t=[];return Object.keys(e).forEach(function(r){t.push([r,e[r]])}),t}function o(e){for(var t=0,r=e.length;r>t;t++){var n=e[t];if(!Array.isArray(n)){var a=[];Object.keys(n).forEach(function(e){a.push([e,n[e]])}),e.splice.apply(e,[t,1].concat(Array.from(a)))}}return e}function s(e,t,r){c.call(this),this.__reset(e,t,r)}var c=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),f=0;!function(){var e=Object.create(c.prototype);e.constructor=s,s.prototype=e}(),s.prototype.__reset=function(e,t,r){this.uid=f++,this.__name=e,Array.isArray(t)?(this.props=a(t),this.__props=o(t)):(this.props=t,this.__props=i(t)),this.children=r,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(c.DOM,this.__onDom)},s.prototype.clean=function(){if(this.__dom){this.__dom=!1,this.once(c.DOM,this.__onDom);var e=this.element;e&&e.parentNode.removeChild(e)}},s.prototype.__onDom=function(){this.__dom=!0,this.__saveRef()},s.prototype.__saveRef=function(){if(this.__cache.ref){var e=this.top;if(e){var t=this.__cache.ref,r=e.ref[t];Array.isArray(r)?r.push(this):r?e.ref[t]=[r,this]:e.ref[t]=this}}},s.prototype.inTo=function(e){this.clean();var t=this.toString();n(e).innerHTML=t,this.emit(c.DOM)},s.prototype.appendTo=function(e){this.clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("beforeend",t),this.emit(c.DOM)},s.prototype.prependTo=function(e){this.clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterbegin",t),this.emit(c.DOM)},s.prototype.before=function(e){this.clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("beforebegin",t),this.emit(c.DOM)},s.prototype.after=function(e){this.clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterend",t),this.emit(c.DOM)},s.prototype.replace=function(e){this.clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterend",t),e.parentNode.removeChild(e),this.emit(c.DOM)};var l={};l.top={},l.top.get=function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component?this.__top=this.parent:this.__top=this.parent.top),this.__top},l.parent={},l.parent.get=function(){return this.__parent},l.name={},l.name.get=function(){return this.__name},l.dom={},l.dom.get=function(){return this.__dom},s.resetUid=function(){f=0},Object.keys(l).forEach(function(e){Object.defineProperty(s.prototype,e,l[e])}),Object.keys(c).forEach(function(e){s[e]=c[e]}),t["default"]=s},function(e,t,r){function n(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),u.hasOwnProperty("default")&&(u=u["default"]);var r=this,n=r.constructor.__migiName;i.call(this,n,e,t),r.__virtualDom=null,r.__ref={},r.__stop=null,r.__model=null,r.__allowPropagation=!0,r.__bridgeHash={},r.__stream=null,r.__canData=!1,r.__bindHash={},r.__props.forEach(function(e){var t=e[0],n=e[1];r.__init(t,n)}),r.on(a.DATA,r.__onData)}var a=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(18);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(17);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(25);return e.hasOwnProperty("default")?e["default"]:e}(),h=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touchstart","touchmove","touchend","touchcancel","MSGestureEnd","MSPointerDown","pointerdown","MSPointerMove","pointermove","MSPointerUp","pointerup","MSPointerCancel","pointercancel"];!function(){var e=Object.create(i.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__init=function(e,t){var r=this;if(/^on[a-zA-Z]/.test(e)){var n=e.slice(2).toLowerCase();r.once(a.DOM,function(){r.virtualDom.__addEvt(n,t)})}else"model"==e&&(r.model=t)},n.prototype.render=function(){return new o("div",this.props,this.children)},n.prototype.toString=function(){if(this.__virtualDom=this.render(),!this.__virtualDom)throw new Error("render must return a VirtualDom: "+this.name);return this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()},n.prototype.findChild=function(e){return this.findChildren(e,!0)[0]},n.prototype.findChildren=function(e,t){for(var r=[],a=0,o=this.children.length;o>a;a++){var c=this.children[a];if(c instanceof i)if(c instanceof n){if((c.name==e||s.isFunction(e)&&c instanceof e)&&(r.push(c),t))break}else{if((c.name==e||s.isFunction(e)&&c instanceof e)&&(r.push(c),t))break;if(r=r.concat(c.findAll(e)),t&&r.length)break}}return r},n.prototype.find=function(e){return this.__virtualDom?this.__virtualDom.find(e):null},n.prototype.findAll=function(e){return this.__virtualDom?this.__virtualDom.findAll(e):[]},n.prototype.bridge=function(e,t,r,a){u.hasOwnProperty("default")&&(u=u["default"]);var i=this;if(e==this)throw new Error("can not bridge self: "+i.name);if(!(e&&(e instanceof c||e instanceof n||e instanceof u)))throw new Error("can only bridge to EventBus/Component/Model: "+i.name);2==arguments.length?s.isString(t)?i.__record(e,t,t):Object.keys(t).forEach(function(r){var n=t[r];s.isString(n)?i.__record(e,r,n):s.isFunction(n)?i.__record(e,r,r,n):n.name&&i.__record(e,r,n.name,n.middleware)}):3==arguments.length?s.isString(r)?i.__record(e,t,r):(a=r,i.__record(e,t,t,a)):4==arguments.length&&i.__record(e,t,r,a)},n.prototype.__onDom=function(e){function t(e){e=e||window.event,e.target!=o&&e.srcElement!=o&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}i.prototype.__onDom.call(this);var r=this;r.virtualDom.emit(a.DOM,e);var o=r.element;o.setAttribute("migi-name",r.name),e||r.children==r.virtualDom.children||n.fakeDom(r.children),"true"!=r.props.allowPropagation&&("false"!=r.props.allowPropagation&&r.allowPropagation||(r.__stop=t,h.forEach(function(e){o.addEventListener(e,t)}),l.attach(o)))},n.prototype.__data=function(e){var t=this;t.dom&&(t.__canData=!0),t.emit(a.DATA,e),Array.isArray(e)||(e=[e]),e.forEach(function(e){var r=t.__bridgeHash[e];if(r){var n=t.__stream||new f(t.uid),i=t[e];r.forEach(function(e){var r=e.target,o=e.name,s=e.middleware;n.has(r.uid)||(n.add(r.uid),r instanceof c?r.emit(a.DATA,o,s?s.call(t,i):i,n):(r.__stream=n,r[o]=s?s.call(t,i):i,r.__stream=null))})}})},n.prototype.__onData=function(e){this.dom&&this.canData&&(this.virtualDom&&this.virtualDom.__onData(e),this.children.forEach(function(t){t instanceof o&&t.__onData(e)}))},n.prototype.__destroy=function(){var e=this;if(e.__stop){var t=e.element;h.forEach(function(r){t.removeEventListener(r,e.__stop)})}e.model&&e.model.__del(e);var r=e.virtualDom.__destroy();return e.emit(a.DESTROY),e.__hash={},r},n.prototype.__initBind=function(e){return this.__bindHash.hasOwnProperty(e)?!1:(this.__bindHash[e]=!0,!0)},n.prototype.__getBind=function(e){return this[e+"__"]},n.prototype.__setBind=function(e,t){this.__bindHash[e]=!0,this[e+"__"]=t,this.__array(e,t)},n.prototype.__array=function(e,t){Array.isArray(t)&&t.__proto__!=d&&(t.__proto__=d,t.__ob__=function(){this[e]=this[e]})};var p={};p.allowPropagation={},p.allowPropagation.get=function(){return this.__allowPropagation},p.allowPropagation.set=function(e){this.__allowPropagation=e},p.element={},p.element.get=function(){return this.virtualDom?this.virtualDom.element:null},p.style={},p.style.get=function(){return this.__style},p.style.set=function(e){this.__style=e},p.model={},p.model.get=function(){return this.__model},p.model.set=function(e){if(!(e instanceof u))throw new Error("can not set model to a non Model: "+e);this.__model=e,e.__add(this)},p.virtualDom={},p.virtualDom.get=function(){return this.__virtualDom},p.ref={},p.ref.get=function(){return this.__ref},p.canData={},p.canData.get=function(){return this.__canData},n.fakeDom=function(e){Array.isArray(e)?e.forEach(function(e){n.fakeDom(e)}):e instanceof n?e.emit(a.DOM,!0):e instanceof o&&e.emit(a.DOM,!0)},Object.keys(p).forEach(function(e){Object.defineProperty(n.prototype,e,p[e])}),Object.keys(i).forEach(function(e){n[e]=i[e]}),["__record","__unRecord","bridgeTo","unBridge","unBridgeTo"].forEach(function(e){n.prototype[e]=c.prototype[e]}),t["default"]=n},function(e,t){var r={};t["default"]={get:function(e){return r[e]},set:function(e){return r[e.uid]=e,e}}},function(e,t,r){function n(e){return e instanceof m?e.name+'[migi-uid="'+e.uid+'"]':e.replace(/(^|\s|,|])([A-Z][\w$]*)\b/,'$1[migi-name="$2"]')}function a(e,t){return i(e,t,!0)[0]||null}function i(e,t,r){return o(e,t,[],r)}function o(e,t,r,n){for(var a=0,i=t.length;i>a;a++){var c=t[a];if(c instanceof m?r=s(e,c,r,n):c instanceof O?(c=c.v,Array.isArray(c)?r=o(e,c,r,n):c instanceof m&&(r=s(e,c,r,n))):Array.isArray(c)&&(r=o(e,c,r,n)),n&&r.length)break}return r}function s(e,t,r,n){if(t instanceof g)t instanceof e&&r.push(t);else{if(t instanceof e&&(r.push(t),n))return r;r=r.concat(t.findAll(e,n))}return r}function c(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),g.hasOwnProperty("default")&&(g=g["default"]),j.hasOwnProperty(e)&&r.length)throw new Error("self-close tag can not has chilren: "+e);m.call(this,e,t,r);var n=this;n.__names=null,n.__classes=null,n.__ids=null,n.__inline=null,n.__hover=!1,n.__active=!1,n.__listener=null,n.__init(e,r)}function u(e){return void 0===e||null===e||!e.toString()}function f(e){if(e instanceof m||e instanceof O)return e.toString();if(Array.isArray(e)){var t="";return e.forEach(function(e){t+=f(e)}),t}return w.encodeHtml(w.stringify(e))}function l(e,t){Array.isArray(e)?e.forEach(function(e){l(e,t)}):e instanceof m?e.__parent=t:e instanceof O&&l(e.v,t)}function d(e,t){Array.isArray(e)?e.forEach(function(e){d(e,t)}):e instanceof c?e.style=t:e instanceof O&&d(e.v,t)}function h(e){var t=!0;if(Array.isArray(e))for(var r=0,n=e.length;n>r&&(t=h(e[r]),t);r++);else t=e instanceof m?!1:e instanceof O?h(e.v):u(e);return t}function p(e,t,r,n){if(Array.isArray(e))for(var a=0,i=e.length;i>a&&(p(e[a],t,r,n),!r.done);a++);else if(e instanceof m){if(t==e)return void(r.done=!0);n(e)}else e instanceof O&&p(e.v,t,r,n)}function _(e,t,r,n){if(Array.isArray(e))for(var a=0,i=e.length;i>a&&(_(e[a],t,r,n),!r.done);a++);else e instanceof m?t==e?r.start=!0:r.start&&n(e):e instanceof O&&_(e.v,t,r,n)}function v(e,t){if(void 0===t&&(t=[]),Array.isArray(e))for(var r=0,n=e.length;n>r;r++)v(e[r],t);else e instanceof m?t.push(e):e instanceof O&&v(e.v,t);return t}var y=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),g=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),w=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),O=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}(),b=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),E=function(){var e=r(23);return e.hasOwnProperty("default")?e["default"]:e}(),k=function(){var e=r(29);return e.hasOwnProperty("default")?e["default"]:e}(),P=function(){var e=r(27);return e.hasOwnProperty("default")?e["default"]:e}(),A=function(){var e=r(14);return e.hasOwnProperty("default")?e["default"]:e}(),T=function(){var e=r(21);return e.hasOwnProperty("default")?e["default"]:e}(),D=function(){var e=r(26);return e.hasOwnProperty("default")?e["default"]:e}(),x=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),M=function(){var e=r(31);return e.hasOwnProperty("default")?e["default"]:e}(),S=function(){var e=r(20);return e.hasOwnProperty("default")?e["default"]:e}(),C=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}(),L=function(){var e=r(28);return e.hasOwnProperty("default")?e["default"]:e}(),j={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0},N={swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,longtap:!0,doubletap:!0};!function(){var e=Object.create(m.prototype);e.constructor=c,c.prototype=e}(),c.prototype.toString=function(){var e=this,t="<"+e.name;if(e.__props.forEach(function(r){var n=e.__renderProp(r[0],r[1]);t+=n}),e.__style){var r=e.__match(!0);r&&(t=t.indexOf(' style="')>1?t.replace(/ style="[^"]*"/,' style="'+r+'"'):t+' style="'+r+'"')}return t+=' migi-uid="'+e.uid+'"',e.__checkListener(),e.__selfClose?t+"/>":(t+=">",t+=e.__renderChildren(),t+="</"+e.name+">")},c.prototype.isFirst=function(e){if(this.parent instanceof g)return!0;e=e||this.parent.children;for(var t=0,r=e.length;r>t;t++){var n=e[t];if(Array.isArray(n)&&n.length)return this.isFirst(n);if(n==this)return!0;if(n instanceof c)return!1;if(n instanceof O&&(n=n.v,Array.isArray(n)&&n.length))return this.isFirst(n)}},c.prototype.isLast=function(e){if(this.parent instanceof g)return!0;e=e||this.parent.children;for(var t=e.length-1;t>=0;t--){var r=e[t];if(Array.isArray(r)&&r.length)return this.isLast(r);if(r==this)return!0;if(r instanceof c)return!1;if(r instanceof O&&(r=r.v,Array.isArray(r)&&r.length))return this.isLast(r)}},c.prototype.isEmpty=function(){return h(this.children)},c.prototype.isEnabled=function(){return!this.__cache.disabled},c.prototype.isDisabled=function(){return this.__cache.disabled},c.prototype.isChecked=function(){return this.__cache.checked},c.prototype.prev=function(){var e={};return p(this.parent.children,this,e,function(t){e.prev=t}),e.prev},c.prototype.prevAll=function(e){var t={prev:[]};return p(this.parent.children,this,t,function(r){(e&&!C.nci(e,r)||!e)&&t.prev.push(r)}),t.prev},c.prototype.next=function(){var e={};return _(this.parent.children,this,e,function(t){e.next=t,e.done=!0}),e.next},c.prototype.nextAll=function(e){var t={next:[]};return _(this.parent.children,this,t,function(r){(e&&!C.nci(e,r)||!e)&&t.next.push(r)}),t.next},c.prototype.isOnly=function(){return 1==this.siblings().length},c.prototype.isOnlyOfType=function(e){for(var t=this,r=t.siblings(),n=0,a=r.length;a>n;n++){var i=r[n];if(i!=t&&!C.nci(e,i))return!1}return!0},c.prototype.isFirstOfType=function(e){for(var t=this.prevAll(e),r=0,n=t.length;n>r;r++)if(!C.nci(e,t[r]))return!1;return!0},c.prototype.isLastOfType=function(e){for(var t=this.nextAll(e),r=0,n=t.length;n>r;r++)if(!C.nci(e,t[r]))return!1;return!0},c.prototype.siblings=function(){var e=this.parent,t=v(e.children);return t},c.prototype.getIdx=function(e){var t=this.siblings(),r=t.indexOf(this);return r>-1?e?t.length-r-1:r:-1},c.prototype.getIdxOfType=function(e,t){var r=t?this.nextAll(e):this.prevAll(e);t?r.unshift(this):r.push(this);var n=r.indexOf(this);return n>-1?t?r.length-n-1:n:-1},c.prototype.__renderProp=function(e,t){var r=this,n="";if(/^on[a-zA-Z]/.test(e))r.once(y.DOM,function(n){if(!n){var a=e.slice(2).toLowerCase();r.__addEvt(a,t)}});else if(t instanceof O){if("dangerouslySetInnerHTML"==e)return r.once(y.DOM,function(){r.element.innerHTML=t.toSourceString()}),"";var a=t.toString(!0);"className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=a;var i=D.special(r.name,e);switch(i){case D.RENDER_EXIST:t.v&&(n=" "+e+'="'+a+'"');break;case D.RENDER_DOM:r.once(y.DOM,function(){r.__updateAttr(e,t)});break;default:n=" "+e+'="'+a+'"'}}else{var a=Array.isArray(t)?w.joinSourceArray(t):w.stringify(t);if("dangerouslySetInnerHTML"==e)return r.once(y.DOM,function(){r.element.innerHTML=a}),"";"className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=a;var i=D.special(r.name,e);switch(i){case D.RENDER_EXIST:t&&(n=" "+e+'="'+w.encodeHtml(a,!0)+'"');break;case D.RENDER_DOM:r.once(y.DOM,function(){r.__updateAttr(e,t)});break;default:n=" "+e+'="'+w.encodeHtml(a,!0)+'"'}}if(r.__style)switch(e){case"class":case"id":n=" migi-"+n.slice(1)}return n},c.prototype.__renderChildren=function(){var e=this,t="";return e.children.forEach(function(e){t+=f(e)}),t},c.prototype.__checkListener=function(){var e=this;if("input"==e.name){if(e.props.hasOwnProperty("value")){var t=e.props.value;t instanceof O&&e.once(y.DOM,function(){function r(e){T(e);var r=e.target.value;t.setV(r);var n=t.k;0==n.indexOf("model.")?t.context.model[n.slice(6)]=r:t.context[n]=r}var n=e.__cache.type||"";switch(n.toLowerCase()){case"checkbox":case"radio":case"range":case"color":e.__addListener("change",r);break;default:e.__addListener(["input","paste","cut","change"],r)}})}}else if("select"==e.name){if(e.props.hasOwnProperty("value")){var t=e.props.value;t instanceof O&&e.once(y.DOM,function(){function r(e){T(e);var r=e.target.value;t.setV(r);var n=t.k;0==n.indexOf("model.")?t.context.model[n.slice(6)]=r:t.context[n]=r}e.__addListener("change",r)})}}else if("textarea"==e.name&&1==e.children.length){var r=e.children[0];r instanceof O&&e.once(y.DOM,function(){function t(e){T(e);var t=e.target.value;r.setV(t);var n=r.k;r.context[n]=t}e.__addListener(["input","paste","cut","change"],t)})}},c.prototype.__addEvt=function(e,t){var r=this;r.__addListener(e,function(e){T(e);var n=e.target,a=n.getAttribute("migi-uid"),i=x.get(a);t instanceof b&&w.isFunction(t.cb)?t.cb.call(t.context,e,r,i):w.isFunction(t)?t(e,r,i):Array.isArray(t)&&t.forEach(function(t){var n=t[1],a=S(e,t[0],r);a[0]&&(n instanceof b?n.cb.call(n.context,e,r,a[1],i):w.isFunction(n)&&n(e,r,a[1],i))})})},c.prototype.__addListener=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.__addListener(e,t)});else{r.__listener=r.__listener||[],"tap"==e&&(e="click");var n=r.element;if(N.hasOwnProperty(e))return void M(this,e,t,r.__listener);if(r.__listener.push([e,t]),n.addEventListener(L[e]||e,t),"load"==e&&n.complete){var a=document.createEvent("Event");a.initEvent("load",!0,!0),n.dispatchEvent(a)}}},c.prototype.__removeListener=function(){var e=this;if(e.__listener){var t=e.element;e.__listener.forEach(function(e){t.removeEventListener(e[0],e[1])})}},c.prototype.find=function(e){if(w.isFunction(e))return a(e,this.children);if(this.element){var t=this.element.querySelector(n(e)),r=t.getAttribute("migi-uid");return x.get(r)||null}return null},c.prototype.findAll=function(e){if(w.isFunction(e))return i(e,this.children);var t=[];if(this.element){var r=this.element.querySelectorAll(n(e));Array.from(r).forEach(function(e){if(e){var r=e.getAttribute("migi-uid"),n=x.get(r)||null;n&&t.push(n)}})}return t},c.prototype.__onDom=function(e){m.prototype.__onDom.call(this);var t=this;if(e)return void g.fakeDom(t.children);var r={start:0,first:!0};t.__chenckBlank(t.children,r),(r.empty||r.first)&&t.__insertBlank(r.start)},c.prototype.__chenckBlank=function(e,t){var r=this;if(Array.isArray(e)&&e.length)e.forEach(function(e){r.__chenckBlank(e,t)});else if(e instanceof m&&!(e instanceof migi.NonVisualComponent))t.empty&&r.__insertBlank(t.start),t.start++,t.prev==A.TEXT&&t.start++,t.prev=A.DOM,t.empty=!1,t.first=!1,e.emit(y.DOM);else if(e instanceof O)r.__chenckBlank(e.v,t);else if(u(e)){if(e instanceof migi.NonVisualComponent&&e.emit(y.DOM),t.prev==A.TEXT)return;t.empty=!0,t.prev=A.TEXT,t.first=!1}else t.empty=!1,t.prev=A.TEXT,t.first=!1},c.prototype.__insertBlank=function(e){var t=document.createTextNode(""),r=this.element,n=r.childNodes,a=n.length;!a||e>=a?r.appendChild(t):r.insertBefore(t,n[e])},c.prototype.__onData=function(e){var t=this;if(t.dom){t.__props.forEach(function(r){var n=r[0];if(r=r[1],r instanceof O){var a=!1,i=Array.isArray(e)?1:0,o=Array.isArray(r.k)?2:0;switch(i+o){case 0:a=e==r.k;break;case 1:a=e.indexOf(r.k)>-1;break;case 2:a=r.k.indexOf(e)>-1;break;case 3:var s={};e.forEach(function(e){s[e]=!0});for(var c=r.k,u=0,f=c.length;f>u;u++)if(s.hasOwnProperty(c[u])){a=!0;break}}if(a){var l=r.v;r.update(l)&&t.__updateAttr(n,r.v)}}});for(var r,n=[],a={start:0,record:[],first:!0},i=t.children,o=0,s=i.length;s>o;o++){var c=i[o];r=[o],t.__checkObj(e,c,n,a,r)}if(n.length){if("textarea"==t.name)return void t.__updateAttr("value",E.value(n[0],t.children));n.forEach(function(e){E.update(e,t.children,t.element)})}}},c.prototype.__checkObj=function(e,t,r,n,a){var i=this;if(t instanceof O){var o=!1,s=Array.isArray(e)?1:0,u=Array.isArray(t.k)?2:0;switch(s+u){case 0:o=e==t.k;break;case 1:o=e.indexOf(t.k)>-1;break;case 2:o=t.k.indexOf(e)>-1;break;case 3:var f={};e.forEach(function(e){f[e]=!0});for(var l=t.k,d=0,h=l.length;h>d;d++)if(f.hasOwnProperty(l[d])){o=!0;break}}if(o){var p=t.v;t.update(p)?P.diff(this.element,p,t.v,r,n,a,this):i.__checkObj(e,t.v,r,n,a)}else i.__checkObj(e,t.v,r,n,a)}else t instanceof m?(delete n.t2d,delete n.d2t,t instanceof c&&t.__onData(e),n.start++,n.first||n.prev!=A.TEXT||n.start++,n.prev=A.DOM):Array.isArray(t)&&t.length?(a.push(0),t.forEach(function(t,o){a[a.length-1]=o,i.__checkObj(e,t,r,n,a)}),a.pop()):(P.check(n,this.element,t,r,a),E.record(a,n),n.prev=A.TEXT);n.first=!1},c.prototype.__updateAttr=function(e,t){return"dangerouslySetInnerHTML"==e?((null===t||void 0===t)&&(t=""),this.element.innerHTML=w.stringify(t),void this.__insertBlank(0)):(D.update(this.name,this.element,e,t,this.__style),this.__cache[e]=t,void(this.__style&&this.__updateStyle()))},c.prototype.__match=function(e){this.__inline=this.__cache.style||"",this.__initCI();var t=k(this.__names,this.__classes,this.__ids,this.__style||{"default":{}},this,e);return t+this.__inline},c.prototype.__initCI=function(){var e=this.parent;e instanceof c?(this.__classes=e.__classes.slice(),this.__ids=e.__ids.slice()):(this.__classes=[],this.__ids=[]),this.__classes.push(C.splitClass(this.__cache["class"])),this.__ids.push(C.preId(this.__cache.id))},c.prototype.__updateStyle=function(e){var t=this.__match(e);this.element.getAttribute("style")!=t&&this.element.setAttribute("style",t),e||this.children.forEach(function(e){e instanceof c&&e.__updateStyle()})},c.prototype.__init=function(e,t){var r=this;r.__selfClose=j.hasOwnProperty(e),l(t,r)},c.prototype.__reset=function(e,t,r){return void 0===t&&(t=[]),void 0===r&&(r=[]),m.prototype.__reset.call(this,e,t,r),this.__init(e,r),this.__hasDes=!1,this},c.prototype.__destroy=function(){return(this.__onHover||this.__outHover)&&this.element&&(this.element.removeEventListener("mouseenter",this.__onHover),this.element.removeEventListener("mouseleave",this.__outHover)),this.__hash={},this.__cache={},this.__names=null,this.__classes=null,this.__ids=null,this.__inline=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this};var H={};H.names={},H.names.get=function(){return this.__names||(this.__names=[])},H.element={},H.element.get=function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.uid+'"]'))},H.style={},H.style.get=function(){return this.__style},H.style.set=function(e){var t=this;t.__style=e,t.parent instanceof c?t.__names=t.parent.names.slice():t.__names=[],t.__names.push(t.name),t.children.forEach(function(t){d(t,e)})},Object.keys(H).forEach(function(e){Object.defineProperty(c.prototype,e,H[e])}),Object.keys(m).forEach(function(e){c[e]=m[e]}),t["default"]=c},function(e,t){function r(e,t){this.context=e,this.cb=t}t["default"]=r},function(e,t,r){function n(){a.call(this),this.uid="e"+o++,this.__bridgeHash={},this.on(a.DATA,this.__brcb)}var a=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),o=0;!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__brcb=function(e,t,r){if(this.__bridgeHash.hasOwnProperty(e))for(var n=this.__bridgeHash[e],a=0,i=n.length;i>a;a++){var o=n[a],s=o.target,c=o.name,u=o.middleware;if(!r.has(s.uid)){r.add(s.uid);var f=migi.CacheComponent.getSid(s);r.sid>f&&(s.__stream=r,s[c]=u?u.call(s,t):t,s.__stream=null)}}},n.prototype.__record=function(e,t,r,n){var a=this,i=this.__bridgeHash[t]=this.__bridgeHash[t]||[];i.forEach(function(n){if(n.target==e&&n.name==r)throw new Error("duplicate bridge: "+a+"."+t+" -> "+e+"."+r)}),i.push({target:e,name:r,middleware:n})},n.prototype.__unRecord=function(e,t,r){for(var n=this,a=n.__bridgeHash[t]||[],i=0,o=a.length;o>i;i++){var s=a[i];if(s.target==e&&s.name==r)return void a.splice(i,1)}},n.prototype.bridge=function(e,t,r,n){var a=this;if(e==this)throw new Error("can not bridge self: "+a);if(!(e&&(e instanceof migi.Component||e instanceof migi.Model)))throw new Error("can only bridge to Component/Model: "+a);2==arguments.length?i.isString(t)?a.__record(e,t,t):Object.keys(t).forEach(function(r){var n=t[r];i.isString(n)?a.__record(e,r,n):n.name&&a.__record(e,r,n.name,n.middleware)}):3==arguments.length?i.isString(r)?a.__record(e,t,r):(n=r,a.__record(e,t,t,n)):4==arguments.length&&a.__record(e,t,r,n)},n.prototype.bridgeTo=function(e,t){t=[].slice.call(arguments,1),e.bridge.apply(e,[this].concat(Array.from(t)))},n.prototype.unBridge=function(e,t,r){var n=this;2==arguments.length?i.isString(t)?n.__unRecord(e,t,t):Object.keys(t).forEach(function(r){var a=t[r];i.isString(a)?n.__unRecord(e,r,a):i.isFunction(a)?n.__unRecord(e,r,r):a.name&&n.__unRecord(e,r,a.name)}):n.__unRecord(e,t,r)},n.prototype.unBridgeTo=function(e,t){t=[].slice.call(arguments,1),e.unBridge.apply(e,[this].concat(Array.from(t)))},Object.keys(a).forEach(function(e){n[e]=a[e]}),t["default"]=n},function(e,t,r){function n(){a.call(this),this.uid="m"+o++,this.__name=this.constructor.__migiName,this.__ref=[],this.__bridgeHash={},this.__bindHash={},this.on(a.DATA,this.__onData)}var a=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),o=0;!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__onData=function(e,t){e="model."+e,this.__ref.forEach(function(r){r.dom&&(r.__canData=!0),r.emit(a.DATA,e,t)})},n.prototype.__add=function(e){-1==this.__ref.indexOf(e)&&this.__ref.push(e)},n.prototype.__del=function(e){var t=this.__ref.indexOf(e);t>-1&&this.__ref.splice(t,1)};var s={};s.name={},s.name.get=function(){return this.__name},Object.keys(s).forEach(function(e){Object.defineProperty(n.prototype,e,s[e])}),Object.keys(a).forEach(function(e){n[e]=a[e]}),["__data","__record","bridge","bridgeTo","__unRecord","unBridge","unBridgeTo","__initBind","__getBind","__setBind","__array"].forEach(function(e){n.prototype[e]=i.prototype[e]}),t["default"]=n},function(e,t,r){function n(e,t,r){a.hasOwnProperty("default")&&(a=a["default"]),this.k=e,this.context=t,this.cb=r,this.setV(r.call(t))}var a=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}();n.prototype.setV=function(e){this.v=i.clone(e)},n.prototype.toString=function(e){if(Array.isArray(this.v))return i.joinArray(this.v,e);var t=i.stringify(this.v);return e?i.encodeHtml(t,e):this.v instanceof a?t:i.encodeHtml(t)},n.prototype.toSourceString=function(){return Array.isArray(this.v)?i.joinSourceArray(this.v):i.stringify(this.v)},n.prototype.update=function(e){var t=this.cb.call(this.context);return i.equal(e,t)?void 0:(this.setV(t),!0)},t["default"]=n},function(e,t){var r=document.createElement("div"),n=document.createElement("table"),a=document.createElement("tbody"),i=document.createElement("tr"),o=document.createElement("ul"),s=document.createElement("dl"),c=document.createElement("select"),u=document.createElement("menu");t["default"]={NODE:r,getParent:function(e){switch(e){case"td":return i;case"tr":return a;case"tbody":case"thead":case"col":return n;case"li":return o;case"dt":case"dd":return s;case"option":return c;case"menuitem":return u;default:return r}}}},function(e,t,r){function n(e,t,r,a){if(void 0===r&&(r=[]),void 0===a&&(a=0),t-a>1){n(e,t,r,a+1);for(var i=0,o=r.length;o>i;i++)r.push(r[i]+"."+e[a])}return r.push("."+e[a]),r}function a(e,t){if("odd"==t){if(e%2==1)return!1}else if("even"==t){if(e%2==0)return!1}else if(/^\d+$/.test(t)){if(e!=t-1)return!1}else{for(var r=/(\d+)?n(?:\+(\d+))?/.exec(t),n=!1,a=0;a<=Math.ceil(e/r[1]);a++)if((r[1]||1)*a+(r[2]||0)==e+1){
n=!0;break}if(!n)return!1}return!0}var i=function(){var e=r(13);return e.hasOwnProperty("default")?e["default"]:e}();t["default"]={splitClass:function(e){return e=(e||"").trim(),e?(e=e.split(/\s+/),i(e,function(e,t){return e>t}),e):""},preId:function(e){return e=(e||"").trim(),e?"#"+e:""},combo:function(e,t,r,a){var i=0,o=0;if(e&&e.length){var s=n(e,e.length);o=1}var c=[t];r&&(i=2);var u=a.hasOwnProperty("_*."),f=a.hasOwnProperty("_*#"),l=a.hasOwnProperty("_*.#");return a.hasOwnProperty("_*")&&c.push("*"),o&&s.forEach(function(e){c.push(e),c.push(t+e),u&&c.push("*"+e),i&&(c.push(e+r),c.push(t+e+r),l&&c.push("*"+e+r))}),i&&(c.push(r),c.push(t+r),f&&c.push("*"+r)),c},pseudo:function(e,t,r){for(var n=0,i=e.length;i>n;n++){var o=e[n];switch(o){case"hover":if(!t.__hover)return!1;break;case"active":if(!t.__active)return!1;break;case"first-child":if(!t.isFirst())return!1;break;case"last-child":if(!t.isLast())return!1;break;case"empty":if(!t.isEmpty())return!1;break;case"enabled":if(!t.isEnabled())return!1;break;case"disabled":if(!t.isDisabled())return!1;break;case"checked":if(!t.isChecked())return!1;break;case"only-child":if(!t.isOnly())return!1;break;case"only-of-type":if(!t.isOnlyOfType(r))return!1;break;case"first-of-type":if(!t.isFirstOfType(r))return!1;break;case"last-of-type":if(!t.isLastOfType(r))return!1;break;default:if(0==o.indexOf("nth-child")){var s=t.getIdx(),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}else if(0==o.indexOf("nth-last-child")){var s=t.getIdx(!0),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}else if(0==o.indexOf("nth-of-type")){var s=t.getIdxOfType(r),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}else{if(0!=o.indexOf("nth-last-of-type"))return!1;var s=t.getIdxOfType(r,!0),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}}}return!0},attr:function(e,t){var r=!0;e:for(var n=0,a=e.length;a>n;n++){var i=e[n];if(1==i.length){if(!t.__cache.hasOwnProperty(i[0])){r=!1;break}}else{var o=t.__cache[i[0]];if(void 0===o){r=!1;break}var s=i[2];switch(i[1]){case"=":r=o==s;break;case"^=":r=0==o.indexOf(s);break;case"$=":r=o.length>=s.length&&o.indexOf(s)==o.length-s.length;break;case"~=":var c=new RegExp("\\b"+s+"\\b");r=c.test(o);break;case"*=":r=o.indexOf(s)>-1;break;case"|=":r=0==o.indexOf(s)||0==o.indexOf(s+"-");break;default:r=!1;break e}if(!r)break}}return r},nci:function(e,t){var r=/^[a-z\d]+/i.exec(e);if(r&&r[0].toUpperCase()!=t.__name.toUpperCase())return!0;var n=e.match(/\.[a-z\d_-]+/gi);if(n)for(var a=n.length-1;a>=0;a--)if(!new RegExp("\\b"+n[a].slice(1)+"\\b","i").test(t.__cache["class"]))return!0;var i=/#[a-z\d_-]+/i.exec(e);return i&&i[0].toUpperCase()!=t.__cache.id.toUpperCase()?!0:void 0}}},function(e,t){function r(e,t,a,i){if(!(t>=a)){for(var o=t,s=a,c=o,u=e[c],f=!0;s>o;)if(f){for(;s>o;s--)if(i&&i.call(e,u,e[s])||!i&&u>e[s]){n(e,c,s),c=s,f=!f;break}}else for(;s>o;o++)if(i&&i.call(e,e[o],u)||!i&&u<e[o]){n(e,c,o),c=o,f=!f;break}r(e,t,c,i),r(e,c+1,a,i)}}function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}e.exports=function(e,t){if(!Array.isArray(e))throw new Error("quick sort need an array");return e.length<2?e:(r(e,0,e.length-1,t),e)}},function(e,t){t["default"]={TEXT:1,DOM:2}},function(e,t,r){function n(e){e=[].slice.call(arguments,0),i.apply(this,[].concat(Array.from(e))),this.__handler={},this.__ccb=!1,this.__handler2={},this.__timeout,this.__timecb}var a=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(18);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(16);return e.hasOwnProperty("default")?e["default"]:e}();!function(){var e=Object.create(i.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__data=function(e){var t=this;t.dom&&(t.__canData=!0),Array.isArray(e)||(e=[e]),e.forEach(function(e){if(t.__handler.hasOwnProperty(e)){var r=t.__handler[e];if(t.__stream)r instanceof s?r.sid<t.__stream.sid&&(t.__handler[e]=t.__stream):r<t.__stream.sid&&(t.__handler[e]=t.__stream);else{var n=s.now();r instanceof s?r.sid<=n&&(t.__handler[e]=n):n>r&&(t.__handler[e]=n)}}else t.__handler[e]=t.__stream||s.gen()}),t.__ccb||(t.__ccb=!0,t.__timeout=setTimeout(t.__timecb=function(){t.__ccb=!1;var e=t.__handler,r=Object.keys(e);t.__handler={},r.forEach(function(r){var n=e[r];t.__handler2[r]=n.sid||n}),r.length&&(t.emit(a.DATA,r.length>1?r:r[0]),r.forEach(function(r){var i=e[r];if(i instanceof s){var c=t.__bridgeHash[r];c&&c.forEach(function(e){var a=e.target,o=e.name,s=e.middleware;if(!i.has(a.uid)){i.add(a.uid);var c=n.getSid(a,o);i.sid>c&&(a.__stream=i,a[o]=s?s.call(t,t[r]):t[r],a.__stream=null)}})}else{var c=t.__bridgeHash[r];c&&(i=new s(t.uid,e[r]),c.forEach(function(e){var s=e.target,c=e.name,u=e.middleware;if(i.add(s.uid),s instanceof o)s.emit(a.DATA,c,u?u.call(t,t[r]):t[r],i);else{var f=n.getSid(s,c);i.sid>f&&(s.__stream=i,s[c]=u?u.call(t,t[r]):t[r],s.__stream=null)}}))}}))},0))},n.prototype.flush=function(){this.__timeout&&(clearTimeout(this.__timeout),this.__ccb=!1,this.__timecb())},n.getSid=function(e,t){if(c.hasOwnProperty("default")&&(c=c["default"]),e instanceof n||e instanceof c){var r=e.__handler[t]||e.__handler2[t]||0;return r.sid||r}return 0},Object.keys(i).forEach(function(e){n[e]=i[e]}),t["default"]=n},function(e,t,r){function n(){a.call(this),this.__handler={},this.__ccb=!1,this.__handler2={},this.__timeout,this.__timecb}var a=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(15);return e.hasOwnProperty("default")?e["default"]:e}();!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),Object.keys(a).forEach(function(e){n[e]=a[e]}),n.prototype.__data=i.prototype.__data,t["default"]=n},function(e,t){function r(e,t){function n(e,t){return function(){return e.apply(t,arguments)}}var i;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!r.notNeeded(e)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,u=o.length;u>c;c++)s[o[c]]=n(s[o[c]],s);a&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,r,n){var a=Node.prototype.removeEventListener;"click"===t?a.call(e,t,r.hijacked||r,n):a.call(e,t,r,n)},e.addEventListener=function(t,r,n){var a=Node.prototype.addEventListener;"click"===t?a.call(e,t,r.hijacked||(r.hijacked=function(e){e.propagationStopped||r(e)}),n):a.call(e,t,r,n)}),"function"==typeof e.onclick&&(i=e.onclick,e.addEventListener("click",function(e){i(e)},!1),e.onclick=null)}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!n,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=i&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)||/\bneedsclick\b/.test(e.getAttribute("migi-class"))},r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){var r,n;a&&document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],r=document.createEvent("MouseEvents"),r.initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,e.dispatchEvent(r)},r.prototype.determineEventType=function(e){return a&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type&&"number"!==e.type&&"email"!==e.type&&"range"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){var t,r;if(t=e.fastClickScrollParent,!t||!t.contains(e)){r=e;do{if(r.scrollHeight>r.offsetHeight){t=r,e.fastClickScrollParent=r;break}r=r.parentElement}while(r)}t&&(t.fastClickLastScrollTop=t.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){var t,r,n;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),r=e.targetTouches[0],i){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!o){if(r.identifier&&r.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=r.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=r.pageX,this.touchStartY=r.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},r.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],r=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>r||Math.abs(t.pageY-this.touchStartY)>r?!0:!1},r.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},r.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){var t,r,n,c,u,f=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(u=e.changedTouches[0],f=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||f,f.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=f.tagName.toLowerCase(),"label"===n){if(t=this.findControl(f)){if(this.focus(f),a)return!1;f=t}}else if(this.needsFocus(f))return e.timeStamp-r>100||i&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(f),this.sendClick(f,e),i&&"select"===n||(this.targetElement=null,e.preventDefault()),!1);return i&&!o&&(c=f.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(f)||(e.preventDefault(),this.sendClick(f,e)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){return this.targetElement?"canvas"==this.targetElement.nodeName.toLowerCase()?!0:e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},r.prototype.onClick=function(e){if(!this.targetElement&&!e.forwardedTouchEvent)return e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1;var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},r.prototype.destroy=function(){var e=this.layer;a&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(e){var t,r,n,i;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.msTouchAction?!0:(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],i>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},r.attach=function(e,t){return new r(e,t)},t["default"]=r},function(e,t){function r(e,t){this.sid=void 0===t?n++:t,this.hash={},this.hash[e]=!0}var n=1;r.prototype.add=function(e){this.hash[e]=!0},r.prototype.has=function(e){return this.hash.hasOwnProperty(e)},r.now=function(){return n},r.gen=function(){return n++},t["default"]=r},function(e,t){var r=4096,n=new Array(r),a={index:0,add:function(e){!e.__hasDes&&this.index<r&&(n[this.index++]=e,e.__hasDes=!0)},get:function(){return n[--this.index]}};t["default"]=a},function(e,t,r){function n(e,t,r){var n=e.target,c=s.get(n.getAttribute("migi-uid")),u=[],f=[],l=[];a(c,u,f,l);for(var d=c;d.parent&&d.parent!=r;)d=d.parent,a(d,u,f,l);for(c!=r&&a(r,u,f,l),o=!1,i(u.length-1,u,f,l,t,c);!o&&u.length;)c=c.parent,u.pop(),f.pop(),l.pop(),i(u.length-1,u,f,l,t,c);return[o,c]}function a(e,t,r,n){t.unshift(e.name),r.unshift(c.splitClass(e.__cache["class"])),n.unshift(c.preId(e.__cache.id))}function i(e,t,r,n,a,s){var u;if(!o)for(var f=c.combo(r[e],t[e],n[e],a),l=0,d=f.length;d>l;l++){var h=f[l];if(a.hasOwnProperty(h)){var p=a[h];if(e){i(e-1,t,r,n,p,s.parent);for(var _=e-2;_>=0;_--)i(_,t,r,n,p,s.parent)}if(p.hasOwnProperty("_v"))return void(o=!0);if((p.hasOwnProperty("_:")||p.hasOwnProperty("_["))&&!function(){function a(a){if(a&&a.hasOwnProperty("_[")){var u=a["_["];u.forEach(function(a){var f=c.attr(a[0],s);f&&(u=a[1],e&&i(e-1,t,r,n,u,s.parent),u.hasOwnProperty("_v")&&(o=!0))})}}p.hasOwnProperty("_:")&&(u=p["_:"],u.forEach(function(a){var f=c.pseudo(a[0],s,h);f&&(u=a[1],e&&i(e-1,t,r,n,u,s.parent),u.hasOwnProperty("_v")&&(o=!0))})),a(p),a(u)}(),p.hasOwnProperty("_>")){var u=p["_>"];i(e-1,t,r,n,u,s.parent)}if(p.hasOwnProperty("_+")){var u=p["_+"],v=s.prev();v&&Object.keys(u).forEach(function(a){return c.nci(a,v)?void 0:u[a].hasOwnProperty("_v")?void(o=!0):void i(e-1,t,r,n,u[a],s.parent)})}if(p.hasOwnProperty("_~")){var u=p["_~"],y=s.prevAll();if(y.length)for(var m=!1,l=y.length-1;l>=0;l--){var v=y[l];if(Object.keys(u).forEach(function(a){if(!c.nci(a,v)){if(u[a].hasOwnProperty("_v"))return void(o=!0);m=!0,i(e-1,t,r,n,u[a],s.parent)}}),m)break}}}}}var o,s=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}();t["default"]=n},function(e,t){t["default"]=function(e){3==e.target.nodeType&&(e.target=e.target.parentNode)}},function(e,t){var r={};t["default"]={add:function(e,t){r[e]=t},del:function(e){var t=r[e];t&&(window.removeEventListener("mouseup",t,!0),window.removeEventListener("touchend",t,!0),window.removeEventListener("touchcancel",t,!0),window.removeEventListener("blur",t),window.removeEventListener("dragend",t),delete r[e])}}},function(e,t,r){function n(e,t,r){for(var i="",o=e.shift(),s=t.length;s>o;o++){var u=t[o];if(e.length){if(i+=u instanceof f?n(e,u.v,r):n(e,u,r),r.end)break}else if(u instanceof f)if(Array.isArray(u.v)){if(i+=a(u.v,r),r.end)break}else{if(u.v instanceof c){r.end=!0;break}i+=u.toString()}else{if(u instanceof c){r.end=!0;break}if(Array.isArray(u)){if(i+=a(u,r),r.end)break}else i+=l.stringify(u)}}return i}function a(e,t){for(var r="",n=0,i=e.length;i>n;n++){var o=e[n];if(t.end)break;if(Array.isArray(o))r+=a(o,t);else{if(o instanceof c){t.end=!0;break}r+=l.stringify(o)}}return r}function i(e,t,r){u.hasOwnProperty("default")&&(u=u["default"]);var a=n(e.index,t,{}),i=r.childNodes,o=i[e.start];if(1!=o.nodeType){var s=o.textContent;if(a!=s)if(/&([a-z]+|#\d+);/i.test(a)){var c=d.NODE;c.innerHTML=l.encodeHtml(a),r.replaceChild(c.firstChild,o)}else o.textContent=a}}function o(e,t){return u.hasOwnProperty("default")&&(u=u["default"]),n(e.index,t,{})}function s(e,t){(t.first||t.prev==h.DOM)&&(t.record=e.slice())}var c=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),h=function(){var e=r(14);return e.hasOwnProperty("default")?e["default"]:e}();t.update=i,t.value=o,t.record=s},function(e,t,r){function n(e){e=[].slice.call(arguments,0),a.apply(this,[].concat(Array.from(e)))}var a=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}();!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),n.prototype.toString=function(){return""},n.prototype.__onDom=function(){this.__dom=!0,a.fakeDom(this.children)},Object.keys(a).forEach(function(e){n[e]=a[e]}),t["default"]=n},function(e,t){var r=Array.prototype,n=Object.create(r);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=r[e];Object.defineProperty(n,e,{value:function(){for(var e=arguments.length,r=new Array(e);e--;)r[e]=arguments[e];var n=t.apply(this,r);return this.__ob__(n),n}})}),t["default"]=n},function(e,t,r){var n=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),a=0,i=1,o=2,s=1,c=2,u={button:{disabled:s},input:{autofocus:s,checked:s,defaultChecked:c,defaultchecked:c,defaultValue:c,defaultvalue:c,disabled:s,multiple:s,readOnly:s,readonly:s,required:s},link:{disabled:s},option:{defaultSelected:c,defaultselected:c,disabled:s,selected:s,text:c},select:{autofocus:s,disabled:s,multiple:s,selectedIndex:c,selectedindex:c},textarea:{autofocus:s,defaultValue:c,defaultvalue:c,disabled:s,readOnly:s,readonly:s}},f={button:{disabled:o},input:{autofocus:o,checked:o,defaultChecked:o,defaultchecked:o,defaultValue:i,defaultvalue:i,disabled:o,readOnly:o,readonly:o,required:o,value:i},link:{checked:o},option:{defaultSelected:o,defaultselected:o,disabled:o,selected:o,text:i},select:{autofocus:o,disabled:o,required:o,selectedIndex:a,selectedindex:a,value:i},textarea:{autofocus:o,defaultValue:i,defaultvalue:i,disabled:o,readOnly:o,readonly:o,required:o,value:i}},l={defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defautlValue",readonly:"readOnly",selectindex:"selectIndex"};t["default"]={RENDER_EXIST:s,RENDER_DOM:c,special:function(e,t){if(u.hasOwnProperty(e)){var r=u[e];if(r.hasOwnProperty(t))return r[t]}},update:function(e,t,r,s,c){if(f.hasOwnProperty(e)){var u=f[e];if(u.hasOwnProperty(r)){switch(u=u[r],r=l[r]||r,u){case a:s=parseInt(s),t[r]=s||0;break;case i:s=n.stringify(s),t[r]=s;break;case o:s=!!s,t[r]=s}return}}switch(r){case"className":r="class";break;case"htmlFor":r="for"}if(c)switch(r){case"id":case"class":r="migi-"+r}null===s||void 0===s?t.removeAttribute(r):t.setAttribute(r,s)}}},function(e,t,r){function n(e,t,r,n,a){var i;if(a){var o=m.stringify(n);if(o){var s=g.NODE;s.innerHTML=m.encodeHtml(o),i=s.firstChild}else i=document.createTextNode("");r>=t.length?e.appendChild(i):e.replaceChild(i,t[r]),n instanceof migi.NonVisualComponent&&n.emit(p.DOM)}else{if(i=n.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",i);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("afterend",i),e.removeChild(t[r]);else{var s=g.getParent(n.name);s.innerHTML=i,e.replaceChild(s.firstChild,t[r])}n.emit(p.DOM)}}function a(e,t,r,n,a){var i;if(a){var o=m.stringify(n);if(o){var s=g.NODE;s.innerHTML=m.encodeHtml(o),i=s.firstChild}else i=document.createTextNode("");r>=t.length?e.appendChild(i):e.insertBefore(i,t[r]),n instanceof migi.NonVisualComponent&&n.emit(p.DOM)}else{if(i=n.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",i);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("beforebegin",i);else{var s=g.getParent(n.name);s.innerHTML=i,e.insertBefore(s.firstChild,t[r])}n.emit(p.DOM)}}function i(e,t,r,n,o,s,c,f){if(Array.isArray(t)){o.push(0);for(var l=0,d=Math.max(t.length,1);d>l;l++){var p=t[l];o[o.length-1]=l,i(e,p,r,n,o,s,c&&l==d-1,f)}o.pop()}else if(t instanceof _&&!(t instanceof migi.NonVisualComponent)){if(t.__parent=f,t.__top=f.top,t.style=f.style,E.set(t),s.hasOwnProperty("prev")){if(n.prev==b.TEXT&&n.start++,a(e,e.childNodes,n.start++,t),c)switch(s.state){case M:case T:n.t2d=!0;break;default:delete n.d2t}}else{switch(s.state=n.state,n.state){case T:n.start++;break;case M:u(r,n),n.start++,n.t2d=!0;break;case x:n.t2d=!0}a(e,e.childNodes,n.start++,t)}s.d=!0,s.prev=n.prev=b.DOM,n.state=D}else{if(s.hasOwnProperty("prev")){if(n.prev==b.DOM?(w.record(o,n),a(e,e.childNodes,n.start,t,!0)):u(r,n),c&&s.d)switch(u(r,n),s.state){case D:case x:delete n.t2d;break;default:delete n.d2t}}else switch(h(n,e,t,r,o),s.state=n.state,n.state){case T:n.d2t=!0;case M:u(r,n);break;case x:w.record(o,n),a(e,e.childNodes,n.start,t,!0),u(r,n);break;case D:w.record(o,n),a(e,e.childNodes,n.start,t,!0),n.d2t=!0}s.prev=n.prev=b.TEXT,n.state=M}}function o(e,t,r,n,a,i){if(Array.isArray(t)){var c=t.length;t.forEach(function(t,s){o(e,t,r,n,a,i&&s==c-1)})}else if(t instanceof _&&!(t instanceof migi.NonVisualComponent)){if(a.hasOwnProperty("prev")){if(a.prev==b.TEXT?(a.d&&s(e,n.start+1),s(e,n.start+1)):n.prev==b.TEXT?s(e,n.start+1):s(e,n.start),i)switch(n.state){case M:case T:n.d2t=!0;break;default:delete n.t2d}}else switch(n.state){case T:s(e,n.start+1),n.state=M,n.prev=b.TEXT,n.d2t=!0;break;case M:s(e,n.start+1),n.prev=b.TEXT,n.d2t=!0;break;case x:s(e,n.start),n.state=D,n.prev=b.DOM;break;case D:s(e,n.start),n.prev=b.DOM}a.d=!0,a.prev=b.DOM,O.add(t.__destroy())}else{if(a.hasOwnProperty("prev")){if(a.prev==b.DOM&&u(r,n),i&&a.d)switch(s(e,n.start+1),n.state){case D:case x:n.t2d=!0;break;default:delete n.d2t}}else switch(n.state){case T:s(e,n.start+1),u(r,n),n.state=M,n.prev=b.TEXT;break;case M:u(r,n),n.prev=b.TEXT;break;case D:s(e,n.start),n.state=D,n.prev=b.DOM,n.t2d=!0;break;case x:n.prev=b.DOM,n.t2d=!0}a.prev=b.TEXT}}function s(e,t){e.childNodes[t]&&e.removeChild(e.childNodes[t])}function c(e,t){return(void 0===e||null===e)&&(e=""),(void 0===t||null===t)&&(t=""),e.toString()==t.toString()}function u(e,t){var r=e.length;(!r||e[r-1].start<t.start)&&e.push({start:t.start,index:t.record.slice()})}function f(e,t){if(e!=t){var r=e.element;["uid","__element","__parent","__top","__style","__dom","__names"].forEach(function(r){t[r]=e[r]}),E.set(t);var n={};e.__props.forEach(function(e){var r=e[0],a=e[1];if(!/^on[a-zA-Z]/.test(r))if(n[r]=!0,t.props.hasOwnProperty(r)){var i=t.props[r];i!==a&&t.__updateAttr(r,i),t.__cache[r]=i}else t.__updateAttr(r,null),delete t.__cache[r]}),e.__removeListener(),t.__props.forEach(function(e){var r=e[0],a=e[1];if(/^on[a-zA-Z]/.test(r)){var i=r.slice(2).toLowerCase();t.__addListener(i,function(e){e=e||window.event,P(e);var r=e.target,n=r.getAttribute("migi-uid"),i=E.get(n);a instanceof y?a.cb.call(a.context,e,t,i):m.isFunction(a)?a(e,t,i):Array.isArray(a)&&a.forEach(function(r){var n=r[1];A(e,r[0],t)&&(n instanceof y?n.cb.call(n.context,e,t,i):m.isFunction(n)&&n(e,t,i))})})}else n.hasOwnProperty(r)||t.__updateAttr(r,a)}),t.__style&&t.__updateStyle(!0);var a=[];if(d(r,e.children,t.children,a,{start:0,record:[],first:!0},[],t),a.length){if("textarea"==t.name)return void t.__updateAttr("value",w.value(a[0],t.children));a.forEach(function(e){w.update(e,t.children,r)})}O.add(e.__destroy())}}function l(e,t,r,n,a,i,o){v.hasOwnProperty("default")&&(v=v["default"]),a.first||(a.prev==b.TEXT?a.state=M:a.state=D),d(e,t,r,n,a,i,o),a.t2d||a.d2t||(a.state==x?a.t2d=!0:a.state==T&&(a.d2t=!0))}function d(e,t,r,s,l,y,m){var g=Array.isArray(t),P=Array.isArray(r);if(g&&P){var A=t.length,S=r.length,C=A?1:0,L=S?2:0;switch(y.push(0),l.first&&w.record(y,l),C+L){case 0:l.state=M,l.prev=b.TEXT;break;case 1:d(e,t[0],r[0],s,l,y,m);for(var j={},N=1;A>N;N++)o(e,t[N],s,l,j,N==A-1);break;case 2:d(e,t[0],r[0],s,l,y,m);for(var j={},N=1;S>N;N++)y[y.length-1]=N,i(e,r[N],s,l,y,j,N==S-1,m);break;case 3:for(var N=0,H=Math.min(A,S);H>N;N++)y[y.length-1]=N,d(e,t[N],r[N],s,l,y,m);var j={};if(A>N)for(;A>N;N++)o(e,t[N],s,l,j,N==A-1);else if(S>N)for(;S>N;N++)y[y.length-1]=N,i(e,r[N],s,l,y,j,N==S-1,m)}y.pop()}else if(g){d(e,t[0],r,s,l,y,m);for(var j={},N=1,H=t.length;H>N;N++)o(e,t[N],s,l,j,N==H-1)}else if(P){y.push(0),d(e,t,r[0],s,l,y,m);for(var j={},N=1,H=r.length;H>N;N++)y[y.length-1]=N,i(e,r[N],s,l,y,j,N==H-1,m);y.pop()}else{var B=t instanceof _&&!(t instanceof migi.NonVisualComponent)?1:0,X=r instanceof _&&!(r instanceof migi.NonVisualComponent)?2:0;switch(B+X){case 0:l.first||h(l,e,r,s,y),w.record(y,l);var F=e.childNodes;if(l.first)c(t,r)||u(s,l);else if(c(t,r))switch(l.state){case T:u(s,l),e.removeChild(F[l.start+1]);break;case x:u(s,l),a(e,F,l.start,r,!0)}else switch(l.state){case T:u(s,l),e.removeChild(F[l.start+1]);break;case x:u(s,l),a(e,F,l.start,r,!0);break;case D:w.record(y,l);case M:c(t,r)||u(s,l)}l.state=M,l.prev=b.TEXT;break;case 1:w.record(y,l);var F=e.childNodes;if(l.first)n(e,F,l.start,r,!0);else switch(l.state){case T:case M:u(s,l),e.removeChild(F[l.start+1]);break;case x:n(e,F,l.start++,r,!0);break;case D:n(e,F,l.start,r,!0)}O.add(t.__destroy()),l.state=T,l.prev=b.TEXT;break;case 2:r.__parent=m,r.__top=m.top,r.style=m.style,E.set(r);var F=e.childNodes;if(l.first)n(e,F,l.start++,r);else switch(l.state){case T:l.start++;case D:n(e,F,l.start++,r);break;case x:a(e,F,l.start++,r);break;case M:u(s,l),a(e,F,++l.start,r),l.start++}l.state=x,l.prev=b.DOM;break;case 3:if(!l.first){switch(l.state){case T:case M:l.start++}delete l.t2d,delete l.d2t}var I=t instanceof v?1:0,R=r instanceof v?2:0;switch(I+R){case 0:t.name==r.name?(t.__parent=m,t.__top=m.top,f(t,r)):(r.__parent=m,r.__top=m.top,r.style=m.style,e=t.element,e.insertAdjacentHTML("afterend",r.toString()),e.parentNode.removeChild(e),r.emit(p.DOM),k.del(t.uid),E.set(r),O.add(t.__destroy()));break;default:e=t.element,e.insertAdjacentHTML("afterend",r.toString()),e.parentNode.removeChild(e),r.__parent=m,r.__top=m.top,R?k.del(t.virtualDom.uid):(k.del(t.uid),r.style=m.style),r.emit(p.DOM),E.set(r),O.add(t.__destroy())}l.state=D,l.prev=b.DOM,l.start++}r instanceof migi.NonVisualComponent&&r.emit(p.DOM)}l.first=!1}function h(e,t,r,n,i){e.t2d?(delete e.t2d,w.record(i,e),a(t,t.childNodes,e.start,r,!0)):e.d2t&&(delete e.d2t,u(n,e),s(t,e.start+1))}var p=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),_=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),v=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),y=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),g=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),w=function(){var e=r(23);return e.hasOwnProperty("default")?e["default"]:e}(),O=function(){var e=r(19);return e.hasOwnProperty("default")?e["default"]:e}(),b=function(){var e=r(14);return e.hasOwnProperty("default")?e["default"]:e}(),E=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),k=function(){var e=r(22);return e.hasOwnProperty("default")?e["default"]:e}(),P=function(){var e=r(21);return e.hasOwnProperty("default")?e["default"]:e}(),A=function(){var e=r(20);return e.hasOwnProperty("default")?e["default"]:e}(),T=0,D=1,x=2,M=3;t.diff=l,t.check=h},function(e,t){t["default"]={domactivate:"DOMActivate",domfocusin:"DOMFocusIn",msgestureend:"MSGestureEnd",mspointerdown:"MSPointerDown",mspointermove:"MSPointerMove",mspointerup:"MSPointerUp",mspointercancel:"MSPointerCancel"}},function(e,t,r){function n(e,t,r,n,i,c){var d;s.hasOwnProperty("default")&&(s=s["default"]);var h=[];a(e.length-1,e,t,r,n["default"],i,h,c),n.media&&(n.media.forEach(function(n){var s=!1;n.query.forEach(function(u){if(!s)for(var f=0,l=u.length;l>f;f++){var d=u[f];if(Array.isArray(d)){var p=d[0].replace(/^-[a-z]+-/i,"").replace(/^mso-/i,"").toLowerCase(),_=d[1];if(/(px|\d)$/.test(_))switch(_=_.replace(/px$/,""),p){case"width":case"height":var v=o(p);if(v==_)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"min-width":case"max-width":case"min-height":case"max-height":var v=o(p.slice(4));if(0==p.indexOf("min-")){if(v>=_)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c)}else if(_>=v)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"device-width":case"device-height":var v=window.screen[p.slice(7)];v==_&&(s=!0,a(e.length-1,e,t,r,n.style,i,h,c));break;case"min-device-width":case"min-device-height":case"max-device-width":case"max-device-height":var v=window.screen[p.slice(11)];if(0==p.indexOf("min-")){if(v>=_)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c)}else if(_>=v)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"aspect-ratio":var y=o("width"),m=o("height"),v=y/m,g=_.split("/");if(g=g[0]/g[1],v==g)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"min-aspect-ratio":case"max-aspect-ratio":var y=o("width"),m=o("height"),v=y/m,g=_.split("/");if(g=g[0]/g[1],0==p.indexOf("min-")){if(v>=_)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c)}else if(_>=v)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"device-aspect-ratio":var y=window.screen.width,m=window.screen.height,v=y/m,g=_.split("/");if(g=g[0]/g[1],v==g)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"min-device-aspect-ratio":case"max-device-aspect-ratio":var y=window.screen.width,m=window.screen.height,v=y/m,g=_.split("/");if(g=g[0]/g[1],0==p.indexOf("min-")){if(v>=_)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c)}else if(_>=v)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"device-pixel-ratio":var v=window.devicePixelRatio;if(v==_)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c);break;case"min-device-pixel-ratio":case"max-device-pixel-ratio":var v=window.devicePixelRatio;if(0==p.indexOf("min-")){if(v>=_)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c)}else if(_>=v)return s=!0,void a(e.length-1,e,t,r,n.style,i,h,c)}}}})}),c&&!function(){function e(){d&&clearTimeout(d),d=setTimeout(function(){f.get(i.uid).__updateStyle()},100)}window.addEventListener("resize",e),l.add(i.uid,e)}()),u(h,function(e,t){var r=e[2],n=t[2];if(r==n)return e[0]>t[0];for(var a=0;3>a;a++)if(r[a]!=n[a])return r[a]>n[a];return e[0]>t[0]});var p="";return h.forEach(function(e){p+=e[1]+";"}),p}function a(e,t,r,n,o,s,u,h,p){for(var _,v=d.combo(r[e],t[e],n[e],o),y=0,m=v.length;m>y;y++){var g=v[y];if(o.hasOwnProperty(g)){var w=o[g];if(e&&(a(e-1,t,r,n,w,s.parent,u,h),!p))for(var O=e-2;O>=0;O--)a(O,t,r,n,w,s.parent,u,h);if(w.hasOwnProperty("_v")&&i(u,w),h&&w.hasOwnProperty("_:")&&w["_:"].forEach(function(e){
e[0].forEach(function(e){function t(){f.get(u).__hover=!0,f.get(u).__updateStyle()}function r(){f.get(u).__hover=!1,f.get(u).__updateStyle()}function n(){s.element.addEventListener("mouseenter",t),s.element.addEventListener("mouseleave",r)}function a(){f.get(u).__active=!0,f.get(u).__updateStyle()}function i(){f.get(u).__active=!1,f.get(u).__updateStyle()}function o(){s.element.addEventListener("mousedown",a),window.addEventListener("mouseup",i,!0),window.addEventListener("touchend",i,!0),window.addEventListener("touchcancel",i,!0),window.addEventListener("blur",i),window.addEventListener("dragend",i)}var u=s.uid;switch(e){case"hover":s.__dom?n():s.once(c.DOM,n),s.__onHover=t,s.__outHover=r;break;case"active":s.__dom?o():s.once(c.DOM,o),l.add(u,i)}})}),(w.hasOwnProperty("_:")||w.hasOwnProperty("_["))&&!function(){function o(o){if(o&&o.hasOwnProperty("_[")){var c=o["_["];c.forEach(function(o){var f=d.attr(o[0],s);f&&(c=o[1],e&&a(e-1,t,r,n,c,s.parent,u,h),c.hasOwnProperty("_v")&&i(u,c))})}}w.hasOwnProperty("_:")&&(_=w["_:"],_.forEach(function(o){var c=d.pseudo(o[0],s,g);c&&(_=o[1],e&&a(e-1,t,r,n,_,s.parent,u,h),_.hasOwnProperty("_v")&&i(u,_))})),o(w),o(_)}(),w.hasOwnProperty("_>")){var _=w["_>"];a(e-1,t,r,n,_,s.parent,u,!1,p)}if(w.hasOwnProperty("_+")){var _=w["_+"],b=s.prev();b&&Object.keys(_).forEach(function(o){d.nci(o,b)||(_[o].hasOwnProperty("_v")&&i(u,_[o]),a(e-1,t,r,n,_[o],s.parent,u,!1,p))})}if(w.hasOwnProperty("_~")){var _=w["_~"],E=s.prevAll();if(E.length)for(var k=!1,y=E.length-1;y>=0;y--){var b=E[y];if(Object.keys(_).forEach(function(o){d.nci(o,b)||(_[o].hasOwnProperty("_v")&&i(u,_[o]),k=!0,a(e-1,t,r,n,_[o],s.parent,u,!1,p))}),k)break}}}}}function i(e,t){t._v.forEach(function(r){r[2]=t._p,e.push(r)})}function o(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return window["inner"+t]||document.documentElement["client"+t]||document.body["client"+t]}var s=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(13);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(22);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}();t["default"]=n},function(e,t,r){var n=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(16);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(24);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(15);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}(),h=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),p=function(){var e=r(19);return e.hasOwnProperty("default")?e["default"]:e}(),_=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),v=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),y=function(){var e=r(13);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),g=function(){var e=r(17);return e.hasOwnProperty("default")?e["default"]:e}(),w={render:function(e,t){return t&&e.appendTo(t),e},createCp:function(e,t,r){return m.set(new e(t,r))},createVd:function(e,t,r){if({script:!0,style:!0}.hasOwnProperty(e.toLowerCase()))throw new Error("can not create VirtualDom of: "+e);return m.set(p.index?p.get().__reset(e,t,r):new u(e,t,r))},Event:n,Model:o,CacheModel:s,EventBus:i,eventBus:new i,Element:a,Component:c,NonVisualComponent:f,CacheComponent:l,VirtualDom:u,Obj:d,Cb:h,util:_,browser:v,sort:y,hash:m,Fastclick:g};"undefined"!=typeof window&&(window.migi=w,document.body?g.attach(document.body):document.addEventListener("DOMContentLoaded",function(){g.attach(document.body)})),t["default"]=w},function(e,t){function r(e,t,r,n){return Math.abs(e-t)>=Math.abs(r-n)?e-t>0?"left":"right":r-n>0?"up":"down"}function n(){l&&clearTimeout(l),d&&clearTimeout(d),l=d=null,w={},g=[]}function a(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function i(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}function o(){document.addEventListener("touchmove",s,!0),document.addEventListener("MSPointerMove",s,!0),document.addEventListener("pointermove",s,!0),document.addEventListener("touchend",u,!0),document.addEventListener("MSPointerUp",u,!0),document.addEventListener("pointerup",u,!0),document.addEventListener("MSGestureEnd",c,!0),document.addEventListener("touchcancel",n,!0),document.addEventListener("MSPointerCancel",n,!0),document.addEventListener("pointercancel",n,!0),window.addEventListener("scroll",n),window.addEventListener("blur",n)}function s(e){w.vd&&(!(y=i(e,"move"))||a(e))&&(v=y?e:e.touches[0],w.x2=v.pageX,w.y2=v.pageY,E+=Math.abs(w.x1-w.x2),k+=Math.abs(w.y1-w.y2))}function c(e){if(w.vd){var t=e.velocityX>1?"right":e.velocityX<-1?"left":e.velocityY>1?"down":e.velocityY<-1?"up":null;t&&(("swipe"==w.name||w.name==t)&&w.cb(e),g.forEach(function(r){("swipe"==r.name||r.name==t)&&r.cb(e)}))}}function u(e){w.vd&&(!(y=i(e,"up"))||a(e))&&(w.x2&&Math.abs(w.x1-w.x2)>30||w.y2&&Math.abs(w.y1-w.y2)>30?d=setTimeout(function(){var t="swipe"+r(w.x1,w.x2,w.y1,w.y2);("swipe"==w.name||w.name==t)&&w.cb(e),g.forEach(function(r){("swipe"==r.name||r.name==t)&&r.cb(e)}),w={},g=[]},0):30>E&&30>k?l=setTimeout(function(){var t=Date.now()-b>O;t?("longtap"==w.name&&w.cb(e),g.forEach(function(t){"longtap"==t.name&&t.cb(e)})):w.isDoubleTap&&w.vd==f.vd&&("doubletap"==w.name&&w.cb(e),g.forEach(function(t){"doubletap"==t.name&&t.cb(e)})),w={},g=[]},0):(w={},g=[]),E=k=0)}var f,l,d,h,p,_,v,y,m,g=[],w={},O=750,b=0,E=0,k=0;t["default"]=function(e,t,r,n){function s(n){if(!(y=i(n,"down"))||a(n)){if(w.first)return void g.push({vd:e,name:t,cb:r});v=y?n:n.touches[0],n.touches&&1===n.touches.length&&w.x2&&(w.x2=void 0,w.y2=void 0),w={vd:e,name:t,cb:r,first:!0,x1:v.pageX,y1:v.pageY},f=w,p=Date.now(),_=p-b,b=p,_>0&&250>_&&(w.isDoubleTap=!0),h&&y&&h.addPointer(n.pointerId)}}m||(m=!0,o()),n.push(["touchstart",s]),n.push(["MSPointerDown",s]),n.push(["pointerdown",s]);var c=e.element;c.addEventListener("touchstart",s),c.addEventListener("MSPointerDown",s),c.addEventListener("pointerdown",s)}},function(e,t,r){e.exports=r(30)["default"]}]);