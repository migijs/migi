!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(32)},function(t,e){function n(){this.__hash={}}n.prototype.on=function(t,e){var n=this;if(Array.isArray(t))t.forEach(function(t){n.on(t,e)});else if(e){n.__hash.hasOwnProperty(t)||(n.__hash[t]=[]);for(var r=0,a=n.__hash[t],i=a.length;i>r;r++)if(a[r]===e)return n;n.__hash[t].push(e)}return n},n.prototype.once=function(t,e){var n=this;return Array.isArray(t)?t.forEach(function(t){n.once(t,e)}):e&&!function(){function r(a){a=[].slice.call(arguments,0),e.apply(this,a),n.off(t,r)}n.on(t,r)}(),this},n.prototype.off=function(t,e){var n=this;if(Array.isArray(t))t.forEach(function(t){n.off(t,e)});else if(n.__hash.hasOwnProperty(t))if(e){for(var r=0,a=n.__hash[t],i=a.length;i>r;r++)if(a[r]===e){a.splice(r,1);break}}else delete n.__hash[t];return this},n.prototype.emit=function(t,e){e=[].slice.call(arguments,1);var n=this;if(Array.isArray(t))t.forEach(function(t){n.emit(t,e)});else if(n.__hash.hasOwnProperty(t)){var r=n.__hash[t].slice();r.forEach(function(t){t.apply(n,e)})}return this},n.mix=function(t){t=[].slice.call(arguments,0),t.forEach(function(t){var e=new n;t.__hash={};var r=["on","once","off","emit"];r.forEach(function(n){t[n]=e[n]})})},n.DOM="DOM",n.DESTROY="DESTROY",n.DATA="DATA",e["default"]=n},function(t,e,n){function r(t){if(t instanceof l)return t;if(i(t))return t;var e=Array.isArray(t)?[]:{};for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];a instanceof l?e[n]=a:h.isDate(a)?e[n]=new Date(a):e[n]=h.isObject(a)?r(a):a}return e}function a(t){return function(e){return d.call(e)=="[object "+t+"]"}}function i(t){return void 0===t||null===t||h.isBoolean(t)||h.isNumber(t)||h.isString(t)}function o(t,e){if(t instanceof l||e instanceof l)return t==e;if(i(t)||i(e))return t===e;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;r>n;n++)if(!o(t[n],e[n]))return!1;return!0}if(h.isDate(t))return h.isDate(e)?t-e==0:!1;if(h.isObject(t)){if(!h.isObject(e))return!1;var a=Object.keys(t),s=Object.keys(e);if(a.length!==s.length)return!1;for(var n=0,r=a.length;r>n;n++)if(!e.hasOwnProperty(n)||!o(t[n],e[n]))return!1;return!0}}function s(t,e){var n="";return t.forEach(function(t){n+=Array.isArray(t)?s(t):t instanceof l?e?f(t.toString(),e):t.toString():f(u(t),e)}),n}function c(t){var e="";return t.forEach(function(t){e+=Array.isArray(t)?c(t):t.toString()}),e}function u(t){return null===t||void 0===t?"":t.toString()}function f(t,e){return e?t.replace(/"/g,"&quot;"):t.replace(/</g,"&lt;")}var l=function(){var t=n(3);return t.hasOwnProperty("default")?t["default"]:t}(),d={}.toString,h={clone:function(t){return l.hasOwnProperty("default")&&(l=l["default"]),r(t)},isObject:a("Object"),isString:a("String"),isFunction:a("Function"),isNumber:a("Number"),isBoolean:a("Boolean"),isDate:a("Date"),equal:function(t,e){return l.hasOwnProperty("default")&&(l=l["default"]),o(t,e)},stringify:u,encodeHtml:f,joinArray:function(t,e){return l.hasOwnProperty("default")&&(l=l["default"]),s(t,e)},joinSourceArray:function(t){return l.hasOwnProperty("default")&&(l=l["default"]),c(t)}};e["default"]=h},function(t,e,n){function r(t){return u.isString(t)?document.querySelector(t):t instanceof s?t.element:t}function a(t){var e={};return t.forEach(function(t){Array.isArray(t)?e[t[0]]=t[1]:Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function i(t){var e=[];return Object.keys(t).forEach(function(n){e.push([n,t[n]])}),e}function o(t){for(var e=0,n=t.length;n>e;e++){var r=t[e];if(!Array.isArray(r)){var a=[];Object.keys(r).forEach(function(t){a.push([t,r[t]])}),t.splice.apply(t,[e,1].concat(Array.from(a)))}}return t}function s(t,e,n){c.call(this),this.__reset(t,e,n)}var c=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),f=0;!function(){var t=Object.create(c.prototype);t.constructor=s,s.prototype=t}(),s.prototype.__reset=function(t,e,n){this.uid=f++,this.__name=t,Array.isArray(e)?(this.props=a(e),this.__props=o(e)):(this.props=e,this.__props=i(e)),this.children=n,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(c.DOM,this.__onDom)},s.prototype.clean=function(){if(this.__dom){this.__dom=!1,this.once(c.DOM,this.__onDom);var t=this.element;t&&t.parentNode.removeChild(t)}},s.prototype.__onDom=function(){this.__dom=!0,this.__saveRef()},s.prototype.__saveRef=function(){if(this.__cache.ref){var t=this.top;if(t){var e=this.__cache.ref,n=t.ref[e];Array.isArray(n)?n.push(this):n?t.ref[e]=[n,this]:t.ref[e]=this}}},s.prototype.inTo=function(t){this.clean();var e=this.toString();r(t).innerHTML=e,this.emit(c.DOM)},s.prototype.appendTo=function(t){this.clean();var e=this.toString();t=r(t),t.insertAdjacentHTML("beforeend",e),this.emit(c.DOM)},s.prototype.prependTo=function(t){this.clean();var e=this.toString();t=r(t),t.insertAdjacentHTML("afterbegin",e),this.emit(c.DOM)},s.prototype.before=function(t){this.clean();var e=this.toString();t=r(t),t.insertAdjacentHTML("beforebegin",e),this.emit(c.DOM)},s.prototype.after=function(t){this.clean();var e=this.toString();t=r(t),t.insertAdjacentHTML("afterend",e),this.emit(c.DOM)},s.prototype.replace=function(t){this.clean();var e=this.toString();t=r(t),t.insertAdjacentHTML("afterend",e),t.parentNode.removeChild(t),this.emit(c.DOM)};var l={};l.top={},l.top.get=function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component?this.__top=this.parent:this.__top=this.parent.top),this.__top},l.parent={},l.parent.get=function(){return this.__parent},l.name={},l.name.get=function(){return this.__name},l.dom={},l.dom.get=function(){return this.__dom},s.resetUid=function(){f=0},Object.keys(l).forEach(function(t){Object.defineProperty(s.prototype,t,l[t])}),Object.keys(c).forEach(function(t){s[t]=c[t]}),e["default"]=s},function(t,e,n){function r(t,e){void 0===t&&(t=[]),void 0===e&&(e=[]),u.hasOwnProperty("default")&&(u=u["default"]);var n=this,r=n.constructor.__migiName;i.call(this,r,t,e),n.__virtualDom=null,n.__ref={},n.__stop=null,n.__model=null,n.__allowPropagation=!0,n.__bridgeHash={},n.__stream=null,n.__canData=!1,n.__bindHash={},n.__ob=[],n.__props.forEach(function(t){var e=t[0],r=t[1];n.__init(e,r)}),n.on(a.DATA,n.__onData)}var a=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=n(3);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=n(6);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=n(8);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=n(9);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=n(18);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=n(17);return t.hasOwnProperty("default")?t["default"]:t}(),d=function(){var t=n(25);return t.hasOwnProperty("default")?t["default"]:t}(),h=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touchstart","touchmove","touchend","touchcancel","MSGestureEnd","MSPointerDown","pointerdown","MSPointerMove","pointermove","MSPointerUp","pointerup","MSPointerCancel","pointercancel"];!function(){var t=Object.create(i.prototype);t.constructor=r,r.prototype=t}(),r.prototype.__init=function(t,e){var n=this;if(/^on[a-zA-Z]/.test(t)){var r=t.slice(2).toLowerCase();n.once(a.DOM,function(){n.virtualDom.__addEvt(r,e)})}else if(/^on-[a-zA-Z\d_]/.test(t)&&s.isFunction(e)){var r=t.slice(3);this.on(r,function(t){t=[].slice.call(arguments,0),e.apply(this,[].concat(Array.from(t)))})}else"model"==t&&(n.model=e)},r.prototype.render=function(){return new o("div",this.props,this.children)},r.prototype.toString=function(){if(this.__virtualDom=this.render(),!this.__virtualDom)throw new Error("render must return a VirtualDom: "+this.name);return this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()},r.prototype.findChild=function(t){return this.findChildren(t,!0)[0]},r.prototype.findChildren=function(t,e){for(var n=[],a=0,o=this.children.length;o>a;a++){var c=this.children[a];if(c instanceof i)if(c instanceof r){if((c.name==t||s.isFunction(t)&&c instanceof t)&&(n.push(c),e))break}else{if((c.name==t||s.isFunction(t)&&c instanceof t)&&(n.push(c),e))break;if(n=n.concat(c.findAll(t)),e&&n.length)break}}return n},r.prototype.find=function(t){return this.__virtualDom?this.__virtualDom.find(t):null},r.prototype.findAll=function(t){return this.__virtualDom?this.__virtualDom.findAll(t):[]},r.prototype.bridge=function(t,e,n,a){u.hasOwnProperty("default")&&(u=u["default"]);var i=this;if(t==this)throw new Error("can not bridge self: "+i.name);if(!(t&&(t instanceof c||t instanceof r||t instanceof u)))throw new Error("can only bridge to EventBus/Component/Model: "+i.name);2==arguments.length?s.isString(e)?i.__record(t,e,e):Object.keys(e).forEach(function(n){var r=e[n];s.isString(r)?i.__record(t,n,r):s.isFunction(r)?i.__record(t,n,n,r):r.name&&i.__record(t,n,r.name,r.middleware)}):3==arguments.length?s.isString(n)?i.__record(t,e,n):(a=n,i.__record(t,e,e,a)):4==arguments.length&&i.__record(t,e,n,a)},r.prototype.__onDom=function(t){function e(t){t=t||window.event,t.target!=o&&t.srcElement!=o&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}i.prototype.__onDom.call(this);var n=this;n.virtualDom.emit(a.DOM,t);var o=n.element;n.name&&o.setAttribute("migi-name",n.name),t||n.children==n.virtualDom.children||r.fakeDom(n.children),"true"!=n.props.allowPropagation&&("false"!=n.props.allowPropagation&&n.allowPropagation||(n.__stop=e,h.forEach(function(t){o.addEventListener(t,e)}),l.attach(o)))},r.prototype.__data=function(t){var e=this;e.dom&&(e.__canData=!0),e.emit(a.DATA,t),Array.isArray(t)||(t=[t]),t.forEach(function(t){var n=e.__bridgeHash[t];if(n){var r=e.__stream||new f(e.uid),i=e[t];n.forEach(function(t){var n=t.target,o=t.name,s=t.middleware;r.has(n.uid)||(r.add(n.uid),n instanceof c?n.emit(a.DATA,o,s?s.call(e,i):i,r):(n.__stream=r,n[o]=s?s.call(e,i):i,n.__stream=null))})}})},r.prototype.__onData=function(t){this.dom&&this.canData&&(this.virtualDom&&this.virtualDom.__onData(t),this.children.forEach(function(e){e instanceof o&&e.__onData(t)}))},r.prototype.__destroy=function(){var t=this;if(t.__stop){var e=t.element;h.forEach(function(n){e.removeEventListener(n,t.__stop)})}t.model&&t.model.__del(t),t.__ob.forEach(function(e){var n=e.__ob__.indexOf(t);n>-1&&(e.__ob__.splice(n,1),e.__cb__.splice(n,1))});var n=t.virtualDom.__destroy();return t.emit(a.DESTROY),t.__hash={},n},r.prototype.__initBind=function(t){return this.__bindHash.hasOwnProperty(t)?!1:(this.__bindHash[t]=!0,!0)},r.prototype.__getBind=function(t){return this[t+"__"]},r.prototype.__setBind=function(t,e){this.__bindHash[t]=!0,this[t+"__"]=e,this.__array(t,e)},r.prototype.__array=function(t,e){var n=this;Array.isArray(e)&&(e.__proto__=d,e.__ob__=e.__ob__||[],e.__cb__=e.__cb__||[],-1==e.__ob__.indexOf(n)&&(n.__ob.push(e),e.__ob__.push(n),e.__cb__.push(function(){n[t]=n[t]})))};var p={};p.allowPropagation={},p.allowPropagation.get=function(){return this.__allowPropagation},p.allowPropagation.set=function(t){this.__allowPropagation=t},p.element={},p.element.get=function(){return this.virtualDom?this.virtualDom.element:null},p.style={},p.style.get=function(){return this.__style},p.style.set=function(t){this.__style=t},p.model={},p.model.get=function(){return this.__model},p.model.set=function(t){if(!(t instanceof u))throw new Error("can not set model to a non Model: "+t);this.__model=t,t.__add(this)},p.virtualDom={},p.virtualDom.get=function(){return this.__virtualDom},p.ref={},p.ref.get=function(){return this.__ref},p.canData={},p.canData.get=function(){return this.__canData},r.fakeDom=function(t){Array.isArray(t)?t.forEach(function(t){r.fakeDom(t)}):t instanceof r?t.emit(a.DOM,!0):t instanceof o&&t.emit(a.DOM,!0)},Object.keys(p).forEach(function(t){Object.defineProperty(r.prototype,t,p[t])}),Object.keys(i).forEach(function(t){r[t]=i[t]}),["__record","__unRecord","bridgeTo","unBridge","unBridgeTo"].forEach(function(t){r.prototype[t]=c.prototype[t]}),e["default"]=r},function(t,e){var n={};e["default"]={get:function(t){return n[t]},set:function(t){return n[t.uid]=t,t}}},function(t,e,n){function r(t){return t instanceof m?t.name+'[migi-uid="'+t.uid+'"]':t.replace(/(^|\s|,|])([A-Z][\w$]*)\b/,'$1[migi-name="$2"]')}function a(t,e){return i(t,e,!0)[0]||null}function i(t,e,n){return o(t,e,[],n)}function o(t,e,n,r){for(var a=0,i=e.length;i>a;a++){var c=e[a];if(c instanceof m?n=s(t,c,n,r):c instanceof b?(c=c.v,Array.isArray(c)?n=o(t,c,n,r):c instanceof m&&(n=s(t,c,n,r))):Array.isArray(c)&&(n=o(t,c,n,r)),r&&n.length)break}return n}function s(t,e,n,r){if(e instanceof g)e instanceof t&&n.push(e);else{if(e instanceof t&&(n.push(e),r))return n;n=n.concat(e.findAll(t,r))}return n}function c(t,e,n){if(void 0===e&&(e=[]),void 0===n&&(n=[]),g.hasOwnProperty("default")&&(g=g["default"]),j.hasOwnProperty(t)&&n.length)throw new Error("self-close tag can not has chilren: "+t);m.call(this,t,e,n);var r=this;r.__names=null,r.__classes=null,r.__ids=null,r.__inline=null,r.__hover=!1,r.__active=!1,r.__listener=null,r.__init(t,n)}function u(t){return void 0===t||null===t||!t.toString()}function f(t){if(t instanceof m||t instanceof b)return t.toString();if(Array.isArray(t)){var e="";return t.forEach(function(t){e+=f(t)}),e}return w.encodeHtml(w.stringify(t))}function l(t,e){Array.isArray(t)?t.forEach(function(t){l(t,e)}):t instanceof m?t.__parent=e:t instanceof b&&l(t.v,e)}function d(t,e){Array.isArray(t)?t.forEach(function(t){d(t,e)}):t instanceof c?t.style=e:t instanceof b&&d(t.v,e)}function h(t){var e=!0;if(Array.isArray(t))for(var n=0,r=t.length;r>n&&(e=h(t[n]),e);n++);else e=t instanceof m?!1:t instanceof b?h(t.v):u(t);return e}function p(t,e,n,r){if(Array.isArray(t))for(var a=0,i=t.length;i>a&&(p(t[a],e,n,r),!n.done);a++);else if(t instanceof m){if(e==t)return void(n.done=!0);r(t)}else t instanceof b&&p(t.v,e,n,r)}function _(t,e,n,r){if(Array.isArray(t))for(var a=0,i=t.length;i>a&&(_(t[a],e,n,r),!n.done);a++);else t instanceof m?e==t?n.start=!0:n.start&&r(t):t instanceof b&&_(t.v,e,n,r)}function v(t,e){if(void 0===e&&(e=[]),Array.isArray(t))for(var n=0,r=t.length;r>n;n++)v(t[n],e);else t instanceof m?e.push(t):t instanceof b&&v(t.v,e);return e}var y=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),m=function(){var t=n(3);return t.hasOwnProperty("default")?t["default"]:t}(),g=function(){var t=n(4);return t.hasOwnProperty("default")?t["default"]:t}(),w=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),b=function(){var t=n(10);return t.hasOwnProperty("default")?t["default"]:t}(),O=function(){var t=n(7);return t.hasOwnProperty("default")?t["default"]:t}(),E=function(){var t=n(23);return t.hasOwnProperty("default")?t["default"]:t}(),k=function(){var t=n(29);return t.hasOwnProperty("default")?t["default"]:t}(),P=function(){var t=n(27);return t.hasOwnProperty("default")?t["default"]:t}(),A=function(){var t=n(14);return t.hasOwnProperty("default")?t["default"]:t}(),T=function(){var t=n(21);return t.hasOwnProperty("default")?t["default"]:t}(),D=function(){var t=n(26);return t.hasOwnProperty("default")?t["default"]:t}(),x=function(){var t=n(5);return t.hasOwnProperty("default")?t["default"]:t}(),S=function(){var t=n(31);return t.hasOwnProperty("default")?t["default"]:t}(),M=function(){var t=n(20);return t.hasOwnProperty("default")?t["default"]:t}(),C=function(){var t=n(12);return t.hasOwnProperty("default")?t["default"]:t}(),L=function(){var t=n(28);return t.hasOwnProperty("default")?t["default"]:t}(),j={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0},N={swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,longtap:!0,doubletap:!0};!function(){var t=Object.create(m.prototype);t.constructor=c,c.prototype=t}(),c.prototype.toString=function(){var t=this,e="<"+t.name;if(t.__props.forEach(function(n){var r=t.__renderProp(n[0],n[1]);e+=r}),t.__style){var n=t.__match(!0);n&&(e=e.indexOf(' style="')>1?e.replace(/ style="[^"]*"/,' style="'+n+'"'):e+' style="'+n+'"')}return e+=' migi-uid="'+t.uid+'"',t.__checkListener(),t.__selfClose?e+"/>":(e+=">",e+=t.__renderChildren(),e+="</"+t.name+">")},c.prototype.isFirst=function(t){if(this.parent instanceof g)return!0;t=t||this.parent.children;for(var e=0,n=t.length;n>e;e++){var r=t[e];if(Array.isArray(r)&&r.length)return this.isFirst(r);if(r==this)return!0;if(r instanceof c)return!1;if(r instanceof b&&(r=r.v,Array.isArray(r)&&r.length))return this.isFirst(r)}},c.prototype.isLast=function(t){if(this.parent instanceof g)return!0;t=t||this.parent.children;for(var e=t.length-1;e>=0;e--){var n=t[e];if(Array.isArray(n)&&n.length)return this.isLast(n);if(n==this)return!0;if(n instanceof c)return!1;if(n instanceof b&&(n=n.v,Array.isArray(n)&&n.length))return this.isLast(n)}},c.prototype.isEmpty=function(){return h(this.children)},c.prototype.isEnabled=function(){return!this.__cache.disabled},c.prototype.isDisabled=function(){return this.__cache.disabled},c.prototype.isChecked=function(){return this.__cache.checked},c.prototype.prev=function(){var t={};return p(this.parent.children,this,t,function(e){t.prev=e}),t.prev},c.prototype.prevAll=function(t){var e={prev:[]};return p(this.parent.children,this,e,function(n){(t&&!C.nci(t,n)||!t)&&e.prev.push(n)}),e.prev},c.prototype.next=function(){var t={};return _(this.parent.children,this,t,function(e){t.next=e,t.done=!0}),t.next},c.prototype.nextAll=function(t){var e={next:[]};return _(this.parent.children,this,e,function(n){(t&&!C.nci(t,n)||!t)&&e.next.push(n)}),e.next},c.prototype.isOnly=function(){return 1==this.siblings().length},c.prototype.isOnlyOfType=function(t){for(var e=this,n=e.siblings(),r=0,a=n.length;a>r;r++){var i=n[r];if(i!=e&&!C.nci(t,i))return!1}return!0},c.prototype.isFirstOfType=function(t){for(var e=this.prevAll(t),n=0,r=e.length;r>n;n++)if(!C.nci(t,e[n]))return!1;return!0},c.prototype.isLastOfType=function(t){for(var e=this.nextAll(t),n=0,r=e.length;r>n;n++)if(!C.nci(t,e[n]))return!1;return!0},c.prototype.siblings=function(){var t=this.parent,e=v(t.children);return e},c.prototype.getIdx=function(t){var e=this.siblings(),n=e.indexOf(this);return n>-1?t?e.length-n-1:n:-1},c.prototype.getIdxOfType=function(t,e){var n=e?this.nextAll(t):this.prevAll(t);e?n.unshift(this):n.push(this);var r=n.indexOf(this);return r>-1?e?n.length-r-1:r:-1},c.prototype.__renderProp=function(t,e){var n=this,r="";if(/^on[a-zA-Z]/.test(t))n.once(y.DOM,function(r){if(!r){var a=t.slice(2).toLowerCase();n.__addEvt(a,e)}});else if(e instanceof b){if("dangerouslySetInnerHTML"==t)return n.once(y.DOM,function(){n.element.innerHTML=e.toSourceString()}),"";var a=e.toString(!0);"className"==t?t="class":"htmlFor"==t&&(t="for"),n.__cache[t]=a;var i=D.special(n.name,t);switch(i){case D.RENDER_EXIST:e.v&&(r=" "+t+'="'+a+'"');break;case D.RENDER_DOM:n.once(y.DOM,function(){n.__updateAttr(t,e)});break;default:r=" "+t+'="'+a+'"'}}else{var a=Array.isArray(e)?w.joinSourceArray(e):w.stringify(e);if("dangerouslySetInnerHTML"==t)return n.once(y.DOM,function(){n.element.innerHTML=a}),"";"className"==t?t="class":"htmlFor"==t&&(t="for"),n.__cache[t]=a;var i=D.special(n.name,t);switch(i){case D.RENDER_EXIST:e&&(r=" "+t+'="'+w.encodeHtml(a,!0)+'"');break;case D.RENDER_DOM:n.once(y.DOM,function(){n.__updateAttr(t,e)});break;default:r=" "+t+'="'+w.encodeHtml(a,!0)+'"'}}if(n.__style)switch(t){case"class":case"id":r=" migi-"+r.slice(1)}return r},c.prototype.__renderChildren=function(){var t=this,e="";return t.children.forEach(function(t){e+=f(t)}),e},c.prototype.__checkListener=function(){var t=this;if("input"==t.name){if(t.props.hasOwnProperty("value")){var e=t.props.value;e instanceof b&&t.once(y.DOM,function(){function n(t){T(t);var n=t.target.value;e.setV(n);var r=e.k;0==r.indexOf("model.")?e.context.model[r.slice(6)]=n:e.context[r]=n}var r=t.__cache.type||"";switch(r.toLowerCase()){case"checkbox":case"radio":case"range":case"color":t.__addListener("change",n);break;default:t.__addListener(["input","paste","cut","change"],n)}})}}else if("select"==t.name){if(t.props.hasOwnProperty("value")){var e=t.props.value;e instanceof b&&t.once(y.DOM,function(){function n(t){T(t);var n=t.target.value;e.setV(n);var r=e.k;0==r.indexOf("model.")?e.context.model[r.slice(6)]=n:e.context[r]=n}t.__addListener("change",n)})}}else if("textarea"==t.name&&1==t.children.length){var n=t.children[0];n instanceof b&&t.once(y.DOM,function(){function e(t){T(t);var e=t.target.value;n.setV(e);var r=n.k;n.context[r]=e}t.__addListener(["input","paste","cut","change"],e)})}},c.prototype.__addEvt=function(t,e){var n=this;n.__addListener(t,function(t){T(t);var r=t.target,a=r.getAttribute("migi-uid"),i=x.get(a);e instanceof O&&w.isFunction(e.cb)?e.cb.call(e.context,t,n,i):w.isFunction(e)?e(t,n,i):Array.isArray(e)&&e.forEach(function(e){var r=e[1],a=M(t,e[0],n);a[0]&&(r instanceof O?r.cb.call(r.context,t,n,a[1],i):w.isFunction(r)&&r(t,n,a[1],i))})})},c.prototype.__addListener=function(t,e){var n=this;if(Array.isArray(t))t.forEach(function(t){n.__addListener(t,e)});else{n.__listener=n.__listener||[],"tap"==t&&(t="click");var r=n.element;if(N.hasOwnProperty(t))return void S(this,t,e,n.__listener);if(n.__listener.push([t,e]),r.addEventListener(L[t]||t,e),"load"==t&&r.complete){var a=document.createEvent("Event");a.initEvent("load",!0,!0),r.dispatchEvent(a)}}},c.prototype.__removeListener=function(){var t=this;if(t.__listener){var e=t.element;t.__listener.forEach(function(t){e.removeEventListener(t[0],t[1])})}},c.prototype.find=function(t){if(w.isFunction(t))return a(t,this.children);if(this.element){var e=this.element.querySelector(r(t)),n=e.getAttribute("migi-uid");return x.get(n)||null}return null},c.prototype.findAll=function(t){if(w.isFunction(t))return i(t,this.children);var e=[];if(this.element){var n=this.element.querySelectorAll(r(t));Array.from(n).forEach(function(t){if(t){var n=t.getAttribute("migi-uid"),r=x.get(n)||null;r&&e.push(r)}})}return e},c.prototype.__onDom=function(t){m.prototype.__onDom.call(this);var e=this;if(t)return void g.fakeDom(e.children);var n={start:0,first:!0};e.__chenckBlank(e.children,n),(n.empty||n.first)&&e.__insertBlank(n.start)},c.prototype.__chenckBlank=function(t,e){var n=this;if(Array.isArray(t)&&t.length)t.forEach(function(t){n.__chenckBlank(t,e)});else if(t instanceof m&&!(t instanceof migi.NonVisualComponent))e.empty&&n.__insertBlank(e.start),e.start++,e.prev==A.TEXT&&e.start++,e.prev=A.DOM,e.empty=!1,e.first=!1,t.emit(y.DOM);else if(t instanceof b)n.__chenckBlank(t.v,e);else if(u(t)){if(t instanceof migi.NonVisualComponent&&t.emit(y.DOM),e.prev==A.TEXT)return;e.empty=!0,e.prev=A.TEXT,e.first=!1}else e.empty=!1,e.prev=A.TEXT,e.first=!1},c.prototype.__insertBlank=function(t){var e=document.createTextNode(""),n=this.element,r=n.childNodes,a=r.length;!a||t>=a?n.appendChild(e):n.insertBefore(e,r[t])},c.prototype.__onData=function(t){var e=this;if(e.dom){e.__props.forEach(function(n){var r=n[0];if(n=n[1],n instanceof b){var a=!1,i=Array.isArray(t)?1:0,o=Array.isArray(n.k)?2:0;switch(i+o){case 0:a=t==n.k;break;case 1:a=t.indexOf(n.k)>-1;break;case 2:a=n.k.indexOf(t)>-1;break;case 3:var s={};t.forEach(function(t){s[t]=!0});for(var c=n.k,u=0,f=c.length;f>u;u++)if(s.hasOwnProperty(c[u])){a=!0;break}}if(a){var l=n.v;n.update(l)&&e.__updateAttr(r,n.v)}}});for(var n,r=[],a={start:0,record:[],first:!0},i=e.children,o=0,s=i.length;s>o;o++){var c=i[o];n=[o],e.__checkObj(t,c,r,a,n)}if(r.length){if("textarea"==e.name)return void e.__updateAttr("value",E.value(r[0],e.children));r.forEach(function(t){E.update(t,e.children,e.element)})}}},c.prototype.__checkObj=function(t,e,n,r,a){var i=this;if(e instanceof b){var o=!1,s=Array.isArray(t)?1:0,u=Array.isArray(e.k)?2:0;switch(s+u){case 0:o=t==e.k;break;case 1:o=t.indexOf(e.k)>-1;break;case 2:o=e.k.indexOf(t)>-1;break;case 3:var f={};t.forEach(function(t){f[t]=!0});for(var l=e.k,d=0,h=l.length;h>d;d++)if(f.hasOwnProperty(l[d])){o=!0;break}}if(o){var p=e.v;e.update(p)?P.diff(this.element,p,e.v,n,r,a,this):i.__checkObj(t,e.v,n,r,a)}else i.__checkObj(t,e.v,n,r,a)}else e instanceof m?(delete r.t2d,delete r.d2t,e instanceof c&&e.__onData(t),r.start++,r.first||r.prev!=A.TEXT||r.start++,r.prev=A.DOM):Array.isArray(e)&&e.length?(a.push(0),e.forEach(function(e,o){a[a.length-1]=o,i.__checkObj(t,e,n,r,a)}),a.pop()):(P.check(r,this.element,e,n,a),E.record(a,r),r.prev=A.TEXT);r.first=!1},c.prototype.__updateAttr=function(t,e){return"dangerouslySetInnerHTML"==t?((null===e||void 0===e)&&(e=""),this.element.innerHTML=w.stringify(e),void this.__insertBlank(0)):(D.update(this.name,this.element,t,e,this.__style),this.__cache[t]=e,void(this.__style&&this.__updateStyle()))},c.prototype.__match=function(t){this.__inline=this.__cache.style||"",this.__initCI();var e=k(this.__names,this.__classes,this.__ids,this.__style||{"default":{}},this,t);return e+this.__inline},c.prototype.__initCI=function(){var t=this.parent;t instanceof c?(this.__classes=t.__classes.slice(),this.__ids=t.__ids.slice()):(this.__classes=[],this.__ids=[]),this.__classes.push(C.splitClass(this.__cache["class"])),this.__ids.push(C.preId(this.__cache.id))},c.prototype.__updateStyle=function(t){var e=this.__match(t);this.element.getAttribute("style")!=e&&this.element.setAttribute("style",e),t||this.children.forEach(function(t){t instanceof c&&t.__updateStyle()})},c.prototype.__init=function(t,e){var n=this;n.__selfClose=j.hasOwnProperty(t),l(e,n)},c.prototype.__reset=function(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=[]),m.prototype.__reset.call(this,t,e,n),this.__init(t,n),this.__hasDes=!1,this},c.prototype.__destroy=function(){return(this.__onHover||this.__outHover)&&this.element&&(this.element.removeEventListener("mouseenter",this.__onHover),this.element.removeEventListener("mouseleave",this.__outHover)),this.__hash={},this.__cache={},this.__names=null,this.__classes=null,this.__ids=null,this.__inline=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this};var H={};H.names={},H.names.get=function(){return this.__names||(this.__names=[])},H.element={},H.element.get=function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.uid+'"]'))},H.style={},H.style.get=function(){return this.__style},H.style.set=function(t){var e=this;e.__style=t,e.parent instanceof c?e.__names=e.parent.names.slice():e.__names=[],e.__names.push(e.name),e.children.forEach(function(e){d(e,t)})},Object.keys(H).forEach(function(t){Object.defineProperty(c.prototype,t,H[t])}),Object.keys(m).forEach(function(t){c[t]=m[t]}),e["default"]=c},function(t,e){function n(t,e){this.context=t,this.cb=e}e["default"]=n},function(t,e,n){function r(){a.call(this),this.uid="e"+o++,this.__bridgeHash={},this.on(a.DATA,this.__brcb)}var a=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),o=0;!function(){var t=Object.create(a.prototype);t.constructor=r,r.prototype=t}(),r.prototype.__brcb=function(t,e,n){if(this.__bridgeHash.hasOwnProperty(t))for(var r=this.__bridgeHash[t],a=0,i=r.length;i>a;a++){var o=r[a],s=o.target,c=o.name,u=o.middleware;if(!n.has(s.uid)){n.add(s.uid);var f=migi.CacheComponent.getSid(s);n.sid>f&&(s.__stream=n,s[c]=u?u.call(s,e):e,s.__stream=null)}}},r.prototype.__record=function(t,e,n,r){var a=this,i=this.__bridgeHash[e]=this.__bridgeHash[e]||[];i.forEach(function(r){if(r.target==t&&r.name==n)throw new Error("duplicate bridge: "+a+"."+e+" -> "+t+"."+n)}),i.push({target:t,name:n,middleware:r})},r.prototype.__unRecord=function(t,e,n){for(var r=this,a=r.__bridgeHash[e]||[],i=0,o=a.length;o>i;i++){var s=a[i];if(s.target==t&&s.name==n)return void a.splice(i,1)}},r.prototype.bridge=function(t,e,n,r){var a=this;if(t==this)throw new Error("can not bridge self: "+a);if(!(t&&(t instanceof migi.Component||t instanceof migi.Model)))throw new Error("can only bridge to Component/Model: "+a);2==arguments.length?i.isString(e)?a.__record(t,e,e):Object.keys(e).forEach(function(n){var r=e[n];i.isString(r)?a.__record(t,n,r):r.name&&a.__record(t,n,r.name,r.middleware)}):3==arguments.length?i.isString(n)?a.__record(t,e,n):(r=n,a.__record(t,e,e,r)):4==arguments.length&&a.__record(t,e,n,r)},r.prototype.bridgeTo=function(t,e){e=[].slice.call(arguments,1),t.bridge.apply(t,[this].concat(Array.from(e)))},r.prototype.unBridge=function(t,e,n){var r=this;2==arguments.length?i.isString(e)?r.__unRecord(t,e,e):Object.keys(e).forEach(function(n){var a=e[n];i.isString(a)?r.__unRecord(t,n,a):i.isFunction(a)?r.__unRecord(t,n,n):a.name&&r.__unRecord(t,n,a.name)}):r.__unRecord(t,e,n)},r.prototype.unBridgeTo=function(t,e){e=[].slice.call(arguments,1),t.unBridge.apply(t,[this].concat(Array.from(e)))},Object.keys(a).forEach(function(t){r[t]=a[t]}),e["default"]=r},function(t,e,n){function r(){a.call(this),this.uid="m"+o++,this.__name=this.constructor.__migiName,this.__ref=[],this.__bridgeHash={},this.__bindHash={},this.__ob=[],this.on(a.DATA,this.__onData)}var a=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=n(4);return t.hasOwnProperty("default")?t["default"]:t}(),o=0;!function(){var t=Object.create(a.prototype);t.constructor=r,r.prototype=t}(),r.prototype.__onData=function(t,e){t="model."+t,this.__ref.forEach(function(n){n.dom&&(n.__canData=!0),n.emit(a.DATA,t,e)})},r.prototype.__add=function(t){-1==this.__ref.indexOf(t)&&this.__ref.push(t)},r.prototype.__del=function(t){var e=this.__ref.indexOf(t);e>-1&&this.__ref.splice(e,1)};var s={};s.name={},s.name.get=function(){return this.__name},Object.keys(s).forEach(function(t){Object.defineProperty(r.prototype,t,s[t])}),Object.keys(a).forEach(function(t){r[t]=a[t]}),["__data","__record","bridge","bridgeTo","__unRecord","unBridge","unBridgeTo","__initBind","__getBind","__setBind","__array"].forEach(function(t){r.prototype[t]=i.prototype[t]}),e["default"]=r},function(t,e,n){function r(t,e,n){a.hasOwnProperty("default")&&(a=a["default"]),this.k=t,this.context=e,this.cb=n,this.setV(n.call(e))}var a=function(){var t=n(3);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}();r.prototype.setV=function(t){this.v=i.clone(t)},r.prototype.toString=function(t){if(Array.isArray(this.v))return i.joinArray(this.v,t);var e=i.stringify(this.v);return t?i.encodeHtml(e,t):this.v instanceof a?e:i.encodeHtml(e)},r.prototype.toSourceString=function(){return Array.isArray(this.v)?i.joinSourceArray(this.v):i.stringify(this.v)},r.prototype.update=function(t){var e=this.cb.call(this.context);return i.equal(t,e)?void 0:(this.setV(e),!0)},e["default"]=r},function(t,e){var n=document.createElement("div"),r=document.createElement("table"),a=document.createElement("tbody"),i=document.createElement("tr"),o=document.createElement("ul"),s=document.createElement("dl"),c=document.createElement("select"),u=document.createElement("menu");e["default"]={NODE:n,getParent:function(t){switch(t){case"td":return i;case"tr":return a;case"tbody":case"thead":case"col":return r;case"li":return o;case"dt":case"dd":return s;case"option":return c;case"menuitem":return u;default:return n}}}},function(t,e,n){
function r(t,e,n,a){if(void 0===n&&(n=[]),void 0===a&&(a=0),e-a>1){r(t,e,n,a+1);for(var i=0,o=n.length;o>i;i++)n.push(n[i]+"."+t[a])}return n.push("."+t[a]),n}function a(t,e){if("odd"==e){if(t%2==1)return!1}else if("even"==e){if(t%2==0)return!1}else if(/^\d+$/.test(e)){if(t!=e-1)return!1}else{for(var n=/(\d+)?n(?:\+(\d+))?/.exec(e),r=!1,a=0;a<=Math.ceil(t/n[1]);a++)if((n[1]||1)*a+(n[2]||0)==t+1){r=!0;break}if(!r)return!1}return!0}var i=function(){var t=n(13);return t.hasOwnProperty("default")?t["default"]:t}();e["default"]={splitClass:function(t){return t=(t||"").trim(),t?(t=t.split(/\s+/),i(t,function(t,e){return t>e}),t):""},preId:function(t){return t=(t||"").trim(),t?"#"+t:""},combo:function(t,e,n,a){var i=0,o=0;if(t&&t.length){var s=r(t,t.length);o=1}var c=[e];n&&(i=2);var u=a.hasOwnProperty("_*."),f=a.hasOwnProperty("_*#"),l=a.hasOwnProperty("_*.#");return a.hasOwnProperty("_*")&&c.push("*"),o&&s.forEach(function(t){c.push(t),c.push(e+t),u&&c.push("*"+t),i&&(c.push(t+n),c.push(e+t+n),l&&c.push("*"+t+n))}),i&&(c.push(n),c.push(e+n),f&&c.push("*"+n)),c},pseudo:function(t,e,n){for(var r=0,i=t.length;i>r;r++){var o=t[r];switch(o){case"hover":if(!e.__hover)return!1;break;case"active":if(!e.__active)return!1;break;case"first-child":if(!e.isFirst())return!1;break;case"last-child":if(!e.isLast())return!1;break;case"empty":if(!e.isEmpty())return!1;break;case"enabled":if(!e.isEnabled())return!1;break;case"disabled":if(!e.isDisabled())return!1;break;case"checked":if(!e.isChecked())return!1;break;case"only-child":if(!e.isOnly())return!1;break;case"only-of-type":if(!e.isOnlyOfType(n))return!1;break;case"first-of-type":if(!e.isFirstOfType(n))return!1;break;case"last-of-type":if(!e.isLastOfType(n))return!1;break;default:if(0==o.indexOf("nth-child")){var s=e.getIdx(),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}else if(0==o.indexOf("nth-last-child")){var s=e.getIdx(!0),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}else if(0==o.indexOf("nth-of-type")){var s=e.getIdxOfType(n),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}else{if(0!=o.indexOf("nth-last-of-type"))return!1;var s=e.getIdxOfType(n,!0),c=/\((.+)\)/.exec(o)[1];if(!a(s,c))return!1}}}return!0},attr:function(t,e){var n=!0;t:for(var r=0,a=t.length;a>r;r++){var i=t[r];if(1==i.length){if(!e.__cache.hasOwnProperty(i[0])){n=!1;break}}else{var o=e.__cache[i[0]];if(void 0===o){n=!1;break}var s=i[2];switch(i[1]){case"=":n=o==s;break;case"^=":n=0==o.indexOf(s);break;case"$=":n=o.length>=s.length&&o.indexOf(s)==o.length-s.length;break;case"~=":var c=new RegExp("\\b"+s+"\\b");n=c.test(o);break;case"*=":n=o.indexOf(s)>-1;break;case"|=":n=0==o.indexOf(s)||0==o.indexOf(s+"-");break;default:n=!1;break t}if(!n)break}}return n},nci:function(t,e){var n=/^[a-z\d]+/i.exec(t);if(n&&n[0].toUpperCase()!=e.__name.toUpperCase())return!0;var r=t.match(/\.[a-z\d_-]+/gi);if(r)for(var a=r.length-1;a>=0;a--)if(!new RegExp("\\b"+r[a].slice(1)+"\\b","i").test(e.__cache["class"]))return!0;var i=/#[a-z\d_-]+/i.exec(t);return i&&i[0].toUpperCase()!=e.__cache.id.toUpperCase()?!0:void 0}}},function(t,e){function n(t,e,a,i){if(!(e>=a)){for(var o=e,s=a,c=o,u=t[c],f=!0;s>o;)if(f){for(;s>o;s--)if(i&&i.call(t,u,t[s])||!i&&u>t[s]){r(t,c,s),c=s,f=!f;break}}else for(;s>o;o++)if(i&&i.call(t,t[o],u)||!i&&u<t[o]){r(t,c,o),c=o,f=!f;break}n(t,e,c,i),n(t,c+1,a,i)}}function r(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}t.exports=function(t,e){if(!Array.isArray(t))throw new Error("quick sort need an array");return t.length<2?t:(n(t,0,t.length-1,e),t)}},function(t,e){e["default"]={TEXT:1,DOM:2}},function(t,e,n){function r(t){t=[].slice.call(arguments,0),i.apply(this,[].concat(Array.from(t))),this.__handler={},this.__ccb=!1,this.__handler2={},this.__timeout,this.__timecb}var a=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=n(4);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=n(8);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=n(18);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=n(16);return t.hasOwnProperty("default")?t["default"]:t}();!function(){var t=Object.create(i.prototype);t.constructor=r,r.prototype=t}(),r.prototype.__data=function(t){var e=this;e.dom&&(e.__canData=!0),Array.isArray(t)||(t=[t]),t.forEach(function(t){if(e.__handler.hasOwnProperty(t)){var n=e.__handler[t];if(e.__stream)n instanceof s?n.sid<e.__stream.sid&&(e.__handler[t]=e.__stream):n<e.__stream.sid&&(e.__handler[t]=e.__stream);else{var r=s.now();n instanceof s?n.sid<=r&&(e.__handler[t]=r):r>n&&(e.__handler[t]=r)}}else e.__handler[t]=e.__stream||s.gen()}),e.__ccb||(e.__ccb=!0,e.__timeout=setTimeout(e.__timecb=function(){e.__ccb=!1;var t=e.__handler,n=Object.keys(t);e.__handler={},n.forEach(function(n){var r=t[n];e.__handler2[n]=r.sid||r}),n.length&&(e.emit(a.DATA,n.length>1?n:n[0]),n.forEach(function(n){var i=t[n];if(i instanceof s){var c=e.__bridgeHash[n];c&&c.forEach(function(t){var a=t.target,o=t.name,s=t.middleware;if(!i.has(a.uid)){i.add(a.uid);var c=r.getSid(a,o);i.sid>c&&(a.__stream=i,a[o]=s?s.call(e,e[n]):e[n],a.__stream=null)}})}else{var c=e.__bridgeHash[n];c&&(i=new s(e.uid,t[n]),c.forEach(function(t){var s=t.target,c=t.name,u=t.middleware;if(i.add(s.uid),s instanceof o)s.emit(a.DATA,c,u?u.call(e,e[n]):e[n],i);else{var f=r.getSid(s,c);i.sid>f&&(s.__stream=i,s[c]=u?u.call(e,e[n]):e[n],s.__stream=null)}}))}}))},0))},r.prototype.flush=function(){this.__timeout&&(clearTimeout(this.__timeout),this.__ccb=!1,this.__timecb())},r.getSid=function(t,e){if(c.hasOwnProperty("default")&&(c=c["default"]),t instanceof r||t instanceof c){var n=t.__handler[e]||t.__handler2[e]||0;return n.sid||n}return 0},Object.keys(i).forEach(function(t){r[t]=i[t]}),e["default"]=r},function(t,e,n){function r(){a.call(this),this.__handler={},this.__ccb=!1,this.__handler2={},this.__timeout,this.__timecb}var a=function(){var t=n(9);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=n(15);return t.hasOwnProperty("default")?t["default"]:t}();!function(){var t=Object.create(a.prototype);t.constructor=r,r.prototype=t}(),Object.keys(a).forEach(function(t){r[t]=a[t]}),r.prototype.__data=i.prototype.__data,e["default"]=r},function(t,e){function n(t,e){function r(t,e){return function(){return t.apply(e,arguments)}}var i;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!n.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,u=o.length;u>c;c++)s[o[c]]=r(s[o[c]],s);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,n.hijacked||n,r):a.call(t,e,n,r)},t.addEventListener=function(e,n,r){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):a.call(t,e,n,r)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(t){i(t)},!1),t.onclick=null)}}var r=navigator.userAgent.indexOf("Windows Phone")>=0,a=navigator.userAgent.indexOf("Android")>0&&!r,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!r,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=i&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)||/\bneedsclick\b/.test(t.getAttribute("migi-class"))},n.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){var n,r;a&&document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type&&"number"!==t.type&&"email"!==t.type&&"range"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},n.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},n.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){var e,n,r,c,u,f=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(u=t.changedTouches[0],f=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||f,f.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=f.tagName.toLowerCase(),"label"===r){if(e=this.findControl(f)){if(this.focus(f),a)return!1;f=e}}else if(this.needsFocus(f))return t.timeStamp-n>100||i&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(f),this.sendClick(f,t),i&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return i&&!o&&(c=f.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(f)||(t.preventDefault(),this.sendClick(f,t)),!1)},n.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){return this.targetElement?"canvas"==this.targetElement.nodeName.toLowerCase()?!0:t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},n.prototype.onClick=function(t){if(!this.targetElement&&!t.forwardedTouchEvent)return t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1;var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){var e,n,r,i;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.msTouchAction?!0:(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],i>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},n.attach=function(t,e){return new n(t,e)},e["default"]=n},function(t,e){function n(t,e){this.sid=void 0===e?r++:e,this.hash={},this.hash[t]=!0}var r=1;n.prototype.add=function(t){this.hash[t]=!0},n.prototype.has=function(t){return this.hash.hasOwnProperty(t)},n.now=function(){return r},n.gen=function(){return r++},e["default"]=n},function(t,e){var n=4096,r=new Array(n),a={index:0,add:function(t){!t.__hasDes&&this.index<n&&(r[this.index++]=t,t.__hasDes=!0)},get:function(){return r[--this.index]}};e["default"]=a},function(t,e,n){function r(t,e,n){var r=t.target,c=s.get(r.getAttribute("migi-uid")),u=[],f=[],l=[];a(c,u,f,l);for(var d=c;d.parent&&d.parent!=n;)d=d.parent,a(d,u,f,l);for(c!=n&&a(n,u,f,l),o=!1,i(u.length-1,u,f,l,e,c);!o&&u.length;)c=c.parent,u.pop(),f.pop(),l.pop(),i(u.length-1,u,f,l,e,c);return[o,c]}function a(t,e,n,r){e.unshift(t.name),n.unshift(c.splitClass(t.__cache["class"])),r.unshift(c.preId(t.__cache.id))}function i(t,e,n,r,a,s){var u;if(!o)for(var f=c.combo(n[t],e[t],r[t],a),l=0,d=f.length;d>l;l++){var h=f[l];if(a.hasOwnProperty(h)){var p=a[h];if(t){i(t-1,e,n,r,p,s.parent);for(var _=t-2;_>=0;_--)i(_,e,n,r,p,s.parent)}if(p.hasOwnProperty("_v"))return void(o=!0);if((p.hasOwnProperty("_:")||p.hasOwnProperty("_["))&&!function(){function a(a){if(a&&a.hasOwnProperty("_[")){var u=a["_["];u.forEach(function(a){var f=c.attr(a[0],s);f&&(u=a[1],t&&i(t-1,e,n,r,u,s.parent),u.hasOwnProperty("_v")&&(o=!0))})}}p.hasOwnProperty("_:")&&(u=p["_:"],u.forEach(function(a){var f=c.pseudo(a[0],s,h);f&&(u=a[1],t&&i(t-1,e,n,r,u,s.parent),u.hasOwnProperty("_v")&&(o=!0))})),a(p),a(u)}(),p.hasOwnProperty("_>")){var u=p["_>"];i(t-1,e,n,r,u,s.parent)}if(p.hasOwnProperty("_+")){var u=p["_+"],v=s.prev();v&&Object.keys(u).forEach(function(a){return c.nci(a,v)?void 0:u[a].hasOwnProperty("_v")?void(o=!0):void i(t-1,e,n,r,u[a],s.parent)})}if(p.hasOwnProperty("_~")){var u=p["_~"],y=s.prevAll();if(y.length)for(var m=!1,l=y.length-1;l>=0;l--){var v=y[l];if(Object.keys(u).forEach(function(a){if(!c.nci(a,v)){if(u[a].hasOwnProperty("_v"))return void(o=!0);m=!0,i(t-1,e,n,r,u[a],s.parent)}}),m)break}}}}}var o,s=function(){var t=n(5);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=n(12);return t.hasOwnProperty("default")?t["default"]:t}();e["default"]=r},function(t,e){e["default"]=function(t){3==t.target.nodeType&&(t.target=t.target.parentNode)}},function(t,e){var n={};e["default"]={add:function(t,e){n[t]=e},del:function(t){var e=n[t];e&&(window.removeEventListener("mouseup",e,!0),window.removeEventListener("touchend",e,!0),window.removeEventListener("touchcancel",e,!0),window.removeEventListener("blur",e),window.removeEventListener("dragend",e),delete n[t])}}},function(t,e,n){function r(t,e,n){for(var i="",o=t.shift(),s=e.length;s>o;o++){var u=e[o];if(t.length){if(i+=u instanceof f?r(t,u.v,n):r(t,u,n),n.end)break}else if(u instanceof f)if(Array.isArray(u.v)){if(i+=a(u.v,n),n.end)break}else{if(u.v instanceof c){n.end=!0;break}i+=u.toString()}else{if(u instanceof c){n.end=!0;break}if(Array.isArray(u)){if(i+=a(u,n),n.end)break}else i+=l.stringify(u)}}return i}function a(t,e){for(var n="",r=0,i=t.length;i>r;r++){var o=t[r];if(e.end)break;if(Array.isArray(o))n+=a(o,e);else{if(o instanceof c){e.end=!0;break}n+=l.stringify(o)}}return n}function i(t,e,n){u.hasOwnProperty("default")&&(u=u["default"]);var a=r(t.index,e,{}),i=n.childNodes,o=i[t.start];if(1!=o.nodeType){var s=o.textContent;if(a!=s)if(/&([a-z]+|#\d+);/i.test(a)){var c=d.NODE;c.innerHTML=l.encodeHtml(a),n.replaceChild(c.firstChild,o)}else o.textContent=a}}function o(t,e){return u.hasOwnProperty("default")&&(u=u["default"]),r(t.index,e,{})}function s(t,e){(e.first||e.prev==h.DOM)&&(e.record=t.slice())}var c=function(){var t=n(3);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=n(6);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=n(10);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),d=function(){var t=n(11);return t.hasOwnProperty("default")?t["default"]:t}(),h=function(){var t=n(14);return t.hasOwnProperty("default")?t["default"]:t}();e.update=i,e.value=o,e.record=s},function(t,e,n){function r(t){t=[].slice.call(arguments,0),a.apply(this,[].concat(Array.from(t)))}var a=function(){var t=n(4);return t.hasOwnProperty("default")?t["default"]:t}();!function(){var t=Object.create(a.prototype);t.constructor=r,r.prototype=t}(),r.prototype.toString=function(){return""},r.prototype.__onDom=function(){this.__dom=!0,a.fakeDom(this.children)},Object.keys(a).forEach(function(t){r[t]=a[t]}),e["default"]=r},function(t,e){var n=Array.prototype,r=Object.create(n);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=n[t];Object.defineProperty(r,t,{value:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];var r=e.apply(this,n);return Array.isArray(this.__cb__)&&this.__cb__.forEach(function(t){t()}),r}})}),e["default"]=r},function(t,e,n){var r=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),a=0,i=1,o=2,s=1,c=2,u={button:{disabled:s},input:{autofocus:s,checked:s,defaultChecked:c,defaultchecked:c,defaultValue:c,defaultvalue:c,disabled:s,multiple:s,readOnly:s,readonly:s,required:s},link:{disabled:s},option:{defaultSelected:c,defaultselected:c,disabled:s,selected:s,text:c},select:{autofocus:s,disabled:s,multiple:s,selectedIndex:c,selectedindex:c},textarea:{autofocus:s,defaultValue:c,defaultvalue:c,disabled:s,readOnly:s,readonly:s}},f={button:{disabled:o},input:{autofocus:o,checked:o,defaultChecked:o,defaultchecked:o,defaultValue:i,defaultvalue:i,disabled:o,readOnly:o,readonly:o,required:o,value:i},link:{checked:o},option:{defaultSelected:o,defaultselected:o,disabled:o,selected:o,text:i},select:{autofocus:o,disabled:o,required:o,selectedIndex:a,selectedindex:a,value:i},textarea:{autofocus:o,defaultValue:i,defaultvalue:i,disabled:o,readOnly:o,readonly:o,required:o,value:i}},l={defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defautlValue",readonly:"readOnly",selectindex:"selectIndex"};e["default"]={RENDER_EXIST:s,RENDER_DOM:c,special:function(t,e){if(u.hasOwnProperty(t)){var n=u[t];if(n.hasOwnProperty(e))return n[e]}},update:function(t,e,n,s,c){if(f.hasOwnProperty(t)){var u=f[t];if(u.hasOwnProperty(n)){switch(u=u[n],n=l[n]||n,u){case a:s=parseInt(s),e[n]=s||0;break;case i:s=r.stringify(s),e[n]=s;break;case o:s=!!s,e[n]=s}return}}switch(n){case"className":n="class";break;case"htmlFor":n="for"}if(c)switch(n){case"id":case"class":n="migi-"+n}null===s||void 0===s?e.removeAttribute(n):e.setAttribute(n,s)}}},function(t,e,n){function r(t,e,n,r,a){var i;if(a){var o=m.stringify(r);i=document.createTextNode(o||""),n>=e.length?t.appendChild(i):t.replaceChild(i,e[n]),r instanceof migi.NonVisualComponent&&r.emit(p.DOM)}else{if(i=r.toString(),n>=e.length)t.insertAdjacentHTML("beforeend",i);else if(1==e[n].nodeType)e[n].insertAdjacentHTML("afterend",i),t.removeChild(e[n]);else{var s=g.getParent(r.name);s.innerHTML=i,t.replaceChild(s.firstChild,e[n])}r.emit(p.DOM)}}function a(t,e,n,r,a){var i;if(a){var o=m.stringify(r);i=document.createTextNode(o||""),n>=e.length?t.appendChild(i):t.insertBefore(i,e[n]),r instanceof migi.NonVisualComponent&&r.emit(p.DOM)}else{if(i=r.toString(),n>=e.length)t.insertAdjacentHTML("beforeend",i);else if(1==e[n].nodeType)e[n].insertAdjacentHTML("beforebegin",i);else{var s=g.getParent(r.name);s.innerHTML=i,t.insertBefore(s.firstChild,e[n])}r.emit(p.DOM)}}function i(t,e,n,r,o,s,c,f){if(Array.isArray(e)){o.push(0);for(var l=0,d=Math.max(e.length,1);d>l;l++){var p=e[l];o[o.length-1]=l,i(t,p,n,r,o,s,c&&l==d-1,f)}o.pop()}else if(e instanceof _&&!(e instanceof migi.NonVisualComponent)){if(e.__parent=f,e.__top=f.top,e.style=f.style,E.set(e),s.hasOwnProperty("prev")){if(r.prev==O.TEXT&&r.start++,a(t,t.childNodes,r.start++,e),c)switch(s.state){case S:case T:r.t2d=!0;break;default:delete r.d2t}}else{switch(s.state=r.state,r.state){case T:r.start++;break;case S:u(n,r),r.start++,r.t2d=!0;break;case x:r.t2d=!0}a(t,t.childNodes,r.start++,e)}s.d=!0,s.prev=r.prev=O.DOM,r.state=D}else{if(s.hasOwnProperty("prev")){if(r.prev==O.DOM?(w.record(o,r),a(t,t.childNodes,r.start,e,!0)):u(n,r),c&&s.d)switch(u(n,r),s.state){case D:case x:delete r.t2d;break;default:delete r.d2t}}else switch(h(r,t,e,n,o),s.state=r.state,r.state){case T:r.d2t=!0;case S:u(n,r);break;case x:w.record(o,r),a(t,t.childNodes,r.start,e,!0),u(n,r);break;case D:w.record(o,r),a(t,t.childNodes,r.start,e,!0),r.d2t=!0}s.prev=r.prev=O.TEXT,r.state=S}}function o(t,e,n,r,a,i){if(Array.isArray(e)){var c=e.length;e.forEach(function(e,s){o(t,e,n,r,a,i&&s==c-1)})}else if(e instanceof _&&!(e instanceof migi.NonVisualComponent)){if(a.hasOwnProperty("prev")){if(a.prev==O.TEXT?(a.d&&s(t,r.start+1),s(t,r.start+1)):r.prev==O.TEXT?s(t,r.start+1):s(t,r.start),i)switch(r.state){case S:case T:r.d2t=!0;break;default:delete r.t2d}}else switch(r.state){case T:s(t,r.start+1),r.state=S,r.prev=O.TEXT,r.d2t=!0;break;case S:s(t,r.start+1),r.prev=O.TEXT,r.d2t=!0;break;case x:s(t,r.start),r.state=D,r.prev=O.DOM;break;case D:s(t,r.start),r.prev=O.DOM}a.d=!0,a.prev=O.DOM,b.add(e.__destroy())}else{if(a.hasOwnProperty("prev")){if(a.prev==O.DOM&&u(n,r),i&&a.d)switch(s(t,r.start+1),r.state){case D:case x:r.t2d=!0;break;default:delete r.d2t}}else switch(r.state){case T:s(t,r.start+1),u(n,r),r.state=S,r.prev=O.TEXT;break;case S:u(n,r),r.prev=O.TEXT;break;case D:s(t,r.start),r.state=D,r.prev=O.DOM,r.t2d=!0;break;case x:r.prev=O.DOM,r.t2d=!0}a.prev=O.TEXT}}function s(t,e){t.childNodes[e]&&t.removeChild(t.childNodes[e])}function c(t,e){return(void 0===t||null===t)&&(t=""),(void 0===e||null===e)&&(e=""),t.toString()==e.toString()}function u(t,e){var n=t.length;(!n||t[n-1].start<e.start)&&t.push({start:e.start,index:e.record.slice()})}function f(t,e){if(t!=e){var n=t.element;["uid","__element","__parent","__top","__style","__dom","__names"].forEach(function(n){e[n]=t[n]}),E.set(e);var r={};t.__props.forEach(function(t){var n=t[0],a=t[1];if(!/^on[a-zA-Z]/.test(n))if(r[n]=!0,e.props.hasOwnProperty(n)){var i=e.props[n];i!==a&&e.__updateAttr(n,i),e.__cache[n]=i}else e.__updateAttr(n,null),delete e.__cache[n]}),t.__removeListener(),e.__props.forEach(function(t){var n=t[0],a=t[1];if(/^on[a-zA-Z]/.test(n)){var i=n.slice(2).toLowerCase();e.__addListener(i,function(t){t=t||window.event,P(t);var n=t.target,r=n.getAttribute("migi-uid"),i=E.get(r);a instanceof y?a.cb.call(a.context,t,e,i):m.isFunction(a)?a(t,e,i):Array.isArray(a)&&a.forEach(function(n){var r=n[1];A(t,n[0],e)&&(r instanceof y?r.cb.call(r.context,t,e,i):m.isFunction(r)&&r(t,e,i))})})}else r.hasOwnProperty(n)||e.__updateAttr(n,a)}),e.__style&&e.__updateStyle(!0);var a=[];if(d(n,t.children,e.children,a,{start:0,record:[],first:!0},[],e),a.length){if("textarea"==e.name)return void e.__updateAttr("value",w.value(a[0],e.children));a.forEach(function(t){w.update(t,e.children,n)})}b.add(t.__destroy())}}function l(t,e,n,r,a,i,o){v.hasOwnProperty("default")&&(v=v["default"]),a.first||(a.prev==O.TEXT?a.state=S:a.state=D),d(t,e,n,r,a,i,o),a.t2d||a.d2t||(a.state==x?a.t2d=!0:a.state==T&&(a.d2t=!0))}function d(t,e,n,s,l,y,m){var g=Array.isArray(e),P=Array.isArray(n);if(g&&P){var A=e.length,M=n.length,C=A?1:0,L=M?2:0;switch(y.push(0),l.first&&w.record(y,l),C+L){case 0:l.state=S,l.prev=O.TEXT;break;case 1:d(t,e[0],n[0],s,l,y,m);for(var j={},N=1;A>N;N++)o(t,e[N],s,l,j,N==A-1);break;case 2:d(t,e[0],n[0],s,l,y,m);for(var j={},N=1;M>N;N++)y[y.length-1]=N,i(t,n[N],s,l,y,j,N==M-1,m);break;case 3:for(var N=0,H=Math.min(A,M);H>N;N++)y[y.length-1]=N,d(t,e[N],n[N],s,l,y,m);var j={};if(A>N)for(;A>N;N++)o(t,e[N],s,l,j,N==A-1);else if(M>N)for(;M>N;N++)y[y.length-1]=N,i(t,n[N],s,l,y,j,N==M-1,m)}y.pop()}else if(g){d(t,e[0],n,s,l,y,m);for(var j={},N=1,H=e.length;H>N;N++)o(t,e[N],s,l,j,N==H-1)}else if(P){y.push(0),d(t,e,n[0],s,l,y,m);for(var j={},N=1,H=n.length;H>N;N++)y[y.length-1]=N,i(t,n[N],s,l,y,j,N==H-1,m);y.pop()}else{var B=e instanceof _&&!(e instanceof migi.NonVisualComponent)?1:0,X=n instanceof _&&!(n instanceof migi.NonVisualComponent)?2:0;switch(B+X){case 0:l.first||h(l,t,n,s,y),w.record(y,l);var F=t.childNodes;if(l.first)c(e,n)||u(s,l);else if(c(e,n))switch(l.state){case T:u(s,l),t.removeChild(F[l.start+1]);break;case x:u(s,l),a(t,F,l.start,n,!0)}else switch(l.state){case T:u(s,l),t.removeChild(F[l.start+1]);break;case x:u(s,l),a(t,F,l.start,n,!0);break;case D:w.record(y,l);case S:c(e,n)||u(s,l)}l.state=S,l.prev=O.TEXT;break;case 1:w.record(y,l);var F=t.childNodes;if(l.first)r(t,F,l.start,n,!0);else switch(l.state){case T:case S:u(s,l),t.removeChild(F[l.start+1]);break;case x:r(t,F,l.start++,n,!0);break;case D:r(t,F,l.start,n,!0)}b.add(e.__destroy()),l.state=T,l.prev=O.TEXT;break;case 2:n.__parent=m,n.__top=m.top,n.style=m.style,E.set(n);var F=t.childNodes;if(l.first)r(t,F,l.start++,n);else switch(l.state){case T:l.start++;case D:r(t,F,l.start++,n);break;case x:a(t,F,l.start++,n);break;case S:u(s,l),a(t,F,++l.start,n),l.start++}l.state=x,l.prev=O.DOM;break;case 3:if(!l.first){switch(l.state){case T:case S:l.start++}delete l.t2d,delete l.d2t}var I=e instanceof v?1:0,R=n instanceof v?2:0;switch(I+R){case 0:e.name==n.name?(e.__parent=m,e.__top=m.top,f(e,n)):(n.__parent=m,n.__top=m.top,n.style=m.style,t=e.element,t.insertAdjacentHTML("afterend",n.toString()),t.parentNode.removeChild(t),n.emit(p.DOM),k.del(e.uid),E.set(n),b.add(e.__destroy()));break;default:t=e.element,t.insertAdjacentHTML("afterend",n.toString()),t.parentNode.removeChild(t),n.__parent=m,n.__top=m.top,R?k.del(e.virtualDom.uid):(k.del(e.uid),n.style=m.style),n.emit(p.DOM),E.set(n),b.add(e.__destroy())}l.state=D,l.prev=O.DOM,l.start++}n instanceof migi.NonVisualComponent&&n.emit(p.DOM)}l.first=!1}function h(t,e,n,r,i){t.t2d?(delete t.t2d,w.record(i,t),a(e,e.childNodes,t.start,n,!0)):t.d2t&&(delete t.d2t,u(r,t),s(e,t.start+1))}var p=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),_=function(){var t=n(3);return t.hasOwnProperty("default")?t["default"]:t}(),v=function(){var t=n(4);return t.hasOwnProperty("default")?t["default"]:t}(),y=function(){var t=n(7);return t.hasOwnProperty("default")?t["default"]:t}(),m=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),g=function(){var t=n(11);return t.hasOwnProperty("default")?t["default"]:t}(),w=function(){var t=n(23);return t.hasOwnProperty("default")?t["default"]:t}(),b=function(){var t=n(19);return t.hasOwnProperty("default")?t["default"]:t}(),O=function(){var t=n(14);return t.hasOwnProperty("default")?t["default"]:t}(),E=function(){var t=n(5);return t.hasOwnProperty("default")?t["default"]:t}(),k=function(){var t=n(22);return t.hasOwnProperty("default")?t["default"]:t}(),P=function(){var t=n(21);return t.hasOwnProperty("default")?t["default"]:t}(),A=function(){var t=n(20);return t.hasOwnProperty("default")?t["default"]:t}(),T=0,D=1,x=2,S=3;e.diff=l,e.check=h},function(t,e){e["default"]={domactivate:"DOMActivate",domfocusin:"DOMFocusIn",msgestureend:"MSGestureEnd",mspointerdown:"MSPointerDown",mspointermove:"MSPointerMove",mspointerup:"MSPointerUp",mspointercancel:"MSPointerCancel"}},function(t,e,n){function r(t,e,n,r,i,c){var d;s.hasOwnProperty("default")&&(s=s["default"]);var h=[];a(t.length-1,t,e,n,r["default"],i,h,c),r.media&&(r.media.forEach(function(r){var s=!1;r.query.forEach(function(u){if(!s)for(var f=0,l=u.length;l>f;f++){var d=u[f];if(Array.isArray(d)){var p=d[0].replace(/^-[a-z]+-/i,"").replace(/^mso-/i,"").toLowerCase(),_=d[1];if(/(px|\d)$/.test(_))switch(_=_.replace(/px$/,""),p){case"width":case"height":var v=o(p);if(v==_)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"min-width":case"max-width":case"min-height":case"max-height":var v=o(p.slice(4));if(0==p.indexOf("min-")){if(v>=_)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c)}else if(_>=v)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"device-width":case"device-height":var v=window.screen[p.slice(7)];v==_&&(s=!0,a(t.length-1,t,e,n,r.style,i,h,c));break;case"min-device-width":case"min-device-height":case"max-device-width":case"max-device-height":var v=window.screen[p.slice(11)];if(0==p.indexOf("min-")){if(v>=_)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c)}else if(_>=v)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"aspect-ratio":var y=o("width"),m=o("height"),v=y/m,g=_.split("/");if(g=g[0]/g[1],v==g)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"min-aspect-ratio":case"max-aspect-ratio":var y=o("width"),m=o("height"),v=y/m,g=_.split("/");if(g=g[0]/g[1],0==p.indexOf("min-")){if(v>=_)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c)}else if(_>=v)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"device-aspect-ratio":var y=window.screen.width,m=window.screen.height,v=y/m,g=_.split("/");if(g=g[0]/g[1],v==g)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"min-device-aspect-ratio":case"max-device-aspect-ratio":var y=window.screen.width,m=window.screen.height,v=y/m,g=_.split("/");if(g=g[0]/g[1],0==p.indexOf("min-")){if(v>=_)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c)}else if(_>=v)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"device-pixel-ratio":var v=window.devicePixelRatio;if(v==_)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c);break;case"min-device-pixel-ratio":case"max-device-pixel-ratio":var v=window.devicePixelRatio;if(0==p.indexOf("min-")){if(v>=_)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c)}else if(_>=v)return s=!0,void a(t.length-1,t,e,n,r.style,i,h,c)}}}})}),c&&!function(){function t(){d&&clearTimeout(d),d=setTimeout(function(){f.get(i.uid).__updateStyle()},100)}window.addEventListener("resize",t),l.add(i.uid,t)}()),u(h,function(t,e){var n=t[2],r=e[2];if(n==r)return t[0]>e[0];for(var a=0;3>a;a++)if(n[a]!=r[a])return n[a]>r[a];return t[0]>e[0]});
var p="";return h.forEach(function(t){p+=t[1]+";"}),p}function a(t,e,n,r,o,s,u,h,p){for(var _,v=d.combo(n[t],e[t],r[t],o),y=0,m=v.length;m>y;y++){var g=v[y];if(o.hasOwnProperty(g)){var w=o[g];if(t&&(a(t-1,e,n,r,w,s.parent,u,h),!p))for(var b=t-2;b>=0;b--)a(b,e,n,r,w,s.parent,u,h);if(w.hasOwnProperty("_v")&&i(u,w),h&&w.hasOwnProperty("_:")&&w["_:"].forEach(function(t){t[0].forEach(function(t){function e(){f.get(u).__hover=!0,f.get(u).__updateStyle()}function n(){f.get(u).__hover=!1,f.get(u).__updateStyle()}function r(){s.element.addEventListener("mouseenter",e),s.element.addEventListener("mouseleave",n)}function a(){f.get(u).__active=!0,f.get(u).__updateStyle()}function i(){f.get(u).__active=!1,f.get(u).__updateStyle()}function o(){s.element.addEventListener("mousedown",a),window.addEventListener("mouseup",i,!0),window.addEventListener("touchend",i,!0),window.addEventListener("touchcancel",i,!0),window.addEventListener("blur",i),window.addEventListener("dragend",i)}var u=s.uid;switch(t){case"hover":s.__dom?r():s.once(c.DOM,r),s.__onHover=e,s.__outHover=n;break;case"active":s.__dom?o():s.once(c.DOM,o),l.add(u,i)}})}),(w.hasOwnProperty("_:")||w.hasOwnProperty("_["))&&!function(){function o(o){if(o&&o.hasOwnProperty("_[")){var c=o["_["];c.forEach(function(o){var f=d.attr(o[0],s);f&&(c=o[1],t&&a(t-1,e,n,r,c,s.parent,u,h),c.hasOwnProperty("_v")&&i(u,c))})}}w.hasOwnProperty("_:")&&(_=w["_:"],_.forEach(function(o){var c=d.pseudo(o[0],s,g);c&&(_=o[1],t&&a(t-1,e,n,r,_,s.parent,u,h),_.hasOwnProperty("_v")&&i(u,_))})),o(w),o(_)}(),w.hasOwnProperty("_>")){var _=w["_>"];a(t-1,e,n,r,_,s.parent,u,!1,p)}if(w.hasOwnProperty("_+")){var _=w["_+"],O=s.prev();O&&Object.keys(_).forEach(function(o){d.nci(o,O)||(_[o].hasOwnProperty("_v")&&i(u,_[o]),a(t-1,e,n,r,_[o],s.parent,u,!1,p))})}if(w.hasOwnProperty("_~")){var _=w["_~"],E=s.prevAll();if(E.length)for(var k=!1,y=E.length-1;y>=0;y--){var O=E[y];if(Object.keys(_).forEach(function(o){d.nci(o,O)||(_[o].hasOwnProperty("_v")&&i(u,_[o]),k=!0,a(t-1,e,n,r,_[o],s.parent,u,!1,p))}),k)break}}}}}function i(t,e){e._v.forEach(function(n){n[2]=e._p,t.push(n)})}function o(t){var e=t.charAt(0).toUpperCase()+t.slice(1);return window["inner"+e]||document.documentElement["client"+e]||document.body["client"+e]}var s=function(){var t=n(6);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=n(13);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=n(5);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=n(22);return t.hasOwnProperty("default")?t["default"]:t}(),d=function(){var t=n(12);return t.hasOwnProperty("default")?t["default"]:t}();e["default"]=r},function(t,e,n){var r=function(){var t=n(1);return t.hasOwnProperty("default")?t["default"]:t}(),a=function(){var t=n(3);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=n(8);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=n(9);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=n(16);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=n(4);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=n(6);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=n(24);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=n(15);return t.hasOwnProperty("default")?t["default"]:t}(),d=function(){var t=n(10);return t.hasOwnProperty("default")?t["default"]:t}(),h=function(){var t=n(7);return t.hasOwnProperty("default")?t["default"]:t}(),p=function(){var t=n(19);return t.hasOwnProperty("default")?t["default"]:t}(),_=function(){var t=n(2);return t.hasOwnProperty("default")?t["default"]:t}(),v=function(){var t=n(11);return t.hasOwnProperty("default")?t["default"]:t}(),y=function(){var t=n(13);return t.hasOwnProperty("default")?t["default"]:t}(),m=function(){var t=n(5);return t.hasOwnProperty("default")?t["default"]:t}(),g=function(){var t=n(17);return t.hasOwnProperty("default")?t["default"]:t}(),w={render:function(t,e){return e&&t.appendTo(e),t},createCp:function(t,e,n){return m.set(new t(e,n))},createVd:function(t,e,n){if({script:!0,style:!0}.hasOwnProperty(t.toLowerCase()))throw new Error("can not create VirtualDom of: "+t);return m.set(p.index?p.get().__reset(t,e,n):new u(t,e,n))},Event:r,Model:o,CacheModel:s,EventBus:i,eventBus:new i,Element:a,Component:c,NonVisualComponent:f,CacheComponent:l,VirtualDom:u,Obj:d,Cb:h,util:_,browser:v,sort:y,hash:m,Fastclick:g,name:function(t,e){c.prototype.isPrototypeOf(t.prototype)&&(t.__migiName=e)}};"undefined"!=typeof window&&(window.migi=w,document.body?g.attach(document.body):document.addEventListener("DOMContentLoaded",function(){g.attach(document.body)})),e["default"]=w},function(t,e){function n(t,e,n,r){return Math.abs(t-e)>=Math.abs(n-r)?t-e>0?"left":"right":n-r>0?"up":"down"}function r(){l&&clearTimeout(l),d&&clearTimeout(d),l=d=null,w={},g=[]}function a(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function i(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}function o(){document.addEventListener("touchmove",s,!0),document.addEventListener("MSPointerMove",s,!0),document.addEventListener("pointermove",s,!0),document.addEventListener("touchend",u,!0),document.addEventListener("MSPointerUp",u,!0),document.addEventListener("pointerup",u,!0),document.addEventListener("MSGestureEnd",c,!0),document.addEventListener("touchcancel",r,!0),document.addEventListener("MSPointerCancel",r,!0),document.addEventListener("pointercancel",r,!0),window.addEventListener("scroll",r),window.addEventListener("blur",r)}function s(t){w.vd&&(!(y=i(t,"move"))||a(t))&&(v=y?t:t.touches[0],w.x2=v.pageX,w.y2=v.pageY,E+=Math.abs(w.x1-w.x2),k+=Math.abs(w.y1-w.y2))}function c(t){if(w.vd){var e=t.velocityX>1?"right":t.velocityX<-1?"left":t.velocityY>1?"down":t.velocityY<-1?"up":null;e&&(("swipe"==w.name||w.name==e)&&w.cb(t),g.forEach(function(n){("swipe"==n.name||n.name==e)&&n.cb(t)}))}}function u(t){w.vd&&(!(y=i(t,"up"))||a(t))&&(w.x2&&Math.abs(w.x1-w.x2)>30||w.y2&&Math.abs(w.y1-w.y2)>30?d=setTimeout(function(){var e="swipe"+n(w.x1,w.x2,w.y1,w.y2);("swipe"==w.name||w.name==e)&&w.cb(t),g.forEach(function(n){("swipe"==n.name||n.name==e)&&n.cb(t)}),w={},g=[]},0):30>E&&30>k?l=setTimeout(function(){var e=Date.now()-O>b;e?("longtap"==w.name&&w.cb(t),g.forEach(function(e){"longtap"==e.name&&e.cb(t)})):w.isDoubleTap&&w.vd==f.vd&&("doubletap"==w.name&&w.cb(t),g.forEach(function(e){"doubletap"==e.name&&e.cb(t)})),w={},g=[]},0):(w={},g=[]),E=k=0)}var f,l,d,h,p,_,v,y,m,g=[],w={},b=750,O=0,E=0,k=0;e["default"]=function(t,e,n,r){function s(r){if(!(y=i(r,"down"))||a(r)){if(w.first)return void g.push({vd:t,name:e,cb:n});v=y?r:r.touches[0],r.touches&&1===r.touches.length&&w.x2&&(w.x2=void 0,w.y2=void 0),w={vd:t,name:e,cb:n,first:!0,x1:v.pageX,y1:v.pageY},f=w,p=Date.now(),_=p-O,O=p,_>0&&250>_&&(w.isDoubleTap=!0),h&&y&&h.addPointer(r.pointerId)}}m||(m=!0,o()),r.push(["touchstart",s]),r.push(["MSPointerDown",s]),r.push(["pointerdown",s]);var c=t.element;c.addEventListener("touchstart",s),c.addEventListener("MSPointerDown",s),c.addEventListener("pointerdown",s)}},function(t,e,n){t.exports=n(30)["default"]}]);