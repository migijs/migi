!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=23)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__hash={}}return n(e,[{key:"on",value:function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)this.on(e[r],t);else if(t){this.__hash.hasOwnProperty(e)||(this.__hash[e]=[]);r=0;var a=this.__hash[e];for(n=a.length;r<n;r++)if(a[r]===t)return this;this.__hash[e].push(t)}return this}},{key:"once",value:function(e,t){var r=this;if(Array.isArray(e))for(var n=0,a=e.length;n<a;n++)r.once(e[n],t);else if(t){r.on(e,function n(){for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];t.apply(this,i),r.off(e,n)})}return this}},{key:"off",value:function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)this.off(e[r],t);else if(this.__hash.hasOwnProperty(e))if(t){r=0;var a=this.__hash[e];for(n=a.length;r<n;r++)if(a[r]===t){a.splice(r,1);break}}else delete this.__hash[e];return this}},{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(Array.isArray(e))for(var a=0,i=e.length;a<i;a++)this.emit(e[a],r);else if(this.__hash.hasOwnProperty(e)){var o=this.__hash[e];if(o.length)for(a=0,i=(o=o.slice()).length;a<i;a++)o[a].apply(this,r)}return this}}],[{key:"mix",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a=r.length-1;a>=0;a--){var i=r[a],o=new e;i.__hash={};for(var s=["on","once","off","emit"],u=s.length-1;u>=0;u--){var l=s[u];i[l]=o[l]}}}}]),e}();a.DOM="DOM",a.DESTROY="DESTROY",a.DATA="DATA",t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(2)),a=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}var o={}.toString;function s(e){return function(t){return o.call(t)=="[object "+e+"]"}}function u(e){return void 0===e||null===e||c.isBoolean(e)||c.isNumber(e)||c.isString(e)}function l(e){return null===e||void 0===e?"":e.toString()}function f(e,t){return t?e.replace(/"/g,"&quot;"):e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}var c={clone:function(e){return function e(t){if(t instanceof n.default||t instanceof a.default)return t;if(u(t))return t;var r=Array.isArray(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];o instanceof n.default?r[i]=o:c.isDate(o)?r[i]=new Date(o):r[i]=c.isObject(o)?e(o):o}return r}(e)},isObject:s("Object"),isString:s("String"),isFunction:s("Function"),isNumber:s("Number"),isBoolean:s("Boolean"),isDate:s("Date"),equal:function(e,t){return function e(t,r){if(t instanceof n.default||r instanceof n.default)return t===r;if(u(t)||u(r))return t===r;if(Array.isArray(t)){if(!Array.isArray(r))return!1;if(t.length!=r.length)return!1;for(var a=0,i=t.length;a<i;a++)if(!e(t[a],r[a]))return!1;return!0}if(c.isDate(t))return!!c.isDate(r)&&t-r==0;if(c.isObject(t)){if(!c.isObject(r))return!1;var o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;for(a=0,i=o.length;a<i;a++)if(!r.hasOwnProperty(a)||!e(t[a],r[a]))return!1;return!0}}(e,t)},stringify:l,encodeHtml:f,joinArray:function(e,t){return function e(t,r){for(var i="",o=0,s=t.length;o<s;o++){var u=t[o];Array.isArray(u)?i+=e(u):u instanceof n.default?i+=r?f(u.toString(),r):u.toString():u instanceof a.default?i+=u.toString(r):i+=f(l(u),r)}return i}(e,t)},joinSourceArray:function(e){return function e(t){for(var r="",n=0,a=t.length;n<a;n++){var i=t[n];Array.isArray(i)?r+=e(i):r+=l(i)}return r}(e)},linear:function(e,t){return t=t||[],Array.isArray(t)?t.forEach(function(e){t.push(e)}):t.push(e),t},arrFirst:function e(t){return Array.isArray(t)?e(t[0]):t},isDom:function(e){return e instanceof n.default},getAllChildrenElement:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.__children.forEach(function(t){t instanceof migi.VirtualDom?(e(t,r),r.push(t)):t instanceof migi.Component&&(e(t.__virtualDom,r),r.push(t.__virtualDom))}),r}};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=o(r(0)),i=o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(i.default.isString(e)){var t=document.querySelector(e);if(!t)throw new Error("can not find dom of selector: "+e);return t}return e instanceof u?e.element:e}var u=function(e){function t(e,r,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(Array.isArray(e)){var o=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e));e=o[0],r=o[1],n=o[2],a=o[3]}return n=n||[],a=a||[],i.__reset(e,r,n,a),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),n(t,[{key:"__reset",value:function(e,t,r,n){this.__uid=e,this.__name=t,Array.isArray(r)?(this.props=function(e){for(var t={},r=0,n=e.length;r<n;r++){var a=e[r];if(Array.isArray(a))t[a[0]]=a[1];else for(var i=Object.keys(a),o=i.length-1;o>=0;o--){var s=i[o];t[s]=a[s]}}return t}(r),this.__props=function(e){for(var t=0,r=e.length;t<r;t++){var n=e[t];if(!Array.isArray(n)){var a=[],i=Object.keys(n),o=0;for(r=i.length;o<r;o++){var s=i[o];a.push([s,n[s]])}e.splice.apply(e,[t,1].concat(a))}}return e}(r)):(this.props=r,this.__props=function(e){for(var t=[],r=Object.keys(e),n=0,a=r.length;n<a;n++){var i=r[n];t.push([i,e[i]])}return t}(r)),this.__children=n,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(a.default.DOM,this.__onDom)}},{key:"clean",value:function(){if(this.__dom){var e=this.element;e&&e.parentNode&&e.parentNode.removeChild(e),this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(a.default.DOM,this.__onDom)}}},{key:"__onDom",value:function(){this.__dom=!0,this.__saveRef()}},{key:"__saveRef",value:function(){if(this.props.ref){var e=this.top;if(e){var t=this.props.ref,r=e.ref[t];Array.isArray(r)?r.push(this):e.ref[t]=r?[r,this]:this}}}},{key:"__delRef",value:function(){var e=this.props.ref;if(e){var t=this.top;if(t&&t.ref){var r=t.ref[e];if(r)if(r===this)delete t.ref[e];else if(Array.isArray(r))for(var n=0,a=r.length;n<a;n++)if(r[n]===this){r.splice(n,1);break}}}}},{key:"inTo",value:function(e){this.clean();var t=this.toString();s(e).innerHTML=t,this.emit(a.default.DOM)}},{key:"appendTo",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("beforeend",t),this.emit(a.default.DOM)}},{key:"prependTo",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterbegin",t),this.emit(a.default.DOM)}},{key:"before",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("beforebegin",t),this.emit(a.default.DOM)}},{key:"after",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterend",t),this.emit(a.default.DOM)}},{key:"replace",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterend",t),e.parentNode.removeChild(e),this.emit(a.default.DOM)}},{key:"top",get:function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component?this.__top=this.parent:this.__top=this.parent.top),this.__top}},{key:"parent",get:function(){return this.__parent}},{key:"children",get:function(){return this.__children}},{key:"name",get:function(){return this.__name}},{key:"dom",get:function(){return this.__dom}}]),t}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=o(r(2)),i=o(r(1));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.k=t,this.cb=r,this.single=n,this.vBind=a,this.setV(r())}return n(e,[{key:"setV",value:function(e){this.v=i.default.clone(e)}},{key:"toString",value:function(e){if(Array.isArray(this.v))return i.default.joinArray(this.v,e);var t=i.default.stringify(this.v);return e?i.default.encodeHtml(t,e):this.v instanceof a.default?t:i.default.encodeHtml(t)}},{key:"toSourceString",value:function(){return Array.isArray(this.v)?i.default.joinSourceArray(this.v):i.default.stringify(this.v)}},{key:"update",value:function(e){var t=this.cb();if(!i.default.equal(e,t))return this.setV(t),!0}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=_(r(0)),i=_(r(2)),o=_(r(8)),s=_(r(1)),u=_(r(3)),l=_(r(6)),f=_(r(7)),c=_(r(29)),d=_(r(14));function _(e){return e&&e.__esModule?e:{default:e}}var h=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touchstart","touchmove","touchend","touchcancel","MSGestureEnd","MSPointerDown","pointerdown","MSPointerMove","pointermove","MSPointerUp","pointerup","MSPointerCancel","pointercancel"],p=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null,r,n)),i=a;return i.__name=i.constructor.__migiName,i.__virtualDom=null,i.__ref={},i.__bindHash={},i.__ob=[],i.__bindProperty={},i.__props.forEach(function(e,t){var r=e[0],n=e[1];i.__init(r,n,t)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),n(t,[{key:"__init",value:function(e,t,r){var n=this;if(/^on[a-zA-Z]/.test(e)){var i=e.slice(2).toLowerCase();n.once(a.default.DOM,function(){n.virtualDom.__addEvt(i,t)})}else if(/^on-[a-zA-Z\d_]/.test(e)){i=e.slice(3);n.on(i,function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var a;t instanceof l.default?s.default.isFunction(t.cb)&&(a=t.cb).call.apply(a,[t.context].concat(r)):s.default.isFunction(t)&&t.apply(void 0,r)})}else"model"==e?n.model=t:t instanceof u.default&&(n.__props[r]=t.v,n.props[e]=t.v,n.__bindProperty[t.k]=[e,t])}},{key:"render",value:function(){return new o.default(this.__uid,"div",this.__props,this.__children)}},{key:"toString",value:function(){if(this.__virtualDom=this.render(),!this.__virtualDom)throw new Error("render must return a VirtualDom: "+this.__name);return this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()}},{key:"preString",value:function(){this.toString()}},{key:"findChild",value:function(e){return this.findChildren(e,!0)[0]}},{key:"findChildren",value:function(e,r){for(var n=[],a=0,o=this.children.length;a<o;a++){var u=this.children[a];if(u instanceof i.default)if(u instanceof t){if((u.name==e||s.default.isFunction(e)&&u instanceof e)&&(n.push(u),r))break}else{if((u.name==e||s.default.isFunction(e)&&u instanceof e)&&(n.push(u),r))break;if(n=n.concat(u.findAll(e)),r&&n.length)break}}return n}},{key:"find",value:function(e){return this.__virtualDom?this.__virtualDom.find(e):null}},{key:"findAll",value:function(e){return this.__virtualDom?this.__virtualDom.findAll(e):[]}},{key:"__onDom",value:function(){(function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);this.virtualDom.emit(a.default.DOM);var e=this.element;if(this.name&&e.setAttribute("migi-name",this.name),!0===this.props.stopPropagation||"true"===this.props.stopPropagation);else{if(!1===this.props.stopPropagation||"false"===this.props.stopPropagation)return;if(!this.stopPropagation)return}function r(t){t=t||window.event,(0,d.default)(t),t.target!=e&&t.srcElement!=e&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}this.__stop=r,h.forEach(function(t){e.addEventListener(t,r)})}},{key:"__data",value:function(e,t){this.dom&&(this.__canData=!0),this.__onData(e,t),this.emit(a.default.DATA,e,this[e])}},{key:"__onData",value:function(e,t){if(this.__dom&&this.__canData){this.virtualDom&&this.virtualDom.__onData(e,t);for(var r=0,n=this.children.length;r<n;r++){var a=this.children[r];a instanceof o.default&&a.__onData(e,t)}}}},{key:"__notifyBindProperty",value:function(e){if(this.__bindProperty.hasOwnProperty(e)){var t=this.__bindProperty[e],r=t[0],n=t[1];n.update(n.v)&&(this[r]=n.v)}}},{key:"__destroy",value:function(){var e=this;if(e.__stop){var t=e.element;h.forEach(function(r){t.removeEventListener(r,e.__stop)})}e.model&&e.model.__del(e),e.__ob.forEach(function(t){var r=t.__ob__.indexOf(e);r>-1&&(t.__ob__.splice(r,1),t.__cb__.splice(r,1))});var r=e.virtualDom.__destroy();return e.emit(a.default.DESTROY),e.__hash={},e.__bindProperty=null,r}},{key:"__initBind",value:function(e){return!this.__bindHash.hasOwnProperty(e)}},{key:"__getBind",value:function(e){return this.__bindHash[e]}},{key:"__setBind",value:function(e,t){this.__bindHash[e]=t,this.__array(e,t)}},{key:"__array",value:function(e,t){var r=this;Array.isArray(t)&&(t.__proto__=c.default,t.__ob__=t.__ob__||[],t.__cb__=t.__cb__||[],-1==t.__ob__.indexOf(r)&&(r.__ob.push(t),t.__ob__.push(r),t.__cb__.push(function(t){r.__data(e,t)})))}},{key:"stopPropagation",get:function(){return this.__stopPropagation},set:function(e){this.__stopPropagation=e}},{key:"element",get:function(){return this.virtualDom?this.virtualDom.element:null}},{key:"style",get:function(){return this.__style},set:function(e){this.__style=e}},{key:"model",get:function(){return this.__model},set:function(e){if(!(e instanceof f.default))throw new Error("can not set model to a non Model: "+e);this.__model=e,e.__add(this)}},{key:"virtualDom",get:function(){return this.__virtualDom}},{key:"ref",get:function(){return this.__ref}}]),t}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default={get:function(e){return n[e]},set:function(e){return n[e.__uid]=e,e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.cb=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=o(r(0)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var s=0,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__uid="m"+s++,e.__name=e.constructor.__migiName,e.__ref=[],e.__bindHash={},e.__ob=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),n(t,[{key:"__onData",value:function(e,t){e="model."+e,this.__ref.forEach(function(r){r.dom&&(r.__canData=!0),r.__onData(e,t)})}},{key:"__add",value:function(e){-1==this.__ref.indexOf(e)&&this.__ref.push(e)}},{key:"__del",value:function(e){var t=this.__ref.indexOf(e);t>-1&&this.__ref.splice(t,1)}},{key:"name",get:function(){return this.__name}}]),t}();["__data","__record","__unRecord","__initBind","__getBind","__setBind","__array"].forEach(function(e){u.prototype[e]=i.default.prototype[e]}),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},i=w(r(0)),o=w(r(2)),s=w(r(4)),u=w(r(1)),l=w(r(3)),f=w(r(6)),c=w(r(15)),d=w(r(16)),_=w(r(26)),h=w(r(10)),p=w(r(14)),v=w(r(19)),y=w(r(5)),g=w(r(27)),O=w(r(18)),m=w(r(13)),b=w(r(28)),T=w(r(20)),k=w(r(21));function w(e){return e&&e.__esModule?e:{default:e}}var E={swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,longtap:!0,doubletap:!0};function D(e){return e instanceof o.default?e.name+'[migi-uid="'+e.__uid+'"]':e.replace(/(^|\s|,|])([A-Z][\w$]*)\b/,'$1[migi-name="$2"]')}function M(e,t,r){return function e(t,r,n,a){for(var i=0,s=r.length;i<s;i++){var u=r[i];if(u instanceof o.default?n=A(t,u,n,a):u instanceof l.default?(u=u.v,Array.isArray(u)?n=e(t,u,n,a):u instanceof o.default&&(n=A(t,u,n,a))):Array.isArray(u)&&(n=e(t,u,n,a)),a&&n.length)break}return n}(e,t,[],r)}function A(e,t,r,n){if(t instanceof s.default)t instanceof e&&r.push(t);else{if(t instanceof e&&(r.push(t),n))return r;r=r.concat(t.findAll(e,n))}return r}var x=function(e){function t(e,r,n,a){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T.default.hasOwnProperty(r)&&a.length)throw new Error("self-close tag can not has children: "+r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n,a)),o=i;return o.__names=null,o.__classes=null,o.__ids=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),n(t,[{key:"toString",value:function(){for(var e="<"+this.name,t=0,r=this.__props.length;t<r;t++){var n,a=this.__props[t];e+=n=this.__renderProp(a[0],a[1])}this.__style&&((n=this.__match(!0))&&(e=e.indexOf(' style="')>1?e.replace(/ style="[^"]*"/,' style="'+n+'"'):e+' style="'+n+'"'));if(e+=' migi-uid="'+this.__uid+'"',this.__checkListener(),this.__selfClose)return e+"/>";(e+=">",this.props.dangerouslySetInnerHTML)?e+=n=(n=this.props.dangerouslySetInnerHTML)instanceof l.default?n.toSourceString():Array.isArray(n)?u.default.joinSourceArray(n):u.default.stringify(n):e+=this.__renderChildren();return e+="</"+this.name+">"}},{key:"preString",value:function(){for(var e=0,t=this.__props.length;e<t;e++){var r=this.__props[e];this.__renderProp(r[0],r[1])}this.__style&&this.__match(!0),this.__checkListener(),this.__renderChildren()}},{key:"isFirst",value:function(e){if(this.parent instanceof s.default)return!0;for(var r=0,n=(e=e||this.parent.children).length;r<n;r++){var a=e[r];if(Array.isArray(a)&&a.length)return this.isFirst(a);if(a==this)return!0;if(a instanceof t)return!1;if(a instanceof l.default&&(a=a.v,Array.isArray(a)&&a.length))return this.isFirst(a)}}},{key:"isLast",value:function(e){if(this.parent instanceof s.default)return!0;for(var r=(e=e||this.parent.children).length-1;r>=0;r--){var n=e[r];if(Array.isArray(n)&&n.length)return this.isLast(n);if(n==this)return!0;if(n instanceof t)return!1;if(n instanceof l.default&&(n=n.v,Array.isArray(n)&&n.length))return this.isLast(n)}}},{key:"isEmpty",value:function(){return function e(t){var r=!0;if(Array.isArray(t))for(var n=0,a=t.length;n<a&&(r=e(t[n]));n++);else r=!(t instanceof o.default)&&(t instanceof l.default?e(t.v):P(t));return r}(this.children)}},{key:"isEnabled",value:function(){return!this.__cache.disabled}},{key:"isDisabled",value:function(){return this.__cache.disabled}},{key:"isChecked",value:function(){return this.__cache.checked}},{key:"prev",value:function(){var e={};return S(this.parent.children,this,e,function(t){e.prev=t}),e.prev}},{key:"prevAll",value:function(e){var t={prev:[]};return S(this.parent.children,this,t,function(r){(e&&!m.default.nci(e,r)||!e)&&t.prev.push(r)}),t.prev}},{key:"next",value:function(){var e={};return L(this.parent.children,this,e,function(t){e.next=t,e.done=!0}),e.next}},{key:"nextAll",value:function(e){var t={next:[]};return L(this.parent.children,this,t,function(r){(e&&!m.default.nci(e,r)||!e)&&t.next.push(r)}),t.next}},{key:"isOnly",value:function(){return 1==this.siblings().length}},{key:"isOnlyOfType",value:function(e){for(var t=this.siblings(),r=0,n=t.length;r<n;r++){var a=t[r];if(a!=this&&!m.default.nci(e,a))return!1}return!0}},{key:"isFirstOfType",value:function(e){for(var t=this.prevAll(e),r=0,n=t.length;r<n;r++)if(!m.default.nci(e,t[r]))return!1;return!0}},{key:"isLastOfType",value:function(e){for(var t=this.nextAll(e),r=0,n=t.length;r<n;r++)if(!m.default.nci(e,t[r]))return!1;return!0}},{key:"siblings",value:function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)e(t[n],r);else t instanceof o.default?r.push(t):t instanceof l.default&&e(t.v,r);return r}(this.parent.children)}},{key:"getIdx",value:function(e){var t=this.siblings(),r=t.indexOf(this);return r>-1?e?t.length-r-1:r:-1}},{key:"getIdxOfType",value:function(e,t){var r=t?this.nextAll(e):this.prevAll(e);t?r.unshift(this):r.push(this);var n=r.indexOf(this);return n>-1?t?r.length-n-1:n:-1}},{key:"closest",value:function(e){for(var t=this;t&&t!=this.top;){if(!m.default.nci(e,t))return t;t=t.parent}}},{key:"__renderProp",value:function(e,t){var r=this,n="";if(/^on[a-zA-Z]/.test(e))r.__renderPropEventDelay=r.__renderPropEventDelay||[],r.__renderPropEventDelay.push({k:e.slice(2).toLowerCase(),v:t});else if(t instanceof l.default){if("dangerouslySetInnerHTML"==e)return"";var a=t.toString(!0);switch("className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=a,v.default.special(r.name,e)){case v.default.RENDER_EXIST:t.v&&(n=" "+e+'="'+a+'"');break;case v.default.RENDER_DOM:r.once(i.default.DOM,function(){r.__updateAttr(e,t.v)});break;default:n=" "+e+'="'+a+'"'}}else{a=Array.isArray(t)?u.default.joinSourceArray(t):u.default.stringify(t);if("dangerouslySetInnerHTML"==e)return"";switch("className"==e?e="class":"htmlFor"==e&&(e="for"),r.__cache[e]=a,v.default.special(r.name,e)){case v.default.RENDER_EXIST:t&&(n=" "+e+'="'+u.default.encodeHtml(a,!0)+'"');break;case v.default.RENDER_DOM:r.once(i.default.DOM,function(){r.__updateAttr(e,t)});break;default:n=" "+e+'="'+u.default.encodeHtml(a,!0)+'"'}}if(r.__style)switch(e){case"class":case"id":n=" migi-"+n.slice(1)}return n}},{key:"__renderChildren",value:function(){for(var e="",t=0,r=this.children.length;t<r;t++)e+=j(this.children[t]);return e}},{key:"__checkListener",value:function(){var e=this;if("input"==e.name){if(e.props.hasOwnProperty("value"))(t=e.props.value)instanceof l.default&&t.vBind&&e.once(i.default.DOM,function(){function r(e){(0,p.default)(e);var r=e.target.value;t.vBind(r)}switch((e.__cache.type||"").toLowerCase()){case"checkbox":case"radio":case"range":case"color":e.__addListener("change",r);break;default:e.__addListener(["input","paste","cut","change"],r)}});else if(e.props.hasOwnProperty("checked")){(t=e.props.checked)instanceof l.default&&t.vBind&&e.once(i.default.DOM,function(){switch((e.__cache.type||"").toLowerCase()){case"checkbox":case"radio":e.__addListener("change",function(e){(0,p.default)(e);var r=e.target.checked;t.vBind(r)})}})}}else if("option"==e.name){var t;if(e.props.hasOwnProperty("selected"))(t=e.props.selected)instanceof l.default&&t.vBind&&e.once(i.default.DOM,function(){e.__addListener("change",function(e){(0,p.default)(e);var r=e.target.selected;t.vBind(r)})})}else if("textarea"==e.name&&1==e.children.length){var r=e.children[0];r instanceof l.default&&r.vBind&&e.once(i.default.DOM,function(){e.__addListener(["input","paste","cut","change"],function(e){(0,p.default)(e);var t=e.target.value;r.vBind(t)})})}e.__renderPropEventDelay&&(e.__renderPropEventDelay.forEach(function(t){e.once(i.default.DOM,function(){e.__addEvt(t.k,t.v)})}),e.__renderPropEventDelay=null)}},{key:"__addEvt",value:function(e,t){var r=this;r.__addListener(e,function(e){(0,p.default)(e);var n,a=e.target.getAttribute("migi-uid"),i=y.default.get(a);return t instanceof f.default&&u.default.isFunction(t.cb)?t.cb.call(t.context,e,r,i):u.default.isFunction(t)?t(e,r,i):Array.isArray(t)?(t.forEach(function(t,a){var o=t[1],s=(0,O.default)(e,t[0],r);s[0]&&(o instanceof f.default&&u.default.isFunction(o.cb)?a?o.cb.call(o.context,e,r,s[1],i):n=o.cb.call(o.context,e,r,s[1],i):u.default.isFunction(o)&&(a?o(e,r,s[1],i):n=o(e,r,s[1],i)))}),n):void 0})}},{key:"__addListener",value:function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)this.__addListener(e[r],t);else{this.__listener=this.__listener||[],"tap"==e&&(e="click");var a=this.element;if(E.hasOwnProperty(e))return void(0,g.default)(this,e,t,this.__listener);if(this.__listener.push([e,t]),a.addEventListener(b.default[e]||e,t),"load"==e&&a.complete){var i=document.createEvent("Event");i.initEvent("load",!0,!0),a.dispatchEvent(i)}}}},{key:"__removeListener",value:function(){if(this.__listener){for(var e=this.element,t=this.__listener.length-1;t>=0;t--){var r=this.__listener[t];e.removeEventListener(r[0],r[1])}this.__listener=null}}},{key:"find",value:function(e){if(u.default.isFunction(e))return function(e,t){return M(e,t,!0)[0]||null}(e,this.children);if(this.element){var t=this.element.querySelector(D(e)).getAttribute("migi-uid");return y.default.get(t)||null}return null}},{key:"findAll",value:function(e){if(u.default.isFunction(e))return M(e,this.children);var t=[];if(this.element){var r=this.element.querySelectorAll(D(e));Array.from(r).forEach(function(e){if(e){var r=e.getAttribute("migi-uid"),n=y.default.get(r)||null;n&&t.push(n)}})}return t}},{key:"__onDom",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);var e={start:0,first:!0};this.__checkBlank(this.children,e),(e.empty||e.first)&&this.__insertBlank(e.start)}},{key:"__checkBlank",value:function(e,t){if(Array.isArray(e)&&e.length)for(var r=0,n=e.length;r<n;r++)this.__checkBlank(e[r],t);else if(u.default.isDom(e))t.empty&&this.__insertBlank(t.start),t.start++,t.prev==h.default.TEXT&&t.start++,t.prev=h.default.DOM,t.empty=!1,t.first=!1,e.emit(i.default.DOM);else if(e instanceof l.default)this.__checkBlank(e.v,t);else if(P(e)){if(t.prev==h.default.TEXT)return;t.empty=!0,t.prev=h.default.TEXT,t.first=!1}else t.empty=!1,t.prev=h.default.TEXT,t.first=!1}},{key:"__insertBlank",value:function(e){var t=document.createTextNode(""),r=this.element,n=r.childNodes,a=n.length;!a||e>=a?r.appendChild(t):r.insertBefore(t,n[e])}},{key:"__onData",value:function(e,t){if(this.dom){for(var r=0,n=this.__props.length;r<n;r++){var a=this.__props[r],i=a[0];if((a=a[1])instanceof l.default){var o=!1;switch((Array.isArray(e)?1:0)|(Array.isArray(a.k)?2:0)){case 0:o=e==a.k;break;case 1:o=e.indexOf(a.k)>-1;break;case 2:o=a.k.indexOf(e)>-1;break;case 3:for(var s={},u=e.length-1;u>=0;u--)s[e[u]]=!0;var f=a.k;for(u=0,n=f.length;u<n;u++)if(s.hasOwnProperty(f[u])){o=!0;break}}if(o){var d=a.v;a.update(d)&&this.__updateAttr(i,a.v)}}}var _={start:0,range:[],history:[],first:!0},h=this.children,p=0;for(n=h.length;p<n;p++){var v=h[p];_.index=[p],this.__checkObj(e,v,_,t)}if(_.range.length){if("textarea"==this.__name)return void this.__updateAttr("value",c.default.value(_.range[0],this.children));for(r=0,n=_.range.length;r<n;r++)c.default.update(_.range[r],this.children,this.element)}}}},{key:"__checkObj",value:function(e,r,n,a){if(r instanceof l.default){var i=!1;switch((Array.isArray(e)?1:0)|(Array.isArray(r.k)?2:0)){case 0:i=e==r.k;break;case 1:i=e.indexOf(r.k)>-1;break;case 2:i=r.k.indexOf(e)>-1;break;case 3:for(var o={},s=e.length-1;s>=0;s--)o[e[s]]=!0;for(var f=r.k,c=(s=0,f.length);s<c;s++)if(o.hasOwnProperty(f[s])){i=!0;break}}if(i){var d=r.v;r.update(d)?_.default.diff(this,this.element,d,r.v,n,k.default.optimizeArrayDiff&&r.single&&a):this.__checkObj(e,r.v,n,a)}else this.__checkObj(e,r.v,n,a)}else if(u.default.isDom(r))r instanceof t?r.__onData(e,a):r.__notifyBindProperty(e),n.start++,n.first||n.prev!=h.default.TEXT||n.start++,n.state=h.default.DOM_TO_DOM,n.prev=h.default.DOM;else if(Array.isArray(r))if(r.length){n.index.push(0);for(s=0,c=r.length;s<c;s++){var p=r[s];n.index[n.index.length-1]=s,this.__checkObj(e,p,n,a)}n.index.pop()}else _.default.checkText(this.element,r,n),(n.first||n.prev==h.default.DOM)&&_.default.recordRange(n),n.state=h.default.TEXT_TO_TEXT,n.prev=h.default.TEXT;else _.default.checkText(this.element,r,n),(n.first||n.prev==h.default.DOM)&&_.default.recordRange(n),n.state=h.default.TEXT_TO_TEXT,n.prev=h.default.TEXT;n.first=!1}},{key:"__updateAttr",value:function(e,t){if("dangerouslySetInnerHTML"==e)return null!==t&&void 0!==t||(t=""),this.element.innerHTML=u.default.stringify(t),void this.__insertBlank(0);v.default.update(this.name,this.element,e,t,this.__style),this.__cache[e]=t,this.__style&&this.__updateStyle()}},{key:"__match",value:function(e){var t=this.__cache.style||"";return this.__initCI(),(0,d.default)(this.__names,this.__classes,this.__ids,this.__style||{default:{}},this,e)+t}},{key:"__initCI",value:function(){var e=this.parent;e instanceof t?(this.__classes=e.__classes.slice(),this.__ids=e.__ids.slice()):(this.__classes=[],this.__ids=[]),this.__classes.push(m.default.splitClass(this.__cache.class)),this.__ids.push(m.default.preId(this.__cache.id))}},{key:"__updateStyle",value:function(e){var r=this.__match(e);if(this.element.getAttribute("style")!=r&&this.element.setAttribute("style",r),!e)for(var n=this.children.length-1;n>=0;n--){var a=this.children[n];a instanceof t&&a.__updateStyle()}}},{key:"__init",value:function(e,t){this.__selfClose=T.default.hasOwnProperty(e),function e(t,r){if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)e(t[n],r);else t instanceof o.default?t.__parent=r:t instanceof l.default&&e(t.v,r)}(t,this)}},{key:"__reset",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__reset",this).call(this,e,r,n,i),this.__init(r,i),this.__hasDes=!1,this}},{key:"__destroy",value:function(){return(this.__onHover||this.__outHover)&&this.element&&(this.element.removeEventListener("mouseenter",this.__onHover),this.element.removeEventListener("mouseleave",this.__outHover)),this.__hash={},this.__cache=null,this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this.__renderPropEventDelay=null,this}},{key:"clean",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clean",this).call(this),this.__renderPropEventDelay=null,this.__removeListener(),this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1}},{key:"names",get:function(){return this.__names||(this.__names=[])}},{key:"element",get:function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.__uid+'"]'))}},{key:"style",get:function(){return this.__style},set:function(e){this.__style=e,this.parent instanceof t?this.__names=this.parent.names.slice():this.__names=[],this.__names.push(this.name);for(var r=0,n=this.children.length;r<n;r++)X(this.children[r],e)}}]),t}();function P(e){return void 0===e||null===e||!e.toString()}function j(e){if(e instanceof o.default||e instanceof l.default)return e.toString();if(Array.isArray(e)){for(var t="",r=0,n=e.length;r<n;r++)t+=j(e[r]);return t}return u.default.encodeHtml(u.default.stringify(e))}function X(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)X(e[r],t);else e instanceof x?e.style=t:e instanceof l.default&&X(e.v,t)}function S(e,t,r,n){if(Array.isArray(e))for(var a=0,i=e.length;a<i&&(S(e[a],t,r,n),!r.done);a++);else if(e instanceof o.default){if(t==e)return void(r.done=!0);n(e)}else e instanceof l.default&&S(e.v,t,r,n)}function L(e,t,r,n){if(Array.isArray(e))for(var a=0,i=e.length;a<i&&(L(e[a],t,r,n),!r.done);a++);else e instanceof o.default?t==e?r.start=!0:r.start&&n(e):e instanceof l.default&&L(e.v,t,r,n)}t.default=x},function(e,t,r){"use strict";function n(e){if("undefined"!=typeof window)return document.createElement(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n("div"),i=n("table"),o=n("tbody"),s=n("tr"),u=n("ul"),l=n("dl"),f=n("select"),c=n("menu");t.default={NODE:a,getParent:function(e){switch(e){case"td":return s;case"tr":return o;case"tbody":case"thead":case"col":return i;case"li":return u;case"dt":case"dd":return l;case"option":return f;case"menuitem":return c;default:return a}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TEXT:1,DOM:2,DOM_TO_TEXT:3,DOM_TO_DOM:4,TEXT_TO_DOM:5,TEXT_TO_TEXT:6}},function(e,t,r){"use strict";function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Array.isArray(e))throw new Error("quick sort need an array");return e.length<2?e:(t=t||function(){},function e(t,r,a,i){if(r>=a)return;var o=r,s=a,u=o,l=t[u],f=!0;for(;o<s;)if(f){for(;o<s;s--)if(i.call(t,l,t[s])){n(t,u,s),u=s,f=!f,o++;break}}else for(;o<s;o++)if(i.call(t,t[o],l)){n(t,u,o),u=o,f=!f,s--;break}e(t,r,u-1,i);e(t,u+1,a,i)}(e,0,e.length-1,t),e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default={add:function(e,t){n[e]=t},del:function(e){var t=n[e];t&&(window.removeEventListener("mouseup",t,!0),window.removeEventListener("touchend",t,!0),window.removeEventListener("touchcancel",t,!0),window.removeEventListener("blur",t),window.removeEventListener("dragend",t),delete n[e])}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(11));function a(e,t){if("odd"==t){if(e%2==1)return!1}else if("even"==t){if(e%2==0)return!1}else if(/^\d+$/.test(t)){if(e!=t-1)return!1}else{for(var r=/(\d+)?n(?:\+(\d+))?/.exec(t),n=!1,a=0;a<=Math.ceil(e/r[1]);a++)if((r[1]||1)*a+(r[2]||0)==e+1){n=!0;break}if(!n)return!1}return!0}t.default={splitClass:function(e){return(e=(e||"").trim())?(e=e.split(/\s+/),(0,n.default)(e,function(e,t){return e>t}),e):""},preId:function(e){return void 0!==e&&null!==e||(e=""),(e=e.toString().trim())?"#"+e:""},combo:function(e,t,r,n){var a=0,i=0;if(e&&e.length){var o=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r-a>1){e(t,r,n,a+1);for(var i=0,o=n.length;i<o;i++)n.push(n[i]+"."+t[a])}n.push("."+t[a]);return n}(e,e.length);i=1}var s=[t];r&&(a=2);var u=n.hasOwnProperty("_*."),l=n.hasOwnProperty("_*#"),f=n.hasOwnProperty("_*.#");return n.hasOwnProperty("_*")&&s.push("*"),i&&o.forEach(function(e){s.push(e),s.push(t+e),u&&s.push("*"+e),a&&(s.push(e+r),s.push(t+e+r),f&&s.push("*"+e+r))}),a&&(s.push(r),s.push(t+r),l&&s.push("*"+r)),s},pseudo:function(e,t,r){for(var n=0,i=e.length;n<i;n++){var o=e[n];switch(o){case"hover":if(!t.__hover)return!1;break;case"active":if(!t.__active)return!1;break;case"first-child":if(!t.isFirst())return!1;break;case"last-child":if(!t.isLast())return!1;break;case"empty":if(!t.isEmpty())return!1;break;case"enabled":if(!t.isEnabled())return!1;break;case"disabled":if(!t.isDisabled())return!1;break;case"checked":if(!t.isChecked())return!1;break;case"only-child":if(!t.isOnly())return!1;break;case"only-of-type":if(!t.isOnlyOfType(r))return!1;break;case"first-of-type":if(!t.isFirstOfType(r))return!1;break;case"last-of-type":if(!t.isLastOfType(r))return!1;break;default:if(0==o.indexOf("nth-child")){if(!a(t.getIdx(),/\((.+)\)/.exec(o)[1]))return!1}else if(0==o.indexOf("nth-last-child")){if(!a(t.getIdx(!0),/\((.+)\)/.exec(o)[1]))return!1}else if(0==o.indexOf("nth-of-type")){if(!a(t.getIdxOfType(r),/\((.+)\)/.exec(o)[1]))return!1}else{if(0!=o.indexOf("nth-last-of-type"))return!1;if(!a(t.getIdxOfType(r,!0),/\((.+)\)/.exec(o)[1]))return!1}}}return!0},attr:function(e,t){var r=!0;e:for(var n=0,a=e.length;n<a;n++){var i=e[n];if(1==i.length){if(!t.__cache.hasOwnProperty(i[0])){r=!1;break}}else{var o=t.__cache[i[0]];if(void 0===o){r=!1;break}var s=i[2];switch(i[1]){case"=":r=o==s;break;case"^=":r=0==o.indexOf(s);break;case"$=":r=o.length>=s.length&&o.indexOf(s)==o.length-s.length;break;case"~=":r=new RegExp("\\b"+s+"\\b").test(o);break;case"*=":r=o.indexOf(s)>-1;break;case"|=":r=0==o.indexOf(s)||0==o.indexOf(s+"-");break;default:r=!1;break e}if(!r)break}}return r},nci:function(e,t){var r=/^[a-z\d]+/i.exec(e);if(r&&r[0].toUpperCase()!=t.__name.toUpperCase())return!0;var n=e.match(/\.[a-z\d_-]+/gi);if(n&&t.__cache.class)for(var a=n.length-1;a>=0;a--)if(!new RegExp("\\b"+n[a].slice(1)+"\\b","i").test(t.__cache.class))return!0;var i=/#[a-z\d_-]+/i.exec(e);return!(!i||!t.__cache.id||i[0].toUpperCase()==t.__cache.id.toUpperCase())||void 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){3==e.target.nodeType&&(e.target=e.target.parentNode)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),a=(o(r(8)),o(r(3))),i=o(r(1));o(r(9)),o(r(10));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){for(var o="",l=e.shift(),f=t.length;l<f;l++){var c=t[l];if(e.length){if(c instanceof a.default?o+=s(e,c.v,r):o+=s(e,c,r),r.end)break}else if(c instanceof a.default)if(Array.isArray(c.v)){if(o+=u(c.v,r),r.end)break}else{if(c.v instanceof n.default){r.end=!0;break}o+=c.toSourceString()}else{if(c instanceof n.default){r.end=!0;break}if(Array.isArray(c)){if(o+=u(c,r),r.end)break}else o+=i.default.stringify(c)}}return o}function u(e,t){for(var r="",a=0,o=e.length;a<o;a++){var s=e[a];if(t.end)break;if(Array.isArray(s))r+=u(s,t);else{if(s instanceof n.default){t.end=!0;break}r+=i.default.stringify(s)}}return r}t.default={update:function(e,t,r){var n=s(e.index,t,{}),a=r.childNodes[e.start];1!=a.nodeType&&n!=a.textContent&&(a.textContent=n||"")},value:function(e,t){return s(e.index,t,{})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(0)),a=u(r(11)),i=u(r(5)),o=u(r(12)),s=u(r(13));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,a,u,c,d,_,h){for(var p=s.default.combo(r[e],t[e],a[e],u),v=0,y=p.length;v<y;v++){var g=p[v];if(u.hasOwnProperty(g)){var O=u[g];if(e&&(l(e-1,t,r,a,O,c.parent,d,_),!h))for(var m=e-2;m>=0;m--)l(m,t,r,a,O,c.parent,d,_);if(O.hasOwnProperty("_v")&&f(d,O),_&&O.hasOwnProperty("_:")&&O["_:"].forEach(function(e){e[0].forEach(function(e){var t=c.__uid;switch(e){case"hover":var r=function(){i.default.get(t).__hover=!0,i.default.get(t).__updateStyle()},a=function(){i.default.get(t).__hover=!1,i.default.get(t).__updateStyle()},s=function(){c.element.addEventListener("mouseenter",r),c.element.addEventListener("mouseleave",a)};c.__dom?s():c.once(n.default.DOM,s),c.__onHover=r,c.__outHover=a;break;case"active":var u=function(){i.default.get(t).__active=!0,i.default.get(t).__updateStyle()},l=function(){i.default.get(t).__active=!1,i.default.get(t).__updateStyle()},f=function(){c.element.addEventListener("mousedown",u),window.addEventListener("mouseup",l,!0),window.addEventListener("touchend",l,!0),window.addEventListener("touchcancel",l,!0),window.addEventListener("blur",l),window.addEventListener("dragend",l)};c.__dom?f():c.once(n.default.DOM,f),o.default.add(t,l)}})}),O.hasOwnProperty("_:")||O.hasOwnProperty("_[")){var b=function(n){if(n&&n.hasOwnProperty("_[")){var i=n["_["];i.forEach(function(n){s.default.attr(n[0],c)&&(i=n[1],e&&l(e-1,t,r,a,i,c.parent,d,_),i.hasOwnProperty("_v")&&f(d,i))})}};O.hasOwnProperty("_:")&&(T=O["_:"]).forEach(function(n){s.default.pseudo(n[0],c,g)&&(T=n[1],e&&l(e-1,t,r,a,T,c.parent,d,_),T.hasOwnProperty("_v")&&f(d,T))}),b(O),b(T)}if(O.hasOwnProperty("_>")){var T=O["_>"];l(e-1,t,r,a,T,c.parent,d,!1,h)}if(O.hasOwnProperty("_+")){T=O["_+"];(E=c.prev())&&Object.keys(T).forEach(function(n){s.default.nci(n,E)||(T[n].hasOwnProperty("_v")&&f(d,T[n]),l(e-1,t,r,a,T[n],c.parent,d,!1,h))})}if(O.hasOwnProperty("_~")){T=O["_~"];var k=c.prevAll();if(k.length){var w=!1;for(v=k.length-1;v>=0;v--){var E=k[v];if(Object.keys(T).forEach(function(n){s.default.nci(n,E)||(T[n].hasOwnProperty("_v")&&f(d,T[n]),w=!0,l(e-1,t,r,a,T[n],c.parent,d,!1,h))}),w)break}}}}}}function f(e,t){t._v.forEach(function(r){r[2]=t._p,e.push(r)})}function c(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return window["inner"+t]||document.documentElement["client"+t]||document.body["client"+t]}t.default=function(e,t,r,n,s,u){var f=[];if(l(e.length-1,e,t,r,n.default,s,f,u),n.media&&(n.media.forEach(function(n){var a=!1;n.query.forEach(function(i){if(!a)for(var o=0,d=i.length;o<d;o++){var _=i[o];if(Array.isArray(_)){var h=_[0].replace(/^-[a-z]+-/i,"").replace(/^mso-/i,"").toLowerCase(),p=_[1];if(/(px|\d)$/.test(p))switch(p=p.replace(/px$/,""),h){case"width":case"height":if((v=c(h))==p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-width":case"max-width":case"min-height":case"max-height":var v=c(h.slice(4));if(0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"device-width":case"device-height":(v=window.screen[h.slice(7)])==p&&(a=!0,l(e.length-1,e,t,r,n.style,s,f,u));break;case"min-device-width":case"min-device-height":case"max-device-width":case"max-device-height":if(v=window.screen[h.slice(11)],0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"aspect-ratio":if((v=c("width")/c("height"))==(y=(y=p.split("/"))[0]/y[1]))return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-aspect-ratio":case"max-aspect-ratio":if(v=c("width")/c("height"),y=(y=p.split("/"))[0]/y[1],0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"device-aspect-ratio":if((v=window.screen.width/window.screen.height)==(y=(y=p.split("/"))[0]/y[1]))return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-device-aspect-ratio":case"max-device-aspect-ratio":var y;if(v=window.screen.width/window.screen.height,y=(y=p.split("/"))[0]/y[1],0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"device-pixel-ratio":if((v=window.devicePixelRatio)==p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u);break;case"min-device-pixel-ratio":case"max-device-pixel-ratio":if(v=window.devicePixelRatio,0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,r,n.style,s,f,u)}}}})}),u)){var d,_=function(){d&&clearTimeout(d),d=setTimeout(function(){i.default.get(s.__uid).__updateStyle()},100)};window.addEventListener("resize",_),o.default.add(s.__uid,_)}(0,a.default)(f,function(e,t){var r=e[2],n=t[2];if(r==n)return e[0]>t[0];for(var a=0;a<3;a++)if(r[a]!=n[a])return r[a]>n[a];return e[0]>t[0]});var h="";return f.forEach(function(e){h+=e[1]+";"}),h}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Array(4096),a={index:0,add:function(e){!e.__hasDes&&this.index<4096&&(n[this.index++]=e,e.__hasDes=!0)},get:function(){return n[--this.index]}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=o(r(5)),i=o(r(13));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,n){t.unshift(e.name),r.unshift(i.default.splitClass(e.__cache.class)),n.unshift(i.default.preId(e.__cache.id))}function u(e,t,r,a,o,s){if(!n)for(var l=i.default.combo(r[e],t[e],a[e],o),f=0,c=l.length;f<c;f++){var d=l[f];if(o.hasOwnProperty(d)){var _=o[d];if(e){u(e-1,t,r,a,_,s.parent);for(var h=e-2;h>=0;h--)u(h,t,r,a,_,s.parent)}if(_.hasOwnProperty("_v"))return void(n=!0);if(_.hasOwnProperty("_:")||_.hasOwnProperty("_[")){var p=function(o){if(o&&o.hasOwnProperty("_[")){var l=o["_["];l.forEach(function(o){i.default.attr(o[0],s)&&(l=o[1],e&&u(e-1,t,r,a,l,s.parent),l.hasOwnProperty("_v")&&(n=!0))})}};_.hasOwnProperty("_:")&&(v=_["_:"]).forEach(function(o){i.default.pseudo(o[0],s,d)&&(v=o[1],e&&u(e-1,t,r,a,v,s.parent),v.hasOwnProperty("_v")&&(n=!0))}),p(_),p(v)}if(_.hasOwnProperty("_>")){var v=_["_>"];u(e-1,t,r,a,v,s.parent)}if(_.hasOwnProperty("_+")){v=_["_+"];(O=s.prev())&&Object.keys(v).forEach(function(o){i.default.nci(o,O)||(v[o].hasOwnProperty("_v")?n=!0:u(e-1,t,r,a,v[o],s.parent))})}if(_.hasOwnProperty("_~")){v=_["_~"];var y=s.prevAll();if(y.length){var g=!1;for(f=y.length-1;f>=0;f--){var O=y[f];if(Object.keys(v).forEach(function(o){i.default.nci(o,O)||(v[o].hasOwnProperty("_v")?n=!0:(g=!0,u(e-1,t,r,a,v[o],s.parent)))}),g)break}}}}}}t.default=function(e,t,r){var i=e.target,o=a.default.get(i.getAttribute("migi-uid"));if(!o.__dom)return[!1];if(o==r||!o)return[!1];var l=[],f=[],c=[];s(o,l,f,c);for(var d=o;d.parent&&d.parent!=r;)s(d=d.parent,l,f,c);for(n=!1,u(l.length-1,l,f,c,t,o);!n&&l.length;)o=o.parent,l.pop(),f.pop(),c.pop(),u(l.length-1,l,f,c,t,o);return[n,o]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1));var a={button:{disabled:1},input:{autofocus:1,checked:1,defaultChecked:2,defaultchecked:2,defaultValue:2,defaultvalue:2,disabled:1,multiple:1,readOnly:1,readonly:1,required:1},link:{disabled:1},option:{defaultSelected:2,defaultselected:2,disabled:1,selected:1,text:2},select:{autofocus:1,disabled:1,multiple:1,selectedIndex:2,selectedindex:2},textarea:{autofocus:1,defaultValue:2,defaultvalue:2,disabled:1,readOnly:1,readonly:1},audio:{autoplay:1,controls:1,loop:1,muted:1},video:{autoplay:1,controls:1,loop:1,muted:1}},i={button:{disabled:2},input:{autofocus:2,checked:2,defaultChecked:2,defaultchecked:2,defaultValue:1,defaultvalue:1,disabled:2,readOnly:2,readonly:2,required:2,value:1},link:{checked:2},option:{defaultSelected:2,defaultselected:2,disabled:2,selected:2,text:1},select:{autofocus:2,disabled:2,required:2,selectedIndex:0,selectedindex:0,value:1},textarea:{autofocus:2,defaultValue:1,defaultvalue:1,disabled:2,readOnly:2,readonly:2,required:2,value:1},audio:{autoplay:2,controls:2,loop:2,muted:2},video:{autoplay:2,controls:2,loop:2,muted:2}},o={defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defautlValue",readonly:"readOnly",selectindex:"selectIndex"};t.default={RENDER_EXIST:1,RENDER_DOM:2,special:function(e,t){if(a.hasOwnProperty(e)){var r=a[e];if(r.hasOwnProperty(t))return r[t]}},update:function(e,t,r,a,s){if(i.hasOwnProperty(e)){var u=i[e];if(u.hasOwnProperty(r)){switch(u=u[r],r=o[r]||r,u){case 0:a=parseInt(a),t[r]=a||0;break;case 1:a=n.default.stringify(a),t[r]=a;break;case 2:a=!!a,t[r]=a}return}}switch(r){case"className":r="class";break;case"htmlFor":r="for"}if(s)switch(r){case"id":case"class":r="migi-"+r}null===a||void 0===a?t.removeAttribute(r):"id"==r?t[r]=a:"class"==r?t.className=a:t.setAttribute(r,a)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={optimizeArrayDiff:!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=o(r(0)),i=o(r(4));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(n)));return i.__handler={},i.__timeout,i.__timecb,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),n(t,[{key:"__data",value:function(e){var t=this;t.__dom&&(t.__canData=!0),Array.isArray(e)||(e=[e]),e.forEach(function(e){t.__handler[e]=!0}),t.__ccb||(t.__ccb=!0,t.__timeout=setTimeout(t.__timecb=function(){t.__ccb=!1;var e=t.__handler,r=Object.keys(e);t.__handler={},r.length&&(t.__onData(r),t.emit(a.default.DATA,r,r.map(function(e){return t[e]})))},0))}},{key:"flush",value:function(){this.__timeout&&(clearTimeout(this.__timeout),this.__ccb=!1,this.__timecb())}}]),t}();t.default=s},function(e,t,r){e.exports=r(24).default},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=T(r(0)),a=T(r(2)),i=T(r(7)),o=T(r(30)),s=T(r(4)),u=T(r(8)),l=T(r(22)),f=T(r(3)),c=T(r(6)),d=T(r(17)),_=T(r(1)),h=T(r(9)),p=T(r(11)),v=T(r(5)),y=T(r(16)),g=T(r(12)),O=T(r(19)),m=T(r(20)),b=T(r(21));function T(e){return e&&e.__esModule?e:{default:e}}var k={uid:0,render:function(e,t){return t&&e.appendTo(t),e},preRender:function(e){return e.toString()},preExist:function(e){return e.preString(),e.emit(n.default.DOM)},createCp:function(e,t,r){return v.default.set(new e([this.uid++,null,t,r]))},createVd:function(e,t,r){if("style"==e||"script"==e)throw new Error("can not create VirtualDom of: "+e);return v.default.set(d.default.index?d.default.get().__reset(this.uid++,e,t,r):new u.default(this.uid++,e,t,r))},Event:n.default,Model:i.default,CacheModel:o.default,eventBus:new n.default,Element:a.default,Component:s.default,CacheComponent:l.default,VirtualDom:u.default,Obj:f.default,Cb:c.default,util:_.default,browser:h.default,sort:p.default,hash:v.default,match:y.default,matchHash:g.default,attr:O.default,selfClose:m.default,name:function(e,t){s.default.prototype.isPrototypeOf(e.prototype)&&(e.__migiName=t)},resetUid:function(e){this.uid=e||0},clone:function(){var e=Object.create(k);return e.uid=0,e},dev:b.default};"undefined"!=typeof window?window.migi=k:void 0!==e&&(e.migi=k),t.default=k}).call(this,r(25))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(r(0)),a=v(r(4)),i=v(r(6)),o=v(r(1)),s=v(r(9)),u=v(r(15)),l=v(r(17)),f=v(r(10)),c=v(r(5)),d=v(r(12)),_=v(r(14)),h=v(r(18)),p=v(r(3));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r,a,i){var u;if(i){var l=o.default.stringify(a);u=document.createTextNode(l||""),e.replaceChild(u,t[r])}else{if(u=a.toString(),1==t[r].nodeType)t[r].insertAdjacentHTML("afterend",u),e.removeChild(t[r]);else{var f=s.default.getParent(a.__name);f.innerHTML=u,e.replaceChild(f.firstChild,t[r])}a.emit(n.default.DOM)}}function g(e,t,r,a,i){var u;if(i){var l=o.default.stringify(a);u=document.createTextNode(l||""),r>=t.length?e.appendChild(u):e.insertBefore(u,t[r])}else{if(u=a.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",u);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("beforebegin",u);else{var f=s.default.getParent(a.name);f.innerHTML=u,e.insertBefore(f.firstChild,t[r])}a.emit(n.default.DOM)}}function O(e,t,r,n,a,i){if(Array.isArray(r)){n.index.push(0);for(var s=0,u=Math.max(r.length,1);s<u;s++){var l=r[s];n.index[n.index.length-1]=s,O(e,t,l,n,a,i&&s==u-1)}n.index.pop()}else if(o.default.isDom(r)){if(r.__parent=e,r.__top=e.top,r.style=e.style,c.default.set(r),a.prev)a.prev==f.default.TEXT&&n.start++,g(t,t.childNodes,n.start++,r);else{switch(n.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:w(n),n.start++;break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:}g(t,t.childNodes,n.start++,r)}a.prev=f.default.DOM}else{if(a.prev)a.prev==f.default.DOM&&(g(t,t.childNodes,n.start,r,!0),k(n)),w(n);else switch(n.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:w(n);break;case f.default.TEXT_TO_DOM:g(t,t.childNodes,n.start,r,!0),k(n),w(n);break;case f.default.DOM_TO_DOM:g(t,t.childNodes,n.start,r,!0),k(n)}a.prev=f.default.TEXT}if(i){switch(n.state){case f.default.TEXT_TO_TEXT:a.prev==f.default.DOM&&(n.state=f.default.TEXT_TO_DOM);break;case f.default.DOM_TO_DOM:a.prev==f.default.TEXT&&(n.state=f.default.DOM_TO_TEXT);break;case f.default.TEXT_TO_DOM:a.prev==f.default.TEXT&&(n.state=f.default.TEXT_TO_TEXT);break;case f.default.DOM_TO_TEXT:a.prev==f.default.DOM&&(n.state=f.default.DOM_TO_DOM)}n.prev=a.prev}}function m(e,t,r,n,a){if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)m(e,t[i],r,n,a&&i==s-1);else if(o.default.isDom(t)){switch(r.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:b(e,r.start+1);break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:b(e,r.start)}n.prev=f.default.DOM,o.default.getAllChildrenElement(t).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(t.__destroy())}else{if(n.prev){if(n.prev==f.default.DOM)switch(r.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:b(e,r.start+1),w(r);break;case f.default.DOM_TO_DOM:case f.default.TEXT_TO_DOM:b(e,r.start)}}else switch(r.state){case f.default.DOM_TO_TEXT:b(e,r.start+1),w(r);break;case f.default.TEXT_TO_TEXT:w(r);break;case f.default.DOM_TO_DOM:b(e,r.start);break;case f.default.TEXT_TO_DOM:}n.prev=f.default.TEXT}if(a)switch(r.state){case f.default.TEXT_TO_TEXT:n.prev==f.default.DOM?r.state=f.default.DOM_TO_TEXT:w(r);break;case f.default.DOM_TO_DOM:n.prev==f.default.TEXT&&(r.state=f.default.TEXT_TO_DOM);break;case f.default.TEXT_TO_DOM:n.prev==f.default.DOM&&(r.state=f.default.DOM_TO_DOM);break;case f.default.DOM_TO_TEXT:n.prev==f.default.TEXT&&(r.state=f.default.TEXT_TO_TEXT)}}function b(e,t){e.childNodes[t]&&e.removeChild(e.childNodes[t])}function T(e,t){return void 0!==e&&null!==e||(e=""),void 0!==t&&null!==t||(t=""),e.toString()==t.toString()}function k(e){e.history=e.index.slice()}function w(e){var t=e.start;e.range.length&&e.range[e.range.length-1].start==t||e.range.push({start:t,index:e.history.slice()})}function E(e,t,r,s,v){r instanceof p.default&&(r=r.v),s instanceof p.default&&(s=s.v);var b=Array.isArray(r),D=Array.isArray(s);if(b&&D){var M=r.length,A=s.length,x=M?1:0,P=A?2:0;switch(v.index.push(0),x|P){case 0:v.state==f.default.TEXT_TO_DOM&&g(t,t.childNodes,v.start++,s,!0),v.state=f.default.TEXT_TO_TEXT,v.prev=f.default.TEXT;break;case 1:E(e,t,r[0],s[0],v);for(var j={},X=1;X<M;X++)m(t,r[X],v,j,X==M-1);break;case 2:E(e,t,r[0],s[0],v);for(j={},X=1;X<A;X++)v.index[v.index.length-1]=X,O(e,t,s[X],v,j,X==A-1);break;case 3:X=0;for(var S=Math.min(M,A);X<S;X++)v.index[v.index.length-1]=X,E(e,t,r[X],s[X],v);j={};if(X<M)for(;X<M;X++)m(t,r[X],v,j,X==M-1);else if(X<A)for(;X<A;X++)v.index[v.index.length-1]=X,O(e,t,s[X],v,j,X==A-1)}v.index.pop()}else if(b){E(e,t,r[0],s,v);for(j={},X=1,S=r.length;X<S;X++)m(t,r[X],v,j,X==S-1)}else if(D){v.index.push(0),E(e,t,r,s[0],v);for(j={},X=1,S=s.length;X<S;X++)v.index[v.index.length-1]=X,O(e,t,s[X],v,j,X==S-1);v.index.pop()}else{var L=o.default.isDom(r)?1:0,C=o.default.isDom(s)?2:0,N=t.childNodes;switch(L|C){case 0:if(v.first)k(v),T(r,s)||w(v);else switch(v.state){case f.default.DOM_TO_TEXT:t.removeChild(N[v.start+1]),w(v);break;case f.default.TEXT_TO_DOM:g(t,N,v.start,s,!0),k(v),w(v);break;case f.default.DOM_TO_DOM:k(v);case f.default.TEXT_TO_TEXT:T(r,s)||w(v)}v.state=f.default.TEXT_TO_TEXT,v.prev=f.default.TEXT;break;case 1:if(r.__delRef(),v.first)y(t,N,v.start,s,!0),k(v);else switch(v.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:w(v),t.removeChild(N[v.start+1]);break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:y(t,N,v.start,s,!0),k(v)}o.default.getAllChildrenElement(r).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(r.__destroy()),v.state=f.default.DOM_TO_TEXT,v.prev=f.default.TEXT;break;case 2:if(s.__parent=e,s.__top=e.top,s.style=e.style,c.default.set(s),v.first)y(t,N,v.start++,s);else switch(v.state){case f.default.DOM_TO_TEXT:v.start++;case f.default.DOM_TO_DOM:y(t,N,v.start++,s);break;case f.default.TEXT_TO_DOM:g(t,N,v.start++,s);break;case f.default.TEXT_TO_TEXT:w(v),g(t,N,++v.start,s),v.start++}v.state=f.default.TEXT_TO_DOM,v.prev=f.default.DOM;break;case 3:switch(v.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:v.start++}var R=r instanceof a.default?1:0;switch(R|(s instanceof a.default?2:0)){case 0:r.__delRef(),r.__name==s.__name?(r.__parent=e,r.__top=e.top,function(e,t){if(e!=t){for(var r=e.element,n=["__uid","__element","__parent","__top","__style","__dom","__names"],a=n.length-1;a>=0;a--)t[O=n[a]]=e[O];c.default.set(t);var s={};for(a=e.__props.length-1;a>=0;a--){var f=e.__props[a];if(0!=(O=f[0]).indexOf("on")||"on"==O)if(s[O]=!0,t.props.hasOwnProperty(O)){var d=f[1],v=t.props[O];v instanceof p.default&&(v=v.v),d instanceof p.default&&(d=d.v),v!==d&&t.__updateAttr(O,v),t.__cache[O]=v}else t.__updateAttr(O,null),delete t.__cache[O]}e.__removeListener();var y=t.__props.length,g=function(){f=t.__props[a],O=f[0];var e=f[1];e instanceof p.default&&(e=e.v),0==O.indexOf("on")&&"on"!=O?(m=O.slice(2).toLowerCase(),t.__addListener(m,function(r){r=r||window.event,(0,_.default)(r);var n=r.target.getAttribute("migi-uid"),a=c.default.get(n);e instanceof i.default?e.cb.call(e.context,r,t,a):o.default.isFunction(e)?e(r,t,a):Array.isArray(e)&&e.forEach(function(e){var n=e[1];(0,h.default)(r,e[0],t)&&(n instanceof i.default?n.cb.call(n.context,r,t,a):o.default.isFunction(n)&&n(r,t,a))})})):s.hasOwnProperty(O)||t.__updateAttr(O,e)};for(a=0;a<y;a++){var O,m;g()}t.__style&&t.__updateStyle(!0);var b={start:0,index:[],range:[],first:!0};if(E(t,r,e.children,t.children,b),b.range.length){if("textarea"==t.__name)return void t.__updateAttr("value",u.default.value(b.range[0],t.children));for(a=0,y=b.range.length;a<y;a++)u.default.update(b.range[a],t.children,r)}l.default.add(e.__destroy())}}(r,s),s.__saveRef()):(s.__parent=e,s.__top=e.top,s.style=e.style,(t=r.element).insertAdjacentHTML("afterend",s.toString()),t.parentNode.removeChild(t),s.emit(n.default.DOM),d.default.del(r.__uid),c.default.set(s),l.default.add(r.__destroy()));break;default:r.__delRef(),(t=r.element).insertAdjacentHTML("afterend",s.toString()),t.parentNode.removeChild(t),s.__parent=e,s.__top=e.top,R?d.default.del(r.virtualDom.__uid):d.default.del(r.__uid),s.style=e.style,s.emit(n.default.DOM),c.default.set(s),o.default.getAllChildrenElement(R?r.__virtualDom:r).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(r.__destroy())}v.state=f.default.DOM_TO_DOM,v.prev=f.default.DOM,v.start++}}v.first=!1}function D(e,t,r){r.state==f.default.TEXT_TO_DOM?(g(e,e.childNodes,r.start,t,!0),k(r),w(r)):r.state==f.default.DOM_TO_TEXT&&(w(r),b(e,r.start+1))}function M(e,t,r){if(t instanceof p.default&&(t=t.v),Array.isArray(t)){r.index.push(0);for(var n=0,a=t.length;n<a;n++)r.index[r.index.length-1]=n,M(e,t[n],r);r.index.pop()}else o.default.isDom(t)?(r.prev==f.default.TEXT&&r.start++,r.state=f.default.DOM_TO_DOM,r.prev=f.default.DOM,r.start++):((r.first||r.prev==f.default.DOM)&&k(r),r.state=f.default.TEXT_TO_TEXT,r.prev=f.default.TEXT),r.first=!1}t.default={diff:function(e,t,r,n,a,i){i?function(e,t,r,n,a,i){r instanceof p.default&&(r=r.v),n instanceof p.default&&(n=n.v);var s=r.length,u=n.length,l=s?1:0,c=u?2:0;switch(a.index.push(0),l|c){case 0:a.state==f.default.TEXT_TO_DOM&&g(t,t.childNodes,a.start++,n,!0),a.state=f.default.TEXT_TO_TEXT,a.prev=f.default.TEXT;break;case 1:E(e,t,r[0],n[0],a);for(var d={},_=1;_<s;_++)m(t,r[_],a,d,_==s-1);break;case 2:E(e,t,r[0],n[0],a);for(var d={},_=1;_<u;_++)a.index[a.index.length-1]=_,O(e,t,n[_],a,d,_==u-1);break;case 3:var h=o.default.arrFirst(r),v=o.default.arrFirst(n),y=o.default.isDom(h)?1:0,b=o.default.isDom(v)?2:0,d={};switch(i.method){case"push":a.first||0!=b||(a.index[a.index.length-1]=0,D(t,v,a));for(var _=0;_<s;_++)a.index[a.index.length-1]=_,M(t,n[_],a);for(;_<u;_++)a.index[a.index.length-1]=_,O(e,t,n[_],a,d,_==u-1);break;case"pop":a.first||0!=b||(a.index[a.index.length-1]=0,D(t,v,a));for(var _=0;_<u;_++)a.index[a.index.length-1]=_,M(t,n[_],a);m(t,r[u],a,{},!0);break;case"unshift":a.first&&(a.state=f.default.DOM_TO_DOM);for(var _=0;_<u-s;_++)a.index[a.index.length-1]=_,O(e,t,n[_],a,d,_==u-s-1);for(0==y&&(a.index[a.index.length-1]=_,D(t,h,a));_<u;_++)a.index[a.index.length-1]=_,M(t,n[_],a);break;case"shift":a.first&&(a.state=f.default.DOM_TO_DOM),m(t,r[0],a,{},!0),0==b&&(a.index[a.index.length-1]=0,D(t,v,a));for(var _=0;_<u;_++)a.index[a.index.length-1]=_,M(t,n[_],a);break;case"splice":for(var T=i.args[0],k=i.args[1],w=i.args.length-2,_=0;_<T;_++)a.index[a.index.length-1]=_,M(t,n[_],a);for(a.first&&(a.state=f.default.DOM_TO_DOM);_<Math.min(k,w)+T;_++)a.index[a.index.length-1]=_,E(e,t,r[_],n[_],a);if(k>w)for(var A=_;A<k+T;A++)m(t,r[A],a,d,A==k+T-1);else if(k<w)for(;_<w+T;_++)a.index[a.index.length-1]=_,O(e,t,n[_],a,d,_==w+T-1);for(_<u&&(v=o.default.arrFirst(n[_]),o.default.isDom(v)||(a.index[a.index.length-1]=_,D(t,v,a)));_<u;_++)a.index[a.index.length-1]=_,M(t,n[_],a)}}a.index.pop(),a.first=!1}(e,t,r,n,a,i):E(e,t,r,n,a)},checkText:D,recordRange:k,addRange:w}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,a){function i(a){c.first?f.push({vd:e,name:t,cb:r}):(u=a.touches[0],a.touches&&1===a.touches.length&&c.x2&&(c.x2=void 0,c.y2=void 0),c={vd:e,name:t,cb:r,first:!0,x1:u.pageX,y1:u.pageY},n=c,o=Date.now(),s=o-_,_=o,s>0&&s<250&&(c.isDoubleTap=!0))}l||(l=!0,document.addEventListener("touchmove",y,!0),document.addEventListener("touchend",g,!0),document.addEventListener("touchcancel",v,!0),window.addEventListener("scroll",v),window.addEventListener("blur",v)),a.push(["touchstart",i]),e.element.addEventListener("touchstart",i)};var n,a,i,o,s,u,l,f=[],c={},d=750,_=0,h=0,p=0;function v(){a&&clearTimeout(a),i&&clearTimeout(i),a=i=null,c={},f=[]}function y(e){c.vd&&(u=e.touches[0],c.x2=u.pageX,c.y2=u.pageY,h+=Math.abs(c.x1-c.x2),p+=Math.abs(c.y1-c.y2))}function g(e){c.vd&&(c.x2&&Math.abs(c.x1-c.x2)>30||c.y2&&Math.abs(c.y1-c.y2)>30?i=setTimeout(function(){var t="swipe"+function(e,t,r,n){return Math.abs(e-t)>=Math.abs(r-n)?e-t>0?"left":"right":r-n>0?"up":"down"}(c.x1,c.x2,c.y1,c.y2);"swipe"!=c.name&&c.name!=t||c.cb(e),f.forEach(function(r){"swipe"!=r.name&&r.name!=t||r.cb(e)}),c={},f=[]},0):h<30&&p<30?a=setTimeout(function(){Date.now()-_>d?("longtap"==c.name&&c.cb(e),f.forEach(function(t){"longtap"==t.name&&t.cb(e)})):c.isDoubleTap&&c.vd==n.vd&&("doubletap"==c.name&&c.cb(e),f.forEach(function(t){"doubletap"==t.name&&t.cb(e)})),c={},f=[]},0):(c={},f=[]),h=p=0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={domactivate:"DOMActivate",domfocusin:"DOMFocusIn",msgestureend:"MSGestureEnd",mspointerdown:"MSPointerDown",mspointermove:"MSPointerMove",mspointerup:"MSPointerUp",mspointercancel:"MSPointerCancel"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Array.prototype,a=Object.create(n);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=n[e];Object.defineProperty(a,e,{value:function(){for(var r=arguments.length,n=new Array(r);r--;)n[r]=arguments[r];var a=t.apply(this,n);return Array.isArray(this.__cb__)&&this.__cb__.forEach(function(t){"sort"==e||"reverse"==e?t():t({method:e,args:n})}),a}})}),t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(7)),a=i(r(22));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__handler={},e.__ccb=!1,e.__timeout,e.__timecb,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.default),t}();o.prototype.__data=a.default.prototype.__data,t.default=o}]);