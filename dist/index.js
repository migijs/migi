!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__hash={}}return r(e,[{key:"on",value:function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)this.on(e[n],t);else if(t){this.__hash.hasOwnProperty(e)||(this.__hash[e]=[]);n=0;var a=this.__hash[e];for(r=a.length;n<r;n++)if(a[n]===t)return this;this.__hash[e].push(t)}return this}},{key:"once",value:function(e,t){var n=this;if(Array.isArray(e))for(var r=0,a=e.length;r<a;r++)n.once(e[r],t);else if(t){n.on(e,function r(){for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];t.apply(this,i),n.off(e,r)})}return this}},{key:"off",value:function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)this.off(e[n],t);else if(this.__hash.hasOwnProperty(e))if(t){n=0;var a=this.__hash[e];for(r=a.length;n<r;n++)if(a[n]===t){a.splice(n,1);break}}else delete this.__hash[e];return this}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(var a=0,i=e.length;a<i;a++)this.emit(e[a],n);else if(this.__hash.hasOwnProperty(e)){var o=this.__hash[e];if(o.length)for(a=0,i=(o=o.slice()).length;a<i;a++)o[a].apply(this,n)}return this}}],[{key:"mix",value:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=n.length-1;a>=0;a--){var i=n[a],o=new e;i.__hash={};for(var s=["on","once","off","emit"],u=s.length-1;u>=0;u--){var l=s[u];i[l]=o[l]}}}}]),e}();a.DOM="DOM",a.DESTROY="DESTROY",a.DATA="DATA",t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2)),a=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var o={}.toString;function s(e){return function(t){return o.call(t)=="[object "+e+"]"}}function u(e){return void 0===e||null===e||c.isBoolean(e)||c.isNumber(e)||c.isString(e)}function l(e){return null===e||void 0===e?"":e.toString()}function f(e,t){return t?e.replace(/"/g,"&quot;"):e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}var c={clone:function(e){return function e(t){if(t instanceof r.default||t instanceof a.default)return t;if(u(t))return t;var n=Array.isArray(t)?[]:{};for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];o instanceof r.default?n[i]=o:c.isDate(o)?n[i]=new Date(o):n[i]=c.isObject(o)?e(o):o}return n}(e)},isObject:s("Object"),isString:s("String"),isFunction:s("Function"),isNumber:s("Number"),isBoolean:s("Boolean"),isDate:s("Date"),equal:function(e,t){return function e(t,n){if(t instanceof r.default||n instanceof r.default)return t===n;if(u(t)||u(n))return t===n;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!=n.length)return!1;for(var a=0,i=t.length;a<i;a++)if(!e(t[a],n[a]))return!1;return!0}if(c.isDate(t))return!!c.isDate(n)&&t-n==0;if(c.isObject(t)){if(!c.isObject(n))return!1;var o=Object.keys(t),s=Object.keys(n);if(o.length!==s.length)return!1;for(a=0,i=o.length;a<i;a++)if(!n.hasOwnProperty(a)||!e(t[a],n[a]))return!1;return!0}}(e,t)},stringify:l,encodeHtml:f,joinArray:function(e,t){return function e(t,n){for(var i="",o=0,s=t.length;o<s;o++){var u=t[o];Array.isArray(u)?i+=e(u):u instanceof r.default?i+=n?f(u.toString(),n):u.toString():u instanceof a.default?i+=u.toString(n):i+=f(l(u),n)}return i}(e,t)},joinSourceArray:function(e){return function e(t){for(var n="",r=0,a=t.length;r<a;r++){var i=t[r];Array.isArray(i)?n+=e(i):n+=l(i)}return n}(e)},linear:function(e,t){return t=t||[],Array.isArray(t)?t.forEach(function(e){t.push(e)}):t.push(e),t},arrFirst:function e(t){return Array.isArray(t)?e(t[0]):t},isDom:function(e){return e instanceof r.default},getAllChildrenElement:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.__children.forEach(function(t){t instanceof migi.VirtualDom?(e(t,n),n.push(t)):t instanceof migi.Component&&(e(t.__virtualDom,n),n.push(t.__virtualDom))}),n}};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(0)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(i.default.isString(e)){var t=document.querySelector(e);if(!t)throw new Error("can not find dom of selector: "+e);return t}return e instanceof u?e.element:e}var u=function(e){function t(e,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.__reset(e,n,r,a),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"__reset",value:function(e,t,n,r){this.__uid=e,this.__name=t,Array.isArray(n)?(this.props=function(e){for(var t={},n=0,r=e.length;n<r;n++){var a=e[n];if(Array.isArray(a))t[a[0]]=a[1];else for(var i=Object.keys(a),o=i.length-1;o>=0;o--){var s=i[o];t[s]=a[s]}}return t}(n),this.__props=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];if(!Array.isArray(r)){var a=[],i=Object.keys(r),o=0;for(n=i.length;o<n;o++){var s=i[o];a.push([s,r[s]])}e.splice.apply(e,[t,1].concat(a))}}return e}(n)):(this.props=n,this.__props=function(e){for(var t=[],n=Object.keys(e),r=0,a=n.length;r<a;r++){var i=n[r];t.push([i,e[i]])}return t}(n)),this.__children=r,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(a.default.DOM,this.__onDom)}},{key:"clean",value:function(){if(this.__dom){var e=this.element;e&&e.parentNode&&e.parentNode.removeChild(e),this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(a.default.DOM,this.__onDom)}}},{key:"__onDom",value:function(){this.__dom=!0,this.__saveRef()}},{key:"__saveRef",value:function(){if(this.props.ref){var e=this.top;if(e){var t=this.props.ref,n=e.ref[t];Array.isArray(n)?n.push(this):e.ref[t]=n?[n,this]:this}}}},{key:"__delRef",value:function(){var e=this.props.ref;if(e){var t=this.top;if(t&&t.ref){var n=t.ref[e];if(n)if(n===this)delete t.ref[e];else if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)if(n[r]===this){n.splice(r,1);break}}}}},{key:"inTo",value:function(e){this.clean();var t=this.toString();s(e).innerHTML=t,this.emit(a.default.DOM)}},{key:"appendTo",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("beforeend",t),this.emit(a.default.DOM)}},{key:"prependTo",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterbegin",t),this.emit(a.default.DOM)}},{key:"before",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("beforebegin",t),this.emit(a.default.DOM)}},{key:"after",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterend",t),this.emit(a.default.DOM)}},{key:"replace",value:function(e){this.clean();var t=this.toString();(e=s(e)).insertAdjacentHTML("afterend",t),e.parentNode.removeChild(e),this.emit(a.default.DOM)}},{key:"top",get:function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component?this.__top=this.parent:this.__top=this.parent.top),this.__top}},{key:"parent",get:function(){return this.__parent}},{key:"children",get:function(){return this.__children}},{key:"name",get:function(){return this.__name}},{key:"dom",get:function(){return this.__dom}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(2)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.k=t,this.cb=n,this.single=r,this.vBind=a,this.setV(n())}return r(e,[{key:"setV",value:function(e){this.v=i.default.clone(e)}},{key:"toString",value:function(e){if(Array.isArray(this.v))return i.default.joinArray(this.v,e);var t=i.default.stringify(this.v);return e?i.default.encodeHtml(t,e):this.v instanceof a.default?t:i.default.encodeHtml(t)}},{key:"toSourceString",value:function(){return Array.isArray(this.v)?i.default.joinSourceArray(this.v):i.default.stringify(this.v)}},{key:"update",value:function(e){var t=this.cb();if(!i.default.equal(e,t))return this.setV(t),!0}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n(0)),i=_(n(2)),o=_(n(8)),s=_(n(1)),u=_(n(3)),l=_(n(6)),f=_(n(7)),c=_(n(29)),d=_(n(14));function _(e){return e&&e.__esModule?e:{default:e}}var h=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touchstart","touchmove","touchend","touchcancel","MSGestureEnd","MSPointerDown","pointerdown","MSPointerMove","pointermove","MSPointerUp","pointerup","MSPointerCancel","pointercancel"],p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null,n,r)),i=a;return i.__name=i.constructor.__migiName,i.__virtualDom=null,i.__ref={},i.__bindHash={},i.__ob=[],i.__bindProperty={},i.__props.forEach(function(e,t){var n=e[0],r=e[1];i.__init(n,r,t)}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"__init",value:function(e,t,n){var r=this;if(/^on[a-zA-Z]/.test(e)){var i=e.slice(2).toLowerCase();r.once(a.default.DOM,function(){r.virtualDom.__addEvt(i,t)})}else if(/^on-[a-zA-Z\d_]/.test(e)){i=e.slice(3);r.on(i,function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a;t instanceof l.default?s.default.isFunction(t.cb)&&(a=t.cb).call.apply(a,[t.context].concat(n)):s.default.isFunction(t)&&t.apply(void 0,n)})}else"model"==e?r.model=t:t instanceof u.default&&(r.__props[n]=t.v,r.props[e]=t.v,r.__bindProperty[t.k]=[e,t])}},{key:"render",value:function(){return new o.default(this.__uid,"div",this.__props,this.__children)}},{key:"toString",value:function(){if(this.__virtualDom=this.render(),!this.__virtualDom)throw new Error("render must return a VirtualDom: "+this.__name);return this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()}},{key:"preString",value:function(){this.toString()}},{key:"findChild",value:function(e){return this.findChildren(e,!0)[0]}},{key:"findChildren",value:function(e,n){for(var r=[],a=0,o=this.children.length;a<o;a++){var u=this.children[a];if(u instanceof i.default)if(u instanceof t){if((u.name==e||s.default.isFunction(e)&&u instanceof e)&&(r.push(u),n))break}else{if((u.name==e||s.default.isFunction(e)&&u instanceof e)&&(r.push(u),n))break;if(r=r.concat(u.findAll(e)),n&&r.length)break}}return r}},{key:"find",value:function(e){return this.__virtualDom?this.__virtualDom.find(e):null}},{key:"findAll",value:function(e){return this.__virtualDom?this.__virtualDom.findAll(e):[]}},{key:"__onDom",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);this.virtualDom.emit(a.default.DOM);var e=this.element;if(this.name&&e.setAttribute("migi-name",this.name),!0===this.props.stopPropagation||"true"===this.props.stopPropagation);else{if(!1===this.props.stopPropagation||"false"===this.props.stopPropagation)return;if(!this.stopPropagation)return}function n(t){t=t||window.event,(0,d.default)(t),t.target!=e&&t.srcElement!=e&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}this.__stop=n,h.forEach(function(t){e.addEventListener(t,n)})}},{key:"__data",value:function(e,t){this.dom&&(this.__canData=!0),this.__onData(e,t),this.emit(a.default.DATA,e,this[e])}},{key:"__onData",value:function(e,t){if(this.__dom&&this.__canData){this.virtualDom&&this.virtualDom.__onData(e,t);for(var n=0,r=this.children.length;n<r;n++){var a=this.children[n];a instanceof o.default&&a.__onData(e,t)}}}},{key:"__notifyBindProperty",value:function(e){if(this.__bindProperty.hasOwnProperty(e)){var t=this.__bindProperty[e],n=t[0],r=t[1];r.update(r.v)&&(this[n]=r.v)}}},{key:"__destroy",value:function(){var e=this;if(e.__stop){var t=e.element;h.forEach(function(n){t.removeEventListener(n,e.__stop)})}e.model&&e.model.__del(e),e.__ob.forEach(function(t){var n=t.__ob__.indexOf(e);n>-1&&(t.__ob__.splice(n,1),t.__cb__.splice(n,1))});var n=e.virtualDom.__destroy();return e.emit(a.default.DESTROY),e.__hash={},e.__bindProperty=null,n}},{key:"__initBind",value:function(e){return!this.__bindHash.hasOwnProperty(e)}},{key:"__getBind",value:function(e){return this.__bindHash[e]}},{key:"__setBind",value:function(e,t){this.__bindHash[e]=t,this.__array(e,t)}},{key:"__array",value:function(e,t){var n=this;Array.isArray(t)&&(t.__proto__=c.default,t.__ob__=t.__ob__||[],t.__cb__=t.__cb__||[],-1==t.__ob__.indexOf(n)&&(n.__ob.push(t),t.__ob__.push(n),t.__cb__.push(function(t){n.__data(e,t)})))}},{key:"stopPropagation",get:function(){return this.__stopPropagation},set:function(e){this.__stopPropagation=e}},{key:"element",get:function(){return this.virtualDom?this.virtualDom.element:null}},{key:"style",get:function(){return this.__style},set:function(e){this.__style=e}},{key:"model",get:function(){return this.__model},set:function(e){if(!(e instanceof f.default))throw new Error("can not set model to a non Model: "+e);this.__model=e,e.__add(this)}},{key:"virtualDom",get:function(){return this.__virtualDom}},{key:"ref",get:function(){return this.__ref}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default={get:function(e){return r[e]},set:function(e){return r[e.__uid]=e,e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t,this.cb=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(0)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var s=0,u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__uid="m"+s++,e.__name=e.constructor.__migiName,e.__ref=[],e.__bindHash={},e.__ob=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"__onData",value:function(e,t){e="model."+e,this.__ref.forEach(function(n){n.dom&&(n.__canData=!0),n.__onData(e,t)})}},{key:"__add",value:function(e){-1==this.__ref.indexOf(e)&&this.__ref.push(e)}},{key:"__del",value:function(e){var t=this.__ref.indexOf(e);t>-1&&this.__ref.splice(t,1)}},{key:"name",get:function(){return this.__name}}]),t}();["__data","__record","__unRecord","__initBind","__getBind","__setBind","__array"].forEach(function(e){u.prototype[e]=i.default.prototype[e]}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},i=w(n(0)),o=w(n(2)),s=w(n(4)),u=w(n(1)),l=w(n(3)),f=w(n(6)),c=w(n(15)),d=w(n(16)),_=w(n(26)),h=w(n(10)),p=w(n(14)),v=w(n(19)),y=w(n(5)),g=w(n(27)),O=w(n(18)),m=w(n(13)),b=w(n(28)),T=w(n(20)),k=w(n(21));function w(e){return e&&e.__esModule?e:{default:e}}var E={swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,longtap:!0,doubletap:!0};function D(e){return e instanceof o.default?e.name+'[migi-uid="'+e.__uid+'"]':e.replace(/(^|\s|,|])([A-Z][\w$]*)\b/,'$1[migi-name="$2"]')}function M(e,t,n){return function e(t,n,r,a){for(var i=0,s=n.length;i<s;i++){var u=n[i];if(u instanceof o.default?r=x(t,u,r,a):u instanceof l.default?(u=u.v,Array.isArray(u)?r=e(t,u,r,a):u instanceof o.default&&(r=x(t,u,r,a))):Array.isArray(u)&&(r=e(t,u,r,a)),a&&r.length)break}return r}(e,t,[],n)}function x(e,t,n,r){if(t instanceof s.default)t instanceof e&&n.push(t);else{if(t instanceof e&&(n.push(t),r))return n;n=n.concat(t.findAll(e,r))}return n}var A=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T.default.hasOwnProperty(n)&&a.length)throw new Error("self-close tag can not has children: "+n);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a)),o=i;return o.__names=null,o.__classes=null,o.__ids=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"toString",value:function(){for(var e="<"+this.name,t=0,n=this.__props.length;t<n;t++){var r,a=this.__props[t];e+=r=this.__renderProp(a[0],a[1])}this.__style&&((r=this.__match(!0))&&(e=e.indexOf(' style="')>1?e.replace(/ style="[^"]*"/,' style="'+r+'"'):e+' style="'+r+'"'));if(e+=' migi-uid="'+this.__uid+'"',this.__checkListener(),this.__selfClose)return e+"/>";(e+=">",this.props.dangerouslySetInnerHTML)?e+=r=(r=this.props.dangerouslySetInnerHTML)instanceof l.default?r.toSourceString():Array.isArray(r)?u.default.joinSourceArray(r):u.default.stringify(r):e+=this.__renderChildren();return e+="</"+this.name+">"}},{key:"preString",value:function(){for(var e=0,t=this.__props.length;e<t;e++){var n=this.__props[e];this.__renderProp(n[0],n[1])}this.__style&&this.__match(!0),this.__checkListener(),this.__renderChildren()}},{key:"isFirst",value:function(e){if(this.parent instanceof s.default)return!0;for(var n=0,r=(e=e||this.parent.children).length;n<r;n++){var a=e[n];if(Array.isArray(a)&&a.length)return this.isFirst(a);if(a==this)return!0;if(a instanceof t)return!1;if(a instanceof l.default&&(a=a.v,Array.isArray(a)&&a.length))return this.isFirst(a)}}},{key:"isLast",value:function(e){if(this.parent instanceof s.default)return!0;for(var n=(e=e||this.parent.children).length-1;n>=0;n--){var r=e[n];if(Array.isArray(r)&&r.length)return this.isLast(r);if(r==this)return!0;if(r instanceof t)return!1;if(r instanceof l.default&&(r=r.v,Array.isArray(r)&&r.length))return this.isLast(r)}}},{key:"isEmpty",value:function(){return function e(t){var n=!0;if(Array.isArray(t))for(var r=0,a=t.length;r<a&&(n=e(t[r]));r++);else n=!(t instanceof o.default)&&(t instanceof l.default?e(t.v):P(t));return n}(this.children)}},{key:"isEnabled",value:function(){return!this.__cache.disabled}},{key:"isDisabled",value:function(){return this.__cache.disabled}},{key:"isChecked",value:function(){return this.__cache.checked}},{key:"prev",value:function(){var e={};return S(this.parent.children,this,e,function(t){e.prev=t}),e.prev}},{key:"prevAll",value:function(e){var t={prev:[]};return S(this.parent.children,this,t,function(n){(e&&!m.default.nci(e,n)||!e)&&t.prev.push(n)}),t.prev}},{key:"next",value:function(){var e={};return L(this.parent.children,this,e,function(t){e.next=t,e.done=!0}),e.next}},{key:"nextAll",value:function(e){var t={next:[]};return L(this.parent.children,this,t,function(n){(e&&!m.default.nci(e,n)||!e)&&t.next.push(n)}),t.next}},{key:"isOnly",value:function(){return 1==this.siblings().length}},{key:"isOnlyOfType",value:function(e){for(var t=this.siblings(),n=0,r=t.length;n<r;n++){var a=t[n];if(a!=this&&!m.default.nci(e,a))return!1}return!0}},{key:"isFirstOfType",value:function(e){for(var t=this.prevAll(e),n=0,r=t.length;n<r;n++)if(!m.default.nci(e,t[n]))return!1;return!0}},{key:"isLastOfType",value:function(e){for(var t=this.nextAll(e),n=0,r=t.length;n<r;n++)if(!m.default.nci(e,t[n]))return!1;return!0}},{key:"siblings",value:function(){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)e(t[r],n);else t instanceof o.default?n.push(t):t instanceof l.default&&e(t.v,n);return n}(this.parent.children)}},{key:"getIdx",value:function(e){var t=this.siblings(),n=t.indexOf(this);return n>-1?e?t.length-n-1:n:-1}},{key:"getIdxOfType",value:function(e,t){var n=t?this.nextAll(e):this.prevAll(e);t?n.unshift(this):n.push(this);var r=n.indexOf(this);return r>-1?t?n.length-r-1:r:-1}},{key:"closest",value:function(e){for(var t=this;t&&t!=this.top;){if(!m.default.nci(e,t))return t;t=t.parent}}},{key:"__renderProp",value:function(e,t){var n=this,r="";if(/^on[a-zA-Z]/.test(e))n.__renderPropEventDelay=n.__renderPropEventDelay||[],n.__renderPropEventDelay.push({k:e.slice(2).toLowerCase(),v:t});else if(t instanceof l.default){if("dangerouslySetInnerHTML"==e)return"";var a=t.toString(!0);switch("className"==e?e="class":"htmlFor"==e&&(e="for"),n.__cache[e]=a,v.default.special(n.name,e)){case v.default.RENDER_EXIST:t.v&&(r=" "+e+'="'+a+'"');break;case v.default.RENDER_DOM:n.once(i.default.DOM,function(){n.__updateAttr(e,t.v)});break;default:r=" "+e+'="'+a+'"'}}else{a=Array.isArray(t)?u.default.joinSourceArray(t):u.default.stringify(t);if("dangerouslySetInnerHTML"==e)return"";switch("className"==e?e="class":"htmlFor"==e&&(e="for"),n.__cache[e]=a,v.default.special(n.name,e)){case v.default.RENDER_EXIST:t&&(r=" "+e+'="'+u.default.encodeHtml(a,!0)+'"');break;case v.default.RENDER_DOM:n.once(i.default.DOM,function(){n.__updateAttr(e,t)});break;default:r=" "+e+'="'+u.default.encodeHtml(a,!0)+'"'}}if(n.__style)switch(e){case"class":case"id":r=" migi-"+r.slice(1)}return r}},{key:"__renderChildren",value:function(){for(var e="",t=0,n=this.children.length;t<n;t++)e+=j(this.children[t]);return e}},{key:"__checkListener",value:function(){var e=this;if("input"==e.name)e.props.hasOwnProperty("value")&&(t=e.props.value)instanceof l.default&&t.vBind&&e.once(i.default.DOM,function(){function n(e){(0,p.default)(e);var n=e.target.value;t.vBind(n)}switch((e.__cache.type||"").toLowerCase()){case"checkbox":case"radio":case"range":case"color":e.__addListener("change",n);break;default:e.__addListener(["input","paste","cut","change"],n)}});else if("select"==e.name){var t;if(e.props.hasOwnProperty("value"))(t=e.props.value)instanceof l.default&&t.vBind&&e.once(i.default.DOM,function(){e.__addListener("change",function(e){(0,p.default)(e);var n=e.target.value;t.vBind(n)})})}else if("textarea"==e.name&&1==e.children.length){var n=e.children[0];n instanceof l.default&&n.vBind&&e.once(i.default.DOM,function(){e.__addListener(["input","paste","cut","change"],function(e){(0,p.default)(e);var t=e.target.value;n.vBind(t)})})}e.__renderPropEventDelay&&(e.__renderPropEventDelay.forEach(function(t){e.once(i.default.DOM,function(){e.__addEvt(t.k,t.v)})}),e.__renderPropEventDelay=null)}},{key:"__addEvt",value:function(e,t){var n=this;n.__addListener(e,function(e){(0,p.default)(e);var r,a=e.target.getAttribute("migi-uid"),i=y.default.get(a);return t instanceof f.default&&u.default.isFunction(t.cb)?t.cb.call(t.context,e,n,i):u.default.isFunction(t)?t(e,n,i):Array.isArray(t)?(t.forEach(function(t,a){var o=t[1],s=(0,O.default)(e,t[0],n);s[0]&&(o instanceof f.default&&u.default.isFunction(o.cb)?a?o.cb.call(o.context,e,n,s[1],i):r=o.cb.call(o.context,e,n,s[1],i):u.default.isFunction(o)&&(a?o(e,n,s[1],i):r=o(e,n,s[1],i)))}),r):void 0})}},{key:"__addListener",value:function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)this.__addListener(e[n],t);else{this.__listener=this.__listener||[],"tap"==e&&(e="click");var a=this.element;if(E.hasOwnProperty(e))return void(0,g.default)(this,e,t,this.__listener);if(this.__listener.push([e,t]),a.addEventListener(b.default[e]||e,t),"load"==e&&a.complete){var i=document.createEvent("Event");i.initEvent("load",!0,!0),a.dispatchEvent(i)}}}},{key:"__removeListener",value:function(){if(this.__listener){for(var e=this.element,t=this.__listener.length-1;t>=0;t--){var n=this.__listener[t];e.removeEventListener(n[0],n[1])}this.__listener=null}}},{key:"find",value:function(e){if(u.default.isFunction(e))return function(e,t){return M(e,t,!0)[0]||null}(e,this.children);if(this.element){var t=this.element.querySelector(D(e)).getAttribute("migi-uid");return y.default.get(t)||null}return null}},{key:"findAll",value:function(e){if(u.default.isFunction(e))return M(e,this.children);var t=[];if(this.element){var n=this.element.querySelectorAll(D(e));Array.from(n).forEach(function(e){if(e){var n=e.getAttribute("migi-uid"),r=y.default.get(n)||null;r&&t.push(r)}})}return t}},{key:"__onDom",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__onDom",this).call(this);var e={start:0,first:!0};this.__checkBlank(this.children,e),(e.empty||e.first)&&this.__insertBlank(e.start)}},{key:"__checkBlank",value:function(e,t){if(Array.isArray(e)&&e.length)for(var n=0,r=e.length;n<r;n++)this.__checkBlank(e[n],t);else if(u.default.isDom(e))t.empty&&this.__insertBlank(t.start),t.start++,t.prev==h.default.TEXT&&t.start++,t.prev=h.default.DOM,t.empty=!1,t.first=!1,e.emit(i.default.DOM);else if(e instanceof l.default)this.__checkBlank(e.v,t);else if(P(e)){if(t.prev==h.default.TEXT)return;t.empty=!0,t.prev=h.default.TEXT,t.first=!1}else t.empty=!1,t.prev=h.default.TEXT,t.first=!1}},{key:"__insertBlank",value:function(e){var t=document.createTextNode(""),n=this.element,r=n.childNodes,a=r.length;!a||e>=a?n.appendChild(t):n.insertBefore(t,r[e])}},{key:"__onData",value:function(e,t){if(this.dom){for(var n=0,r=this.__props.length;n<r;n++){var a=this.__props[n],i=a[0];if((a=a[1])instanceof l.default){var o=!1;switch((Array.isArray(e)?1:0)|(Array.isArray(a.k)?2:0)){case 0:o=e==a.k;break;case 1:o=e.indexOf(a.k)>-1;break;case 2:o=a.k.indexOf(e)>-1;break;case 3:for(var s={},u=e.length-1;u>=0;u--)s[e[u]]=!0;var f=a.k;for(u=0,r=f.length;u<r;u++)if(s.hasOwnProperty(f[u])){o=!0;break}}if(o){var d=a.v;a.update(d)&&this.__updateAttr(i,a.v)}}}var _={start:0,range:[],history:[],first:!0},h=this.children,p=0;for(r=h.length;p<r;p++){var v=h[p];_.index=[p],this.__checkObj(e,v,_,t)}if(_.range.length){if("textarea"==this.__name)return void this.__updateAttr("value",c.default.value(_.range[0],this.children));for(n=0,r=_.range.length;n<r;n++)c.default.update(_.range[n],this.children,this.element)}}}},{key:"__checkObj",value:function(e,n,r,a){if(n instanceof l.default){var i=!1;switch((Array.isArray(e)?1:0)|(Array.isArray(n.k)?2:0)){case 0:i=e==n.k;break;case 1:i=e.indexOf(n.k)>-1;break;case 2:i=n.k.indexOf(e)>-1;break;case 3:for(var o={},s=e.length-1;s>=0;s--)o[e[s]]=!0;for(var f=n.k,c=(s=0,f.length);s<c;s++)if(o.hasOwnProperty(f[s])){i=!0;break}}if(i){var d=n.v;n.update(d)?_.default.diff(this,this.element,d,n.v,r,k.default.optimizeArrayDiff&&n.single&&a):this.__checkObj(e,n.v,r,a)}else this.__checkObj(e,n.v,r,a)}else if(u.default.isDom(n))n instanceof t?n.__onData(e,a):n.__notifyBindProperty(e),r.start++,r.first||r.prev!=h.default.TEXT||r.start++,r.state=h.default.DOM_TO_DOM,r.prev=h.default.DOM;else if(Array.isArray(n))if(n.length){r.index.push(0);for(s=0,c=n.length;s<c;s++){var p=n[s];r.index[r.index.length-1]=s,this.__checkObj(e,p,r,a)}r.index.pop()}else _.default.checkText(this.element,n,r),(r.first||r.prev==h.default.DOM)&&_.default.recordRange(r),r.state=h.default.TEXT_TO_TEXT,r.prev=h.default.TEXT;else _.default.checkText(this.element,n,r),(r.first||r.prev==h.default.DOM)&&_.default.recordRange(r),r.state=h.default.TEXT_TO_TEXT,r.prev=h.default.TEXT;r.first=!1}},{key:"__updateAttr",value:function(e,t){if("dangerouslySetInnerHTML"==e)return null!==t&&void 0!==t||(t=""),this.element.innerHTML=u.default.stringify(t),void this.__insertBlank(0);v.default.update(this.name,this.element,e,t,this.__style),this.__cache[e]=t,this.__style&&this.__updateStyle()}},{key:"__match",value:function(e){var t=this.__cache.style||"";return this.__initCI(),(0,d.default)(this.__names,this.__classes,this.__ids,this.__style||{default:{}},this,e)+t}},{key:"__initCI",value:function(){var e=this.parent;e instanceof t?(this.__classes=e.__classes.slice(),this.__ids=e.__ids.slice()):(this.__classes=[],this.__ids=[]),this.__classes.push(m.default.splitClass(this.__cache.class)),this.__ids.push(m.default.preId(this.__cache.id))}},{key:"__updateStyle",value:function(e){var n=this.__match(e);if(this.element.getAttribute("style")!=n&&this.element.setAttribute("style",n),!e)for(var r=this.children.length-1;r>=0;r--){var a=this.children[r];a instanceof t&&a.__updateStyle()}}},{key:"__init",value:function(e,t){this.__selfClose=T.default.hasOwnProperty(e),function e(t,n){if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)e(t[r],n);else t instanceof o.default?t.__parent=n:t instanceof l.default&&e(t.v,n)}(t,this)}},{key:"__reset",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"__reset",this).call(this,e,n,r,i),this.__init(n,i),this.__hasDes=!1,this}},{key:"__destroy",value:function(){return(this.__onHover||this.__outHover)&&this.element&&(this.element.removeEventListener("mouseenter",this.__onHover),this.element.removeEventListener("mouseleave",this.__outHover)),this.__hash={},this.__cache=null,this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this.__renderPropEventDelay=null,this}},{key:"clean",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clean",this).call(this),this.__renderPropEventDelay=null,this.__removeListener(),this.__names=null,this.__classes=null,this.__ids=null,this.__hover=!1,this.__active=!1}},{key:"names",get:function(){return this.__names||(this.__names=[])}},{key:"element",get:function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.__uid+'"]'))}},{key:"style",get:function(){return this.__style},set:function(e){this.__style=e,this.parent instanceof t?this.__names=this.parent.names.slice():this.__names=[],this.__names.push(this.name);for(var n=0,r=this.children.length;n<r;n++)X(this.children[n],e)}}]),t}();function P(e){return void 0===e||null===e||!e.toString()}function j(e){if(e instanceof o.default||e instanceof l.default)return e.toString();if(Array.isArray(e)){for(var t="",n=0,r=e.length;n<r;n++)t+=j(e[n]);return t}return u.default.encodeHtml(u.default.stringify(e))}function X(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)X(e[n],t);else e instanceof A?e.style=t:e instanceof l.default&&X(e.v,t)}function S(e,t,n,r){if(Array.isArray(e))for(var a=0,i=e.length;a<i&&(S(e[a],t,n,r),!n.done);a++);else if(e instanceof o.default){if(t==e)return void(n.done=!0);r(e)}else e instanceof l.default&&S(e.v,t,n,r)}function L(e,t,n,r){if(Array.isArray(e))for(var a=0,i=e.length;a<i&&(L(e[a],t,n,r),!n.done);a++);else e instanceof o.default?t==e?n.start=!0:n.start&&r(e):e instanceof l.default&&L(e.v,t,n,r)}t.default=A},function(e,t,n){"use strict";function r(e){if("undefined"!=typeof window)return document.createElement(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=r("div"),i=r("table"),o=r("tbody"),s=r("tr"),u=r("ul"),l=r("dl"),f=r("select"),c=r("menu");t.default={NODE:a,getParent:function(e){switch(e){case"td":return s;case"tr":return o;case"tbody":case"thead":case"col":return i;case"li":return u;case"dt":case"dd":return l;case"option":return f;case"menuitem":return c;default:return a}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={TEXT:1,DOM:2,DOM_TO_TEXT:3,DOM_TO_DOM:4,TEXT_TO_DOM:5,TEXT_TO_TEXT:6}},function(e,t,n){"use strict";function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Array.isArray(e))throw new Error("quick sort need an array");return e.length<2?e:(t=t||function(){},function e(t,n,a,i){if(n>=a)return;var o=n,s=a,u=o,l=t[u],f=!0;for(;o<s;)if(f){for(;o<s;s--)if(i.call(t,l,t[s])){r(t,u,s),u=s,f=!f,o++;break}}else for(;o<s;o++)if(i.call(t,t[o],l)){r(t,u,o),u=o,f=!f,s--;break}e(t,n,u-1,i);e(t,u+1,a,i)}(e,0,e.length-1,t),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default={add:function(e,t){r[e]=t},del:function(e){var t=r[e];t&&(window.removeEventListener("mouseup",t,!0),window.removeEventListener("touchend",t,!0),window.removeEventListener("touchcancel",t,!0),window.removeEventListener("blur",t),window.removeEventListener("dragend",t),delete r[e])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(11));function a(e,t){if("odd"==t){if(e%2==1)return!1}else if("even"==t){if(e%2==0)return!1}else if(/^\d+$/.test(t)){if(e!=t-1)return!1}else{for(var n=/(\d+)?n(?:\+(\d+))?/.exec(t),r=!1,a=0;a<=Math.ceil(e/n[1]);a++)if((n[1]||1)*a+(n[2]||0)==e+1){r=!0;break}if(!r)return!1}return!0}t.default={splitClass:function(e){return(e=(e||"").trim())?(e=e.split(/\s+/),(0,r.default)(e,function(e,t){return e>t}),e):""},preId:function(e){return void 0!==e&&null!==e||(e=""),(e=e.toString().trim())?"#"+e:""},combo:function(e,t,n,r){var a=0,i=0;if(e&&e.length){var o=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(n-a>1){e(t,n,r,a+1);for(var i=0,o=r.length;i<o;i++)r.push(r[i]+"."+t[a])}r.push("."+t[a]);return r}(e,e.length);i=1}var s=[t];n&&(a=2);var u=r.hasOwnProperty("_*."),l=r.hasOwnProperty("_*#"),f=r.hasOwnProperty("_*.#");return r.hasOwnProperty("_*")&&s.push("*"),i&&o.forEach(function(e){s.push(e),s.push(t+e),u&&s.push("*"+e),a&&(s.push(e+n),s.push(t+e+n),f&&s.push("*"+e+n))}),a&&(s.push(n),s.push(t+n),l&&s.push("*"+n)),s},pseudo:function(e,t,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];switch(o){case"hover":if(!t.__hover)return!1;break;case"active":if(!t.__active)return!1;break;case"first-child":if(!t.isFirst())return!1;break;case"last-child":if(!t.isLast())return!1;break;case"empty":if(!t.isEmpty())return!1;break;case"enabled":if(!t.isEnabled())return!1;break;case"disabled":if(!t.isDisabled())return!1;break;case"checked":if(!t.isChecked())return!1;break;case"only-child":if(!t.isOnly())return!1;break;case"only-of-type":if(!t.isOnlyOfType(n))return!1;break;case"first-of-type":if(!t.isFirstOfType(n))return!1;break;case"last-of-type":if(!t.isLastOfType(n))return!1;break;default:if(0==o.indexOf("nth-child")){if(!a(t.getIdx(),/\((.+)\)/.exec(o)[1]))return!1}else if(0==o.indexOf("nth-last-child")){if(!a(t.getIdx(!0),/\((.+)\)/.exec(o)[1]))return!1}else if(0==o.indexOf("nth-of-type")){if(!a(t.getIdxOfType(n),/\((.+)\)/.exec(o)[1]))return!1}else{if(0!=o.indexOf("nth-last-of-type"))return!1;if(!a(t.getIdxOfType(n,!0),/\((.+)\)/.exec(o)[1]))return!1}}}return!0},attr:function(e,t){var n=!0;e:for(var r=0,a=e.length;r<a;r++){var i=e[r];if(1==i.length){if(!t.__cache.hasOwnProperty(i[0])){n=!1;break}}else{var o=t.__cache[i[0]];if(void 0===o){n=!1;break}var s=i[2];switch(i[1]){case"=":n=o==s;break;case"^=":n=0==o.indexOf(s);break;case"$=":n=o.length>=s.length&&o.indexOf(s)==o.length-s.length;break;case"~=":n=new RegExp("\\b"+s+"\\b").test(o);break;case"*=":n=o.indexOf(s)>-1;break;case"|=":n=0==o.indexOf(s)||0==o.indexOf(s+"-");break;default:n=!1;break e}if(!n)break}}return n},nci:function(e,t){var n=/^[a-z\d]+/i.exec(e);if(n&&n[0].toUpperCase()!=t.__name.toUpperCase())return!0;var r=e.match(/\.[a-z\d_-]+/gi);if(r&&t.__cache.class)for(var a=r.length-1;a>=0;a--)if(!new RegExp("\\b"+r[a].slice(1)+"\\b","i").test(t.__cache.class))return!0;var i=/#[a-z\d_-]+/i.exec(e);return!(!i||!t.__cache.id||i[0].toUpperCase()==t.__cache.id.toUpperCase())||void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){3==e.target.nodeType&&(e.target=e.target.parentNode)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),a=(o(n(8)),o(n(3))),i=o(n(1));o(n(9)),o(n(10));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){for(var o="",l=e.shift(),f=t.length;l<f;l++){var c=t[l];if(e.length){if(c instanceof a.default?o+=s(e,c.v,n):o+=s(e,c,n),n.end)break}else if(c instanceof a.default)if(Array.isArray(c.v)){if(o+=u(c.v,n),n.end)break}else{if(c.v instanceof r.default){n.end=!0;break}o+=c.toSourceString()}else{if(c instanceof r.default){n.end=!0;break}if(Array.isArray(c)){if(o+=u(c,n),n.end)break}else o+=i.default.stringify(c)}}return o}function u(e,t){for(var n="",a=0,o=e.length;a<o;a++){var s=e[a];if(t.end)break;if(Array.isArray(s))n+=u(s,t);else{if(s instanceof r.default){t.end=!0;break}n+=i.default.stringify(s)}}return n}t.default={update:function(e,t,n){var r=s(e.index,t,{}),a=n.childNodes[e.start];1!=a.nodeType&&r!=a.textContent&&(a.textContent=r||"")},value:function(e,t){return s(e.index,t,{})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=u(n(11)),i=u(n(5)),o=u(n(12)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a,u,c,d,_,h){for(var p=s.default.combo(n[e],t[e],a[e],u),v=0,y=p.length;v<y;v++){var g=p[v];if(u.hasOwnProperty(g)){var O=u[g];if(e&&(l(e-1,t,n,a,O,c.parent,d,_),!h))for(var m=e-2;m>=0;m--)l(m,t,n,a,O,c.parent,d,_);if(O.hasOwnProperty("_v")&&f(d,O),_&&O.hasOwnProperty("_:")&&O["_:"].forEach(function(e){e[0].forEach(function(e){var t=c.__uid;switch(e){case"hover":var n=function(){i.default.get(t).__hover=!0,i.default.get(t).__updateStyle()},a=function(){i.default.get(t).__hover=!1,i.default.get(t).__updateStyle()},s=function(){c.element.addEventListener("mouseenter",n),c.element.addEventListener("mouseleave",a)};c.__dom?s():c.once(r.default.DOM,s),c.__onHover=n,c.__outHover=a;break;case"active":var u=function(){i.default.get(t).__active=!0,i.default.get(t).__updateStyle()},l=function(){i.default.get(t).__active=!1,i.default.get(t).__updateStyle()},f=function(){c.element.addEventListener("mousedown",u),window.addEventListener("mouseup",l,!0),window.addEventListener("touchend",l,!0),window.addEventListener("touchcancel",l,!0),window.addEventListener("blur",l),window.addEventListener("dragend",l)};c.__dom?f():c.once(r.default.DOM,f),o.default.add(t,l)}})}),O.hasOwnProperty("_:")||O.hasOwnProperty("_[")){var b=function(r){if(r&&r.hasOwnProperty("_[")){var i=r["_["];i.forEach(function(r){s.default.attr(r[0],c)&&(i=r[1],e&&l(e-1,t,n,a,i,c.parent,d,_),i.hasOwnProperty("_v")&&f(d,i))})}};O.hasOwnProperty("_:")&&(T=O["_:"]).forEach(function(r){s.default.pseudo(r[0],c,g)&&(T=r[1],e&&l(e-1,t,n,a,T,c.parent,d,_),T.hasOwnProperty("_v")&&f(d,T))}),b(O),b(T)}if(O.hasOwnProperty("_>")){var T=O["_>"];l(e-1,t,n,a,T,c.parent,d,!1,h)}if(O.hasOwnProperty("_+")){T=O["_+"];(E=c.prev())&&Object.keys(T).forEach(function(r){s.default.nci(r,E)||(T[r].hasOwnProperty("_v")&&f(d,T[r]),l(e-1,t,n,a,T[r],c.parent,d,!1,h))})}if(O.hasOwnProperty("_~")){T=O["_~"];var k=c.prevAll();if(k.length){var w=!1;for(v=k.length-1;v>=0;v--){var E=k[v];if(Object.keys(T).forEach(function(r){s.default.nci(r,E)||(T[r].hasOwnProperty("_v")&&f(d,T[r]),w=!0,l(e-1,t,n,a,T[r],c.parent,d,!1,h))}),w)break}}}}}}function f(e,t){t._v.forEach(function(n){n[2]=t._p,e.push(n)})}function c(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return window["inner"+t]||document.documentElement["client"+t]||document.body["client"+t]}t.default=function(e,t,n,r,s,u){var f=[];if(l(e.length-1,e,t,n,r.default,s,f,u),r.media&&(r.media.forEach(function(r){var a=!1;r.query.forEach(function(i){if(!a)for(var o=0,d=i.length;o<d;o++){var _=i[o];if(Array.isArray(_)){var h=_[0].replace(/^-[a-z]+-/i,"").replace(/^mso-/i,"").toLowerCase(),p=_[1];if(/(px|\d)$/.test(p))switch(p=p.replace(/px$/,""),h){case"width":case"height":if((v=c(h))==p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"min-width":case"max-width":case"min-height":case"max-height":var v=c(h.slice(4));if(0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"device-width":case"device-height":(v=window.screen[h.slice(7)])==p&&(a=!0,l(e.length-1,e,t,n,r.style,s,f,u));break;case"min-device-width":case"min-device-height":case"max-device-width":case"max-device-height":if(v=window.screen[h.slice(11)],0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"aspect-ratio":if((v=c("width")/c("height"))==(y=(y=p.split("/"))[0]/y[1]))return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"min-aspect-ratio":case"max-aspect-ratio":if(v=c("width")/c("height"),y=(y=p.split("/"))[0]/y[1],0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"device-aspect-ratio":if((v=window.screen.width/window.screen.height)==(y=(y=p.split("/"))[0]/y[1]))return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"min-device-aspect-ratio":case"max-device-aspect-ratio":var y;if(v=window.screen.width/window.screen.height,y=(y=p.split("/"))[0]/y[1],0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"device-pixel-ratio":if((v=window.devicePixelRatio)==p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u);break;case"min-device-pixel-ratio":case"max-device-pixel-ratio":if(v=window.devicePixelRatio,0==h.indexOf("min-")){if(v>=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u)}else if(v<=p)return a=!0,void l(e.length-1,e,t,n,r.style,s,f,u)}}}})}),u)){var d,_=function(){d&&clearTimeout(d),d=setTimeout(function(){i.default.get(s.__uid).__updateStyle()},100)};window.addEventListener("resize",_),o.default.add(s.__uid,_)}(0,a.default)(f,function(e,t){var n=e[2],r=t[2];if(n==r)return e[0]>t[0];for(var a=0;a<3;a++)if(n[a]!=r[a])return n[a]>r[a];return e[0]>t[0]});var h="";return f.forEach(function(e){h+=e[1]+";"}),h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new Array(4096),a={index:0,add:function(e){!e.__hasDes&&this.index<4096&&(r[this.index++]=e,e.__hasDes=!0)},get:function(){return r[--this.index]}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=o(n(5)),i=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r){t.unshift(e.name),n.unshift(i.default.splitClass(e.__cache.class)),r.unshift(i.default.preId(e.__cache.id))}function u(e,t,n,a,o,s){if(!r)for(var l=i.default.combo(n[e],t[e],a[e],o),f=0,c=l.length;f<c;f++){var d=l[f];if(o.hasOwnProperty(d)){var _=o[d];if(e){u(e-1,t,n,a,_,s.parent);for(var h=e-2;h>=0;h--)u(h,t,n,a,_,s.parent)}if(_.hasOwnProperty("_v"))return void(r=!0);if(_.hasOwnProperty("_:")||_.hasOwnProperty("_[")){var p=function(o){if(o&&o.hasOwnProperty("_[")){var l=o["_["];l.forEach(function(o){i.default.attr(o[0],s)&&(l=o[1],e&&u(e-1,t,n,a,l,s.parent),l.hasOwnProperty("_v")&&(r=!0))})}};_.hasOwnProperty("_:")&&(v=_["_:"]).forEach(function(o){i.default.pseudo(o[0],s,d)&&(v=o[1],e&&u(e-1,t,n,a,v,s.parent),v.hasOwnProperty("_v")&&(r=!0))}),p(_),p(v)}if(_.hasOwnProperty("_>")){var v=_["_>"];u(e-1,t,n,a,v,s.parent)}if(_.hasOwnProperty("_+")){v=_["_+"];(O=s.prev())&&Object.keys(v).forEach(function(o){i.default.nci(o,O)||(v[o].hasOwnProperty("_v")?r=!0:u(e-1,t,n,a,v[o],s.parent))})}if(_.hasOwnProperty("_~")){v=_["_~"];var y=s.prevAll();if(y.length){var g=!1;for(f=y.length-1;f>=0;f--){var O=y[f];if(Object.keys(v).forEach(function(o){i.default.nci(o,O)||(v[o].hasOwnProperty("_v")?r=!0:(g=!0,u(e-1,t,n,a,v[o],s.parent)))}),g)break}}}}}}t.default=function(e,t,n){var i=e.target,o=a.default.get(i.getAttribute("migi-uid"));if(!o.__dom)return[!1];if(o==n||!o)return[!1];var l=[],f=[],c=[];s(o,l,f,c);for(var d=o;d.parent&&d.parent!=n;)s(d=d.parent,l,f,c);for(r=!1,u(l.length-1,l,f,c,t,o);!r&&l.length;)o=o.parent,l.pop(),f.pop(),c.pop(),u(l.length-1,l,f,c,t,o);return[r,o]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1));var a={button:{disabled:1},input:{autofocus:1,checked:1,defaultChecked:2,defaultchecked:2,defaultValue:2,defaultvalue:2,disabled:1,multiple:1,readOnly:1,readonly:1,required:1},link:{disabled:1},option:{defaultSelected:2,defaultselected:2,disabled:1,selected:1,text:2},select:{autofocus:1,disabled:1,multiple:1,selectedIndex:2,selectedindex:2},textarea:{autofocus:1,defaultValue:2,defaultvalue:2,disabled:1,readOnly:1,readonly:1},audio:{autoplay:1,controls:1,loop:1,muted:1},video:{autoplay:1,controls:1,loop:1,muted:1}},i={button:{disabled:2},input:{autofocus:2,checked:2,defaultChecked:2,defaultchecked:2,defaultValue:1,defaultvalue:1,disabled:2,readOnly:2,readonly:2,required:2,value:1},link:{checked:2},option:{defaultSelected:2,defaultselected:2,disabled:2,selected:2,text:1},select:{autofocus:2,disabled:2,required:2,selectedIndex:0,selectedindex:0,value:1},textarea:{autofocus:2,defaultValue:1,defaultvalue:1,disabled:2,readOnly:2,readonly:2,required:2,value:1},audio:{autoplay:2,controls:2,loop:2,muted:2},video:{autoplay:2,controls:2,loop:2,muted:2}},o={defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defautlValue",readonly:"readOnly",selectindex:"selectIndex"};t.default={RENDER_EXIST:1,RENDER_DOM:2,special:function(e,t){if(a.hasOwnProperty(e)){var n=a[e];if(n.hasOwnProperty(t))return n[t]}},update:function(e,t,n,a,s){if(i.hasOwnProperty(e)){var u=i[e];if(u.hasOwnProperty(n)){switch(u=u[n],n=o[n]||n,u){case 0:a=parseInt(a),t[n]=a||0;break;case 1:a=r.default.stringify(a),t[n]=a;break;case 2:a=!!a,t[n]=a}return}}switch(n){case"className":n="class";break;case"htmlFor":n="for"}if(s)switch(n){case"id":case"class":n="migi-"+n}null===a||void 0===a?t.removeAttribute(n):"id"==n?t[n]=a:"class"==n?t.className=a:t.setAttribute(n,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={optimizeArrayDiff:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(0)),i=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.__handler={},i.__timeout,i.__timecb,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"__data",value:function(e){var t=this;t.__dom&&(t.__canData=!0),Array.isArray(e)||(e=[e]),e.forEach(function(e){t.__handler[e]=!0}),t.__ccb||(t.__ccb=!0,t.__timeout=setTimeout(t.__timecb=function(){t.__ccb=!1;var e=t.__handler,n=Object.keys(e);t.__handler={},n.length&&(t.__onData(n),t.emit(a.default.DATA,n,n.map(function(e){return t[e]})))},0))}},{key:"flush",value:function(){this.__timeout&&(clearTimeout(this.__timeout),this.__ccb=!1,this.__timecb())}}]),t}();t.default=s},function(e,t,n){e.exports=n(24).default},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(0)),a=T(n(2)),i=T(n(7)),o=T(n(30)),s=T(n(4)),u=T(n(8)),l=T(n(22)),f=T(n(3)),c=T(n(6)),d=T(n(17)),_=T(n(1)),h=T(n(9)),p=T(n(11)),v=T(n(5)),y=T(n(16)),g=T(n(12)),O=T(n(19)),m=T(n(20)),b=T(n(21));function T(e){return e&&e.__esModule?e:{default:e}}var k={uid:0,render:function(e,t){return t&&e.appendTo(t),e},preRender:function(e){return e.toString()},preExist:function(e){return e.preString(),e.emit(r.default.DOM)},createCp:function(e,t,n){return v.default.set(new e(this.uid++,t,n))},createVd:function(e,t,n){if("style"==e||"script"==e)throw new Error("can not create VirtualDom of: "+e);return v.default.set(d.default.index?d.default.get().__reset(this.uid++,e,t,n):new u.default(this.uid++,e,t,n))},Event:r.default,Model:i.default,CacheModel:o.default,eventBus:new r.default,Element:a.default,Component:s.default,CacheComponent:l.default,VirtualDom:u.default,Obj:f.default,Cb:c.default,util:_.default,browser:h.default,sort:p.default,hash:v.default,match:y.default,matchHash:g.default,attr:O.default,selfClose:m.default,name:function(e,t){s.default.prototype.isPrototypeOf(e.prototype)&&(e.__migiName=t)},resetUid:function(e){this.uid=e||0},clone:function(){var e=Object.create(k);return e.uid=0,e},dev:b.default};"undefined"!=typeof window?window.migi=k:void 0!==e&&(e.migi=k),t.default=k}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(0)),a=v(n(4)),i=v(n(6)),o=v(n(1)),s=v(n(9)),u=v(n(15)),l=v(n(17)),f=v(n(10)),c=v(n(5)),d=v(n(12)),_=v(n(14)),h=v(n(18)),p=v(n(3));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a,i){var u;if(i){var l=o.default.stringify(a);u=document.createTextNode(l||""),e.replaceChild(u,t[n])}else{if(u=a.toString(),1==t[n].nodeType)t[n].insertAdjacentHTML("afterend",u),e.removeChild(t[n]);else{var f=s.default.getParent(a.__name);f.innerHTML=u,e.replaceChild(f.firstChild,t[n])}a.emit(r.default.DOM)}}function g(e,t,n,a,i){var u;if(i){var l=o.default.stringify(a);u=document.createTextNode(l||""),n>=t.length?e.appendChild(u):e.insertBefore(u,t[n])}else{if(u=a.toString(),n>=t.length)e.insertAdjacentHTML("beforeend",u);else if(1==t[n].nodeType)t[n].insertAdjacentHTML("beforebegin",u);else{var f=s.default.getParent(a.name);f.innerHTML=u,e.insertBefore(f.firstChild,t[n])}a.emit(r.default.DOM)}}function O(e,t,n,r,a,i){if(Array.isArray(n)){r.index.push(0);for(var s=0,u=Math.max(n.length,1);s<u;s++){var l=n[s];r.index[r.index.length-1]=s,O(e,t,l,r,a,i&&s==u-1)}r.index.pop()}else if(o.default.isDom(n)){if(n.__parent=e,n.__top=e.top,n.style=e.style,c.default.set(n),a.prev)a.prev==f.default.TEXT&&r.start++,g(t,t.childNodes,r.start++,n);else{switch(r.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:w(r),r.start++;break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:}g(t,t.childNodes,r.start++,n)}a.prev=f.default.DOM}else{if(a.prev)a.prev==f.default.DOM&&(g(t,t.childNodes,r.start,n,!0),k(r)),w(r);else switch(r.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:w(r);break;case f.default.TEXT_TO_DOM:g(t,t.childNodes,r.start,n,!0),k(r),w(r);break;case f.default.DOM_TO_DOM:g(t,t.childNodes,r.start,n,!0),k(r)}a.prev=f.default.TEXT}if(i){switch(r.state){case f.default.TEXT_TO_TEXT:a.prev==f.default.DOM&&(r.state=f.default.TEXT_TO_DOM);break;case f.default.DOM_TO_DOM:a.prev==f.default.TEXT&&(r.state=f.default.DOM_TO_TEXT);break;case f.default.TEXT_TO_DOM:a.prev==f.default.TEXT&&(r.state=f.default.TEXT_TO_TEXT);break;case f.default.DOM_TO_TEXT:a.prev==f.default.DOM&&(r.state=f.default.DOM_TO_DOM)}r.prev=a.prev}}function m(e,t,n,r,a){if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)m(e,t[i],n,r,a&&i==s-1);else if(o.default.isDom(t)){switch(n.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:b(e,n.start+1);break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:b(e,n.start)}r.prev=f.default.DOM,o.default.getAllChildrenElement(t).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(t.__destroy())}else{if(r.prev){if(r.prev==f.default.DOM)switch(n.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:b(e,n.start+1),w(n);break;case f.default.DOM_TO_DOM:case f.default.TEXT_TO_DOM:b(e,n.start)}}else switch(n.state){case f.default.DOM_TO_TEXT:b(e,n.start+1),w(n);break;case f.default.TEXT_TO_TEXT:w(n);break;case f.default.DOM_TO_DOM:b(e,n.start);break;case f.default.TEXT_TO_DOM:}r.prev=f.default.TEXT}if(a)switch(n.state){case f.default.TEXT_TO_TEXT:r.prev==f.default.DOM?n.state=f.default.DOM_TO_TEXT:w(n);break;case f.default.DOM_TO_DOM:r.prev==f.default.TEXT&&(n.state=f.default.TEXT_TO_DOM);break;case f.default.TEXT_TO_DOM:r.prev==f.default.DOM&&(n.state=f.default.DOM_TO_DOM);break;case f.default.DOM_TO_TEXT:r.prev==f.default.TEXT&&(n.state=f.default.TEXT_TO_TEXT)}}function b(e,t){e.childNodes[t]&&e.removeChild(e.childNodes[t])}function T(e,t){return void 0!==e&&null!==e||(e=""),void 0!==t&&null!==t||(t=""),e.toString()==t.toString()}function k(e){e.history=e.index.slice()}function w(e){var t=e.start;e.range.length&&e.range[e.range.length-1].start==t||e.range.push({start:t,index:e.history.slice()})}function E(e,t,n,s,v){n instanceof p.default&&(n=n.v),s instanceof p.default&&(s=s.v);var b=Array.isArray(n),D=Array.isArray(s);if(b&&D){var M=n.length,x=s.length,A=M?1:0,P=x?2:0;switch(v.index.push(0),A|P){case 0:v.state==f.default.TEXT_TO_DOM&&g(t,t.childNodes,v.start++,s,!0),v.state=f.default.TEXT_TO_TEXT,v.prev=f.default.TEXT;break;case 1:E(e,t,n[0],s[0],v);for(var j={},X=1;X<M;X++)m(t,n[X],v,j,X==M-1);break;case 2:E(e,t,n[0],s[0],v);for(j={},X=1;X<x;X++)v.index[v.index.length-1]=X,O(e,t,s[X],v,j,X==x-1);break;case 3:X=0;for(var S=Math.min(M,x);X<S;X++)v.index[v.index.length-1]=X,E(e,t,n[X],s[X],v);j={};if(X<M)for(;X<M;X++)m(t,n[X],v,j,X==M-1);else if(X<x)for(;X<x;X++)v.index[v.index.length-1]=X,O(e,t,s[X],v,j,X==x-1)}v.index.pop()}else if(b){E(e,t,n[0],s,v);for(j={},X=1,S=n.length;X<S;X++)m(t,n[X],v,j,X==S-1)}else if(D){v.index.push(0),E(e,t,n,s[0],v);for(j={},X=1,S=s.length;X<S;X++)v.index[v.index.length-1]=X,O(e,t,s[X],v,j,X==S-1);v.index.pop()}else{var L=o.default.isDom(n)?1:0,C=o.default.isDom(s)?2:0,N=t.childNodes;switch(L|C){case 0:if(v.first)k(v),T(n,s)||w(v);else switch(v.state){case f.default.DOM_TO_TEXT:t.removeChild(N[v.start+1]),w(v);break;case f.default.TEXT_TO_DOM:g(t,N,v.start,s,!0),k(v),w(v);break;case f.default.DOM_TO_DOM:k(v);case f.default.TEXT_TO_TEXT:T(n,s)||w(v)}v.state=f.default.TEXT_TO_TEXT,v.prev=f.default.TEXT;break;case 1:if(n.__delRef(),v.first)y(t,N,v.start,s,!0),k(v);else switch(v.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:w(v),t.removeChild(N[v.start+1]);break;case f.default.TEXT_TO_DOM:case f.default.DOM_TO_DOM:y(t,N,v.start,s,!0),k(v)}o.default.getAllChildrenElement(n).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(n.__destroy()),v.state=f.default.DOM_TO_TEXT,v.prev=f.default.TEXT;break;case 2:if(s.__parent=e,s.__top=e.top,s.style=e.style,c.default.set(s),v.first)y(t,N,v.start++,s);else switch(v.state){case f.default.DOM_TO_TEXT:v.start++;case f.default.DOM_TO_DOM:y(t,N,v.start++,s);break;case f.default.TEXT_TO_DOM:g(t,N,v.start++,s);break;case f.default.TEXT_TO_TEXT:w(v),g(t,N,++v.start,s),v.start++}v.state=f.default.TEXT_TO_DOM,v.prev=f.default.DOM;break;case 3:switch(v.state){case f.default.DOM_TO_TEXT:case f.default.TEXT_TO_TEXT:v.start++}var R=n instanceof a.default?1:0;switch(R|(s instanceof a.default?2:0)){case 0:n.__delRef(),n.__name==s.__name?(n.__parent=e,n.__top=e.top,function(e,t){if(e!=t){for(var n=e.element,r=["__uid","__element","__parent","__top","__style","__dom","__names"],a=r.length-1;a>=0;a--)t[O=r[a]]=e[O];c.default.set(t);var s={};for(a=e.__props.length-1;a>=0;a--){var f=e.__props[a];if(0!=(O=f[0]).indexOf("on")||"on"==O)if(s[O]=!0,t.props.hasOwnProperty(O)){var d=f[1],v=t.props[O];v instanceof p.default&&(v=v.v),d instanceof p.default&&(d=d.v),v!==d&&t.__updateAttr(O,v),t.__cache[O]=v}else t.__updateAttr(O,null),delete t.__cache[O]}e.__removeListener();var y=t.__props.length,g=function(){f=t.__props[a],O=f[0];var e=f[1];e instanceof p.default&&(e=e.v),0==O.indexOf("on")&&"on"!=O?(m=O.slice(2).toLowerCase(),t.__addListener(m,function(n){n=n||window.event,(0,_.default)(n);var r=n.target.getAttribute("migi-uid"),a=c.default.get(r);e instanceof i.default?e.cb.call(e.context,n,t,a):o.default.isFunction(e)?e(n,t,a):Array.isArray(e)&&e.forEach(function(e){var r=e[1];(0,h.default)(n,e[0],t)&&(r instanceof i.default?r.cb.call(r.context,n,t,a):o.default.isFunction(r)&&r(n,t,a))})})):s.hasOwnProperty(O)||t.__updateAttr(O,e)};for(a=0;a<y;a++){var O,m;g()}t.__style&&t.__updateStyle(!0);var b={start:0,index:[],range:[],first:!0};if(E(t,n,e.children,t.children,b),b.range.length){if("textarea"==t.__name)return void t.__updateAttr("value",u.default.value(b.range[0],t.children));for(a=0,y=b.range.length;a<y;a++)u.default.update(b.range[a],t.children,n)}l.default.add(e.__destroy())}}(n,s),s.__saveRef()):(s.__parent=e,s.__top=e.top,s.style=e.style,(t=n.element).insertAdjacentHTML("afterend",s.toString()),t.parentNode.removeChild(t),s.emit(r.default.DOM),d.default.del(n.__uid),c.default.set(s),l.default.add(n.__destroy()));break;default:n.__delRef(),(t=n.element).insertAdjacentHTML("afterend",s.toString()),t.parentNode.removeChild(t),s.__parent=e,s.__top=e.top,R?d.default.del(n.virtualDom.__uid):d.default.del(n.__uid),s.style=e.style,s.emit(r.default.DOM),c.default.set(s),o.default.getAllChildrenElement(R?n.__virtualDom:n).forEach(function(e){l.default.add(e.__destroy())}),l.default.add(n.__destroy())}v.state=f.default.DOM_TO_DOM,v.prev=f.default.DOM,v.start++}}v.first=!1}function D(e,t,n){n.state==f.default.TEXT_TO_DOM?(g(e,e.childNodes,n.start,t,!0),k(n),w(n)):n.state==f.default.DOM_TO_TEXT&&(w(n),b(e,n.start+1))}function M(e,t,n){if(t instanceof p.default&&(t=t.v),Array.isArray(t)){n.index.push(0);for(var r=0,a=t.length;r<a;r++)n.index[n.index.length-1]=r,M(e,t[r],n);n.index.pop()}else o.default.isDom(t)?(n.prev==f.default.TEXT&&n.start++,n.state=f.default.DOM_TO_DOM,n.prev=f.default.DOM,n.start++):((n.first||n.prev==f.default.DOM)&&k(n),n.state=f.default.TEXT_TO_TEXT,n.prev=f.default.TEXT),n.first=!1}t.default={diff:function(e,t,n,r,a,i){i?function(e,t,n,r,a,i){n instanceof p.default&&(n=n.v),r instanceof p.default&&(r=r.v);var s=n.length,u=r.length,l=s?1:0,c=u?2:0;switch(a.index.push(0),l|c){case 0:a.state==f.default.TEXT_TO_DOM&&g(t,t.childNodes,a.start++,r,!0),a.state=f.default.TEXT_TO_TEXT,a.prev=f.default.TEXT;break;case 1:E(e,t,n[0],r[0],a);for(var d={},_=1;_<s;_++)m(t,n[_],a,d,_==s-1);break;case 2:E(e,t,n[0],r[0],a);for(var d={},_=1;_<u;_++)a.index[a.index.length-1]=_,O(e,t,r[_],a,d,_==u-1);break;case 3:var h=o.default.arrFirst(n),v=o.default.arrFirst(r),y=o.default.isDom(h)?1:0,b=o.default.isDom(v)?2:0,d={};switch(i.method){case"push":a.first||0!=b||(a.index[a.index.length-1]=0,D(t,v,a));for(var _=0;_<s;_++)a.index[a.index.length-1]=_,M(t,r[_],a);for(;_<u;_++)a.index[a.index.length-1]=_,O(e,t,r[_],a,d,_==u-1);break;case"pop":a.first||0!=b||(a.index[a.index.length-1]=0,D(t,v,a));for(var _=0;_<u;_++)a.index[a.index.length-1]=_,M(t,r[_],a);m(t,n[u],a,{},!0);break;case"unshift":a.first&&(a.state=f.default.DOM_TO_DOM);for(var _=0;_<u-s;_++)a.index[a.index.length-1]=_,O(e,t,r[_],a,d,_==u-s-1);for(0==y&&(a.index[a.index.length-1]=_,D(t,h,a));_<u;_++)a.index[a.index.length-1]=_,M(t,r[_],a);break;case"shift":a.first&&(a.state=f.default.DOM_TO_DOM),m(t,n[0],a,{},!0),0==b&&(a.index[a.index.length-1]=0,D(t,v,a));for(var _=0;_<u;_++)a.index[a.index.length-1]=_,M(t,r[_],a);break;case"splice":for(var T=i.args[0],k=i.args[1],w=i.args.length-2,_=0;_<T;_++)a.index[a.index.length-1]=_,M(t,r[_],a);for(a.first&&(a.state=f.default.DOM_TO_DOM);_<Math.min(k,w)+T;_++)a.index[a.index.length-1]=_,E(e,t,n[_],r[_],a);if(k>w)for(var x=_;x<k+T;x++)m(t,n[x],a,d,x==k+T-1);else if(k<w)for(;_<w+T;_++)a.index[a.index.length-1]=_,O(e,t,r[_],a,d,_==w+T-1);for(_<u&&(v=o.default.arrFirst(r[_]),o.default.isDom(v)||(a.index[a.index.length-1]=_,D(t,v,a)));_<u;_++)a.index[a.index.length-1]=_,M(t,r[_],a)}}a.index.pop(),a.first=!1}(e,t,n,r,a,i):E(e,t,n,r,a)},checkText:D,recordRange:k,addRange:w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){function i(a){c.first?f.push({vd:e,name:t,cb:n}):(u=a.touches[0],a.touches&&1===a.touches.length&&c.x2&&(c.x2=void 0,c.y2=void 0),c={vd:e,name:t,cb:n,first:!0,x1:u.pageX,y1:u.pageY},r=c,o=Date.now(),s=o-_,_=o,s>0&&s<250&&(c.isDoubleTap=!0))}l||(l=!0,document.addEventListener("touchmove",y,!0),document.addEventListener("touchend",g,!0),document.addEventListener("touchcancel",v,!0),window.addEventListener("scroll",v),window.addEventListener("blur",v)),a.push(["touchstart",i]),e.element.addEventListener("touchstart",i)};var r,a,i,o,s,u,l,f=[],c={},d=750,_=0,h=0,p=0;function v(){a&&clearTimeout(a),i&&clearTimeout(i),a=i=null,c={},f=[]}function y(e){c.vd&&(u=e.touches[0],c.x2=u.pageX,c.y2=u.pageY,h+=Math.abs(c.x1-c.x2),p+=Math.abs(c.y1-c.y2))}function g(e){c.vd&&(c.x2&&Math.abs(c.x1-c.x2)>30||c.y2&&Math.abs(c.y1-c.y2)>30?i=setTimeout(function(){var t="swipe"+function(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"left":"right":n-r>0?"up":"down"}(c.x1,c.x2,c.y1,c.y2);"swipe"!=c.name&&c.name!=t||c.cb(e),f.forEach(function(n){"swipe"!=n.name&&n.name!=t||n.cb(e)}),c={},f=[]},0):h<30&&p<30?a=setTimeout(function(){Date.now()-_>d?("longtap"==c.name&&c.cb(e),f.forEach(function(t){"longtap"==t.name&&t.cb(e)})):c.isDoubleTap&&c.vd==r.vd&&("doubletap"==c.name&&c.cb(e),f.forEach(function(t){"doubletap"==t.name&&t.cb(e)})),c={},f=[]},0):(c={},f=[]),h=p=0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={domactivate:"DOMActivate",domfocusin:"DOMFocusIn",msgestureend:"MSGestureEnd",mspointerdown:"MSPointerDown",mspointermove:"MSPointerMove",mspointerup:"MSPointerUp",mspointercancel:"MSPointerCancel"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Array.prototype,a=Object.create(r);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=r[e];Object.defineProperty(a,e,{value:function(){for(var n=arguments.length,r=new Array(n);n--;)r[n]=arguments[n];var a=t.apply(this,r);return Array.isArray(this.__cb__)&&this.__cb__.forEach(function(t){"sort"==e||"reverse"==e?t():t({method:e,args:r})}),a}})}),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(7)),a=i(n(22));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.__handler={},e.__ccb=!1,e.__timeout,e.__timecb,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();o.prototype.__data=a.default.prototype.__data,t.default=o}]);