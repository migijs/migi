!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(25)},function(e,t){var r=document.createElement("div"),n=document.createElement("table"),i=document.createElement("tbody"),a=document.createElement("tr"),o=document.createElement("ul"),s=document.createElement("dl"),u=document.createElement("select"),c=document.createElement("menu");t["default"]={lie:!1,NODE:r,getParent:function(e){switch(e){case"td":return a;case"tr":return i;case"tbody":case"thead":case"col":return n;case"li":return o;case"dt":case"dd":return s;case"option":return u;case"menuitem":return c;default:return r}}}},function(e,t,r){function n(e){if(e instanceof f)return e;if(a(e))return e;var t=Array.isArray(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];i instanceof f||l.lie&&i&&i.__migiEL?t[r]=i:h.isDate(i)?t[r]=new Date(i):t[r]=h.isObject(i)?n(i):i}return t}function i(e){return function(t){return d.call(t)=="[object "+e+"]"}}function a(e){return void 0===e||null===e||h.isBoolean(e)||h.isNumber(e)||h.isString(e)}function o(e,t){if(e instanceof f||t instanceof f||l.lie&&(e&&e.__migiEL||t&&t.__migiEL))return e==t;if(a(e)||a(t))return e===t;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(var r=0,n=e.length;n>r;r++)if(!o(e[r],t[r]))return!1;return!0}if(h.isDate(e))return h.isDate(t)?e-t==0:!1;if(h.isObject(e)){if(!h.isObject(t))return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var r=0,n=i.length;n>r;r++)if(!t.hasOwnProperty(r)||!o(e[r],t[r]))return!1;return!0}}function s(e,t){var r="";return e.forEach(function(e){r+=Array.isArray(e)?s(e):e instanceof f||l.lie&&e&&e.__migiEL?t?c(e.toString(),t):e.toString():c(u(e),t)}),r}function u(e){return null===e||void 0===e?"":e.toString()}function c(e,t){return t?e.replace(/"/g,"&quot;"):e.replace(/</g,"&lt;")}var f=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),d={}.toString,h={clone:function(e){return f.hasOwnProperty("default")&&(f=f["default"]),n(e)},isObject:i("Object"),isString:i("String"),isFunction:i("Function"),isNumber:i("Number"),isBoolean:i("Boolean"),isDate:i("Date"),equal:function(e,t){return f.hasOwnProperty("default")&&(f=f["default"]),o(e,t)},stringify:u,encodeHtml:c,joinArray:function(e,t){return f.hasOwnProperty("default")&&(f=f["default"]),s(e,t)}};t["default"]=h},function(e,t,r){function n(){this.__hash={}}var i=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(16);return e.hasOwnProperty("default")?e["default"]:e}();n.prototype.on=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.on(e,t)});else if(t){r.__hash.hasOwnProperty(e)||(r.__hash[e]=[]);for(var n=0,i=r.__hash[e],a=i.length;a>n;n++)if(i[n]===t)return r;r.__hash[e].push(t)}return r},n.prototype.once=function(e,t){var r=this;return Array.isArray(e)?e.forEach(function(e){r.once(e,t)}):t&&r.on(e,function(n){n=[].slice.call(arguments,0),t.apply(this,n),r.off(e,arguments.callee)}),this},n.prototype.off=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.off(e,t)});else if(r.__hash.hasOwnProperty(e))if(t){for(var n=0,i=r.__hash[e],a=i.length;a>n;n++)if(i[n]===t){i.splice(n,1);break}}else delete r.__hash[e];return this},n.prototype.emit=function(e,t){t=[].slice.call(arguments,1);var r=this;if(Array.isArray(e))e.forEach(function(e){r.emit(e,t)});else if(r.__hash.hasOwnProperty(e)){var n=r.__hash[e].slice();n.forEach(function(e){i.lie&&r instanceof migi.Component&&r.__migiNode==r&&r.__migiCP?e.apply(r.__migiNode,t):e.apply(r,t)})}return this},n.prototype.__hackLie=function(e,t){if(this.__migiGS=a.gs({},this.__migiGS,t),this.constructor==e){var r=document.createElement("a");return this.__migiNode=r.__migiNode=r,this.$=r,a.ref(this,r,this.__migiGS),Object.defineProperties(r,this.__migiGS),r}},n.mix=function(e){e=[].slice.call(arguments,0),e.forEach(function(e){var t=new n;e.__hash={};var r=["on","once","off","emit"];r.forEach(function(r){e[r]=t[r]})})},n.DOM="__0",n.DESTROY="__1",n.DATA="__2",n.CACHE_DATA="__3",t["default"]=n},function(e,t,r){function n(e){return o.isString(e)?document.querySelector(e):e instanceof i||s.lie&&e&&e.__migiEL?e.element:e}function i(e,t,r){a.call(this),this.$=this.$$=this,this.__reset(e,t,r)}var a=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),u=0;!function(){var e=Object.create(a.prototype);e.constructor=i,i.prototype=e}(),i.prototype.__reset=function(e,t,r){this.uid=u++,this.__name=e,this.props=t,this.children=r,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(a.DOM,this.__onDom),s.lie&&(this.__migiEL=this,this.__migiGS=c)},i.prototype.__clean=function(){if(this.__dom){this.__dom=!1;var e=this.element;e&&e.parentNode.removeChild(e)}},i.prototype.__onDom=function(){this.__dom=!0,this.__saveRef()},i.prototype.__saveRef=function(){if(this.__cache.ref){var e=this.top;if(e){var t=this.__cache.ref,r=e.ref[t];Array.isArray(r)?r.push(this):r?e.ref[t]=[r,this]:e.ref[t]=this}}},i.prototype.inTo=function(e){this.__clean();var t=this.toString();n(e).innerHTML=t,this.emit(a.DOM)},i.prototype.appendTo=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("beforeend",t),this.emit(a.DOM)},i.prototype.prependTo=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterbegin",t),this.emit(a.DOM)},i.prototype.before=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("beforebegin",t),this.emit(a.DOM)},i.prototype.after=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterend",t),this.emit(a.DOM)},i.prototype.replace=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterend",t),e.parentNode.removeChild(e),this.emit(a.DOM)},i.__clean=function(){u=0},Object.keys(a).forEach(function(e){i[e]=a[e]});var c={top:{get:function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component||this.parent&&this.parent.__migiCP?this.__top=this.parent:this.__top=this.parent.top),this.__top}},element:{get:function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.uid+'"]'))}},parent:{get:function(){var e=this.__parent;return s.lie&&e?e.__migiNode:e}}};["name","dom"].forEach(function(e){c[e]={get:function(){return this["__"+e]}}}),s.lie||Object.defineProperties(i.prototype,c),t["default"]=i},function(e,t,r){function n(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),f.hasOwnProperty("default")&&(f=f["default"]);var r=this,o=r.constructor.__migiName;return a.call(this,o,e,t),r.__virtualDom=null,r.__ref={},r.__stop=null,r.__model=null,r.__bridgeHash={},r.__stream=null,Object.keys(e).forEach(function(t){if(/^on[A-Z]/.test(t)){var n=t.slice(2).replace(/[A-Z]/g,function(e){return e.toLowerCase()}),i=e[t];r.on(n,function(e){e=[].slice.call(arguments,0),i.apply(this,[].concat(Array.from(e)))})}else"model"==t&&(r.model=e[t])}),r.on(i.DATA,r.__onData),u.lie?(r.__migiCP=this,r.__hackLie(n,h)):void 0}var i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(13);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}(),d=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touch","touchstart","touchmove","touchend"];!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),n.prototype.render=function(){return new o("div",this.props,this.children)},n.prototype.toString=function(){return u.lie&&this.$$.style&&this.$$.style!=this.$$.__style&&(this.$$.__style=this.$$.style),u.lie&&this.$$.model&&this.$$.model!=this.$$.__model&&(this.$.model=this.$$.__model=this.$$.model),this.__virtualDom=this.render(),this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()},n.prototype.findChild=function(e){return this.findChildren(e,!0)[0]},n.prototype.findChildren=function(e,t){for(var r=[],i=0,o=this.children.length;o>i;i++){var c=this.children[i];if(c instanceof a||u.lie&&c&&c.__migiEL)if(c instanceof n){if((c.name==e||s.isFunction(e)&&c instanceof e)&&(r.push(c),t))break}else{if((c.name==e||s.isFunction(e)&&c instanceof e)&&(r.push(c),t))break;if(r=r.concat(c.findAll(e)),t&&r.length)break}}return r},n.prototype.find=function(e){return this.__virtualDom?this.__virtualDom.find(e):null},n.prototype.findAll=function(e){return this.__virtualDom?this.__virtualDom.findAll(e):[]},n.prototype.__record=function(e,t,r,n){var i=this,a=i.__bridgeHash[t]=i.__bridgeHash[t]||[];a.forEach(function(n){if(n.target==e&&n.name==r)throw new Error("duplicate bridge: "+i.name+"."+t+" -> "+e.name+"."+r)}),a.push({target:e,name:r,middleware:n})},n.prototype.bridge=function(e,t,r,i){f.hasOwnProperty("default")&&(f=f["default"]);var a=this;if(e==this)throw new Error("can not bridge self: "+a.name);if(!e||!(e instanceof c)&&!(e instanceof n)&&!(e instanceof f)&&u.lie&&!e.__migiCP&&!e.__migiMD)throw new Error("can only bridge to EventBus/Component/Model: "+a.name);2==arguments.length?s.isString(t)?a.__record(e,t,t):Object.keys(t).forEach(function(r){var n=t[r];s.isString(n)?a.__record(e,r,n):s.isFunction(n)?a.__record(e,r,r,n):n.name&&a.__record(e,r,n.name,n.middleware)}):3==arguments.length?s.isString(r)?a.__record(e,t,r):(i=r,a.__record(e,t,t,i)):4==arguments.length&&a.__record(e,t,r,i)},n.prototype.bridgeTo=function(e,t){t=[].slice.call(arguments,1),e.bridge.apply(e,[this].concat(Array.from(t)))},n.prototype.unBridge=function(){},n.prototype.unBridgeTo=function(){},n.prototype.__onDom=function(e){function t(e){e=e||window.event,e.target!=o&&e.srcElement!=o&&(u.lie&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation())}a.prototype.__onDom.call(this);var r=this;r.virtualDom.emit(i.DOM,e);var o=r.element;o.setAttribute("migi-name",r.name),e||r.children==r.virtualDom.children||n.fakeDom(r.children),r.props.allowPropagation||(r.__stop=t,d.forEach(function(e){u.lie&&o.attachEvent?o.attachEvent("on"+e,t):o.addEventListener(e,t)}))},n.prototype.__data=function(e){var t=this;t.emit(i.DATA,e);var r=t.__bridgeHash[e];if(r){var n=t.__stream||new l(t.uid);r.forEach(function(r){var a=r.target,o=r.name,s=r.middleware;n.has(a.uid)||(n.add(a.uid),a instanceof c?a.emit(i.DATA,o,s?s.call(t,t[e]):t[e],n):(a.__stream=n,a[o]=s?s.call(t,t[e]):t[e],a.__stream=null))})}},n.prototype.__onData=function(e){this.virtualDom&&this.virtualDom.__onData(e),this.children.forEach(function(t){t instanceof n||u.lie&&t&&t.__migiCP?t.emit(i.DATA,e):(t instanceof o||u.lie&&t&&t.__migiVD)&&t.__onData(e)})},n.prototype.__destroy=function(){var e=this;if(e.__hash={},e.__stop){var t=e.element;d.forEach(function(r){u.lie&&t.attachEvent?t.detachEvent("on"+r,e.__stop):t.removeEventListener(r,e.__stop)})}e.model&&e.model.__del(e);var r=e.virtualDom.__destroy();return e.emit(i.DESTROY),r},n.fakeDom=function(e){Array.isArray(e)?e.forEach(function(e){n.fakeDom(e)}):e instanceof n||u.lie&&e&&e.__migiCP?e.emit(i.DOM,!0):(e instanceof o||u.lie&&e&&e.__migiVD)&&e.emit(i.DOM,!0)},Object.keys(a).forEach(function(e){n[e]=a[e]});var h={element:{get:function(){return this.virtualDom?this.virtualDom.element:null}},style:{get:function(){return this.__style},set:function(e){this.__style=e}},model:{get:function(){return this.__model},set:function(e){if(!(e instanceof f)&&u.lie&&!e.__migiMD)throw new Error("can not set model to a non Model: "+e);this.__model=e,e.__add(this)}}};["virtualDom","ref"].forEach(function(e){h[e]={get:function(){return this["__"+e]}}}),u.lie||Object.defineProperties(n.prototype,h),t["default"]=n},function(e,t,r){function n(){i.call(this),this.uid="e"+s++,this.__listener={},this.on(i.DATA,this.__brcb)}var i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),s=0;!function(){var e=Object.create(i.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__brcb=function(e,t,r){if(this.__listener.hasOwnProperty(e))for(var n=this.__listener[e],i=0,a=n.length;a>i;i++){var o=n[i],s=o.target,u=o.name,c=o.middleware;r.has(s.uid)||(r.add(s.uid),s.__stream=r,s[u]=c?c.call(s,t):t,s.__stream=null)}},n.prototype.__record=function(e,t,r,n){var i=this,a=this.__listener[t]=this.__listener[t]||[];a.forEach(function(n){if(n.target==e&&n.name==r)throw new Error("duplicate bridge: "+i.name+"."+t+" -> "+e.name+"."+r)}),a.push({target:e,name:r,middleware:n})},n.prototype.bridge=function(e,t,r,n){var i=this;if(e==this)throw new Error("can not bridge self: "+i);if(!e||!(e instanceof migi.Component)&&!(e instanceof migi.Model)&&o.lie&&!e.__migiCP&&!e.__migiMD)throw new Error("can only bridge to Component/Model: "+i);2==arguments.length?a.isString(t)?i.__record(e,t,t):Object.keys(t).forEach(function(r){var n=t[r];a.isString(n)?i.__record(e,r,n):n.name&&i.__record(e,r,n.name,n.middleware)}):3==arguments.length?a.isString(r)?i.__record(e,t,r):(n=r,i.__record(e,t,t,n)):4==arguments.length&&i.__record(e,t,r,n)},n.prototype.bridgeTo=function(e,t){t=[].slice.call(arguments,1),e.bridge.apply(e,[this].concat(Array.from(t)))},Object.keys(i).forEach(function(e){n[e]=i[e]}),t["default"]=n},function(e,t,r){function n(e){return e instanceof _||v.lie&&e&&e.__migiEL?e.name+'[migi-uid="'+e.uid+'"]':e.replace(/(^|\s|,|])([A-Z][\w$]*)\b/,'$1[migi-name="$2"]')}function i(e,t){return a(e,t,!0)[0]||null}function a(e,t,r){return o(e,t,[],r)}function o(e,t,r,n){for(var i=0,a=t.length;a>i;i++){var u=t[i];if(u instanceof _||v.lie&&u&&u.__migiEL?r=s(e,u,r,n):u instanceof y?(u=u.v,Array.isArray(u)?r=o(e,u,r,n):(u instanceof _||v.lie&&u&&u.__migiEL)&&(r=s(e,u,r,n))):Array.isArray(u)&&(r=o(e,u,r,n)),n&&r.length)break}return r}function s(e,t,r,n){if(t instanceof p||v.lie&&t&&t.__migiCP)(t instanceof e||v.lie&&t.__migiCP&&t.__migiCP instanceof e)&&r.push(t);else{if((t instanceof e||v.lie&&t.__migiVD&&t.__migiVD instanceof e)&&(r.push(t),n))return r;r=r.concat(t.findAll(e,n))}return r}function u(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r=[]),p.hasOwnProperty("default")&&(p=p["default"]),T.hasOwnProperty(e)&&r.length)throw new Error("self-close tag can not has chilren nodes: "+e);_.call(this,e,t,r);var n=this;return n.__names=null,n.__classes=null,n.__ids=null,n.__inline=null,n.__hover=!1,n.__active=!1,n.__listener=null,n.__init(e,r),v.lie?(n.__migiVD=this,n.__hackLie(u,M)):void 0}function c(e){return void 0===e||null===e||!e.toString()}function f(e){if(e instanceof _||e instanceof y||v.lie&&e.__migiEL)return e.toString();if(Array.isArray(e)){var t="";return e.forEach(function(e){t+=f(e)}),t}return m.encodeHtml(m.stringify(e))}function l(e,t){Array.isArray(e)?e.forEach(function(e){l(e,t)}):e instanceof _||v.lie&&e&&e.__migiEL?e.__parent=t:e instanceof y&&l(e.v,t)}function d(e,t){Array.isArray(e)?e.forEach(function(e){d(e,t)}):e instanceof u||v.lie&&e&&e.__migiVD?e.style=t:e instanceof y&&d(e.v,t)}var h=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),_=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),p=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),v=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),y=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),g=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),O=function(){var e=r(17);return e.hasOwnProperty("default")?e["default"]:e}(),w=function(){var e=r(23);return e.hasOwnProperty("default")?e["default"]:e}(),b=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),E=function(){var e=r(21);return e.hasOwnProperty("default")?e["default"]:e}(),P=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}(),A=function(){var e=r(22);return e.hasOwnProperty("default")?e["default"]:e}(),k=function(){var e=r(20);return e.hasOwnProperty("default")?e["default"]:e}(),D=function(){var e=r(15);return e.hasOwnProperty("default")?e["default"]:e}(),T={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0};!function(){var e=Object.create(_.prototype);e.constructor=u,u.prototype=e}(),u.prototype.toString=function(){var e=this,t="<"+e.name;if(Object.keys(e.props).forEach(function(r){var n=e.__renderProp(r);t+=n}),e.__style){var r=e.__match(!0);r&&(t=t.indexOf(' style="')>1?t.replace(/ style="[^"]*"/,' style="'+r+'"'):t+' style="'+r+'"')}return t+=' migi-uid="'+e.uid+'"',e.__checkListener(),e.__selfClose?t+"/>":(t+=">",t+=e.__renderChildren(),t+="</"+e.name+">")},u.prototype.isFirst=function(e){if(this.parent instanceof p||v.lie&&this.parent&&this.parent.__migiCP)return!0;e=e||this.parent.children;for(var t=0,r=e.length;r>t;t++){var n=e[t];if(Array.isArray(n)&&n.length)return this.isFirst(n);if(n==this)return!0;if(n instanceof u||v.lie&&n&&n.__migiVD)return!1;if(n instanceof y&&(n=n.v,Array.isArray(n)&&n.length))return this.isFirst(n)}},u.prototype.isLast=function(e){if(this.parent instanceof p||v.lie&&this.parent&&this.parent.__migiCP)return!0;e=e||this.parent.children;for(var t=e.length-1;t>=0;t--){var r=e[t];if(Array.isArray(r)&&r.length)return this.isLast(r);if(r==this)return!0;if(r instanceof u||v.lie&&r&&r.__migiVD)return!1;if(r instanceof y&&(r=r.v,Array.isArray(r)&&r.length))return this.isLast(r)}},u.prototype.__renderProp=function(e){var t=this,r=t.props[e],n="";if(/^on[A-Z]/.test(e))t.once(h.DOM,function(r){if(!r){var n=e.slice(2).replace(/[A-Z]/g,function(e){return e.toLowerCase()});t.__addListener(n,function(r){r=r||window.event,A(r);var n=t.props[e];n instanceof g?n.cb.call(n.context,r):n(r)})}});else if(r instanceof y){var i=r.toString(!0);if("dangerouslySetInnerHTML"==e)return t.once(h.DOM,function(){t.element.innerHTML=i}),"";"className"==e&&(e="class"),t.__cache[e]=i;var a=k.special(t.name,e);switch(a){case k.RENDER_EXIST:r.v&&(n=" "+e+'="'+i+'"');break;case k.RENDER_DOM:t.once(h.DOM,function(){t.__updateAttr(e,r)});break;default:n=" "+e+'="'+i+'"'}}else{var i=Array.isArray(r)?m.joinArray(r):m.stringify(r);if("dangerouslySetInnerHTML"==e)return t.once(h.DOM,function(){t.element.innerHTML=i}),"";"className"==e&&(e="class"),t.__cache[e]=i;var a=k.special(t.name,e);switch(a){case k.RENDER_EXIST:r&&(n=" "+e+'="'+m.encodeHtml(i,!0)+'"');break;case k.RENDER_DOM:t.once(h.DOM,function(){t.__updateAttr(e,r)});break;default:n=" "+e+'="'+m.encodeHtml(i,!0)+'"'}}if(t.__style)switch(e){case"class":case"id":n=" migi-"+n.slice(1)}return n},u.prototype.__renderChildren=function(){var e=this,t="";return e.children.forEach(function(e){t+=f(e)}),t},u.prototype.__checkListener=function(){var e=this;if("input"==e.name){if(e.props.hasOwnProperty("value")){var t=e.props.value;t instanceof y&&e.once(h.DOM,function(){function r(e){e=e||window.event,A(e);var r=e.target.value;t.setV(r);var n=t.k;t.context[n]=r}var n=e.__cache.type;switch((void 0===n||null===n)&&(n=""),n.toLowerCase()){case"checkbox":case"radio":case"range":case"color":e.__addListener("change",r);break;default:e.__addListener(["input","paste","cut","change"],r)}})}}else if("select"==e.name){if(e.props.hasOwnProperty("value")){var t=e.props.value;t instanceof y&&e.once(h.DOM,function(){function r(e){e=e||window.event,A(e);var r=e.target.value;t.setV(r);var n=t.k;t.context[n]=r}e.__addListener("change",r)})}}else if("textarea"==e.name&&1==e.children.length){var r=e.children[0];r instanceof y&&e.once(h.DOM,function(){function t(e){e=e||window.event,A(e);var t=e.target.value;r.setV(t);var n=r.k;r.context[n]=t}e.__addListener(["input","paste","cut","change"],t)})}},u.prototype.__addListener=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.__addListener(e,t)});else{if(r.__listener=r.__listener||{},r.__listener.hasOwnProperty(e)){var n=r.__listener[e];Array.isArray(n)?n.push(t):r.__listener[e]=[n,t]}else r.__listener[e]=t;var i=r.element;"tap"==e&&(e="click"),v.lie&&i.attachEvent?("input"==e&&(e="keyup"),i.attachEvent("on"+e,t)):i.addEventListener(e,t)}},u.prototype.__removeListener=function(){var e=this;if(e.__listener){var t=e.element;Object.keys(e.__listener).forEach(function(r){var n=e.__listener[r];Array.isArray(n)?n.forEach(function(e){v.lie&&t.attachEvent?t.detachEvent("on"+r,e):t.removeEventListener(r,e)}):v.lie&&t.attachEvent?("input"==r&&(r="keyup"),t.detachEvent("on"+r,n)):t.removeEventListener(r,n)})}},u.prototype.find=function(e){if(m.isFunction(e))return i(e,this.children);if(this.element){var t=this.element.querySelector(n(e)),r=t.getAttribute("migi-uid");return D.get(r)||null}return null},u.prototype.findAll=function(e){if(m.isFunction(e))return a(e,this.children);var t=[];if(this.element){var r=this.element.querySelectorAll(n(e));Array.from(r).forEach(function(e){if(e){var r=e.getAttribute("migi-uid"),n=D.get(r)||null;n&&t.push(n)}})}return t},u.prototype.__onDom=function(e){_.prototype.__onDom.call(this);var t=this;if(e)return void p.fakeDom(t.children);for(var r={start:0,first:!0},n=0,i=t.children.length;i>n;n++){var a=t.children[n];t.__domChild(a,n,i,r)}r.empty&&t.__insertBlank(r.start)},u.prototype.__domChild=function(e,t,r,n){var i=this;if(Array.isArray(e)&&e.length)e.forEach(function(e){i.__domChild(e,t,r,n)});else if(e instanceof _&&!(e instanceof migi.NonVisualComponent)||v.lie&&e&&e.__migiEL&&!e.__migiNV)n.empty&&(i.__insertBlank(n.start),n.empty=!1),e.emit(h.DOM),n.start++,n.first||n.prev==P.TEXT&&n.start++,n.prev=P.DOM;else if(e instanceof y)i.__domChild(e.v,t,r,n);else if(c(e)){if((e instanceof migi.NonVisualComponent||v.lie&&e&&e.__migiNV)&&e.emit(h.DOM),!n.first&&n.prev==P.TEXT)return;n.empty=!0,n.prev=P.TEXT}else n.empty=!1,n.prev=P.TEXT;n.first=!1},u.prototype.__insertBlank=function(e){var t=document.createTextNode(""),r=this.element,n=r.childNodes,i=n.length;!i||e>=i?r.appendChild(t):r.insertBefore(t,n[e])},u.prototype.__onData=function(e){var t=this;for(var r in t.props){var n=t.props[r];if(n instanceof y){var i=!1;if(Array.isArray(n.k)?i=n.k.indexOf(e)>-1:e==n.k&&(i=!0),i){var a=n.v;n.update(a)&&t.__updateAttr(r,n.v)}}}for(var o,s=[],u={start:0,record:[],first:!0},c=t.children,f=0,l=c.length;l>f;f++){var d=c[f];o=[f],t.__checkObj(e,d,s,u,o)}if(s.length){if("textarea"==t.name)return void t.__updateAttr("value",O.value(s[0],t.children));s.forEach(function(e){O.update(e,t.children,t.element)})}},u.prototype.__checkObj=function(e,t,r,n,i){var a=this;if(t instanceof y){var o=!1,s=Array.isArray(e)?1:0,c=Array.isArray(t.k)?2:0;switch(s+c){case 0:o=e==t.k;break;case 1:o=e.indexOf(t.k)>-1;break;case 2:o=t.k.indexOf(e)>-1;break;case 3:var f={};e.forEach(function(e){f[e]=!0});for(var l=t.k,d=0,h=l.length;h>d;d++)if(f.hasOwnProperty(l[d])){o=!0;break}}if(o){var p=t.v;t.update(p)?E.diff(this.element,p,t.v,r,n,i):a.__checkObj(e,t.v,r,n,i)}else a.__checkObj(e,t.v,r,n,i)}else t instanceof _||v.lie&&t&&t.__migiEL?(delete n.t2d,delete n.d2t,(t instanceof u||v.lie&&t&&t.__migiVD)&&t.__onData(e),n.start++,n.first||n.prev!=P.TEXT||n.start++,n.prev=P.DOM):Array.isArray(t)&&t.length?(i.push(0),t.forEach(function(t,o){i[i.length-1]=o,a.__checkObj(e,t,r,n,i)}),i.pop()):(E.check(n,this.element,t,r,i),O.record(i,n),n.prev=P.TEXT);n.first=!1},u.prototype.__updateAttr=function(e,t){return"dangerouslySetInnerHTML"==e?((null===t||void 0===t)&&(t=""),void(this.element.innerHTML=m.stringify(t))):(k.update(this.name,this.element,e,t,this.__style),this.__cache[e]=t,void(this.__style&&this.__updateStyle()))},u.prototype.__match=function(e){this.__inline=this.__cache.style||"";var t=this.parent;t instanceof u||v.lie&&t&&t.__migiVD?(this.__classes=t.__classes.slice(),this.__ids=t.__ids.slice()):(this.__classes=[],this.__ids=[]);var r=(this.__cache["class"]||"").trim();r?(r=r.split(/\s+/),b(r,function(e,t){return t>e}),this.__classes.push("."+r.join("."))):this.__classes.push("");var n=(this.__cache.id||"").trim();n?this.__ids.push("#"+n):this.__ids.push("");var i=w(this.__names,this.__classes,this.__ids,this.__style,this,e);return i+this.__inline},u.prototype.__updateStyle=function(){var e=this.__match();this.element.getAttribute("style")!=e&&this.element.setAttribute("style",e),this.children.forEach(function(e){(e instanceof u||v.lie&&e&&e.__migiVD)&&e.__updateStyle()})},u.prototype.__init=function(e,t){var r=this;r.__selfClose=T.hasOwnProperty(e),l(t,this)},u.prototype.__reset=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=[]),_.prototype.__reset.call(this,e,t,r),this.__init(e,r),this.__hasDes=!1,this},u.prototype.__destroy=function(){return this.__hash={},this.__cache={},this.__names=null,this.__classes=null,this.__ids=null,this.__inline=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this},Object.keys(_).forEach(function(e){u[e]=_[e]});var M={names:{get:function(){return this.__names||(this.__names=[])}},style:{get:function(){return this.__style},set:function(e){var t=this;t.__style=e,t.parent instanceof u||v.lie&&t.parent&&t.parent.__migiVD?t.__names=t.parent.names.slice():t.__names=[],t.__names.push(t.name),t.children.forEach(function(t){d(t,e)})}}};v.lie||Object.defineProperties(u.prototype,M),t["default"]=u},function(e,t){function r(e,t){this.context=e,this.cb=t}t["default"]=r},function(e,t,r){function n(e,t,r){i.hasOwnProperty("default")&&(i=i["default"]),this.k=e,this.context=t,this.cb=r,this.setV(r.call(t))}var i=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}();n.prototype.setV=function(e){this.v=a.clone(e)},n.prototype.toString=function(e){if(Array.isArray(this.v))return a.joinArray(this.v,e);var t=a.stringify(this.v);return e?a.encodeHtml(t,e):this.v instanceof i||o.lie&&this.v&&this.v.__migiEL?t:a.encodeHtml(t)},n.prototype.update=function(e){var t=this.cb.call(this.context);return a.equal(e,t)?void 0:(this.setV(t),!0)},t["default"]=n},function(e,t){function r(e){this.sid=n++,this.hash={},this.hash[e]=!0}var n=0;r.prototype.add=function(e){this.hash[e]=!0},r.prototype.has=function(e){return this.hash.hasOwnProperty(e)},r.now=function(){return n},r.gen=function(){return n++},t["default"]=r},function(e,t){function r(e,t,i,a){if(!(t>=i)){var o=t,s=i,u=o,c=e[u],f=!0;e:for(;s>o;)if(f){for(;s>o;s--)if(a&&a.call(e,c,e[s])||!a&&c>e[s]){n(e,u,s),u=s,f=!f;continue e}}else for(;s>o;o++)if(a&&a.call(e,e[o],c)||!a&&c<e[o]){n(e,u,o),u=o,f=!f;continue e}r(e,t,u,a),r(e,u+1,i,a)}}function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}e.exports=function(e,t){if(!Array.isArray(e))throw new Error("quick sort need an array");return e.length<2?e:(r(e,0,e.length-1,t),e)}},function(e,t){t["default"]={TEXT:0,DOM:1}},function(e,t,r){function n(){return i.call(this),this.$=this.$$=this,this.uid="m"+c++,this.__name=this.constructor.__migiName,this.__ref=[],this.__bridgeHash={},this.on(i.DATA,this.__onData),o.lie?(this.__migiMD=this,this.__hackLie(n,f)):void 0}var i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),o=(function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}()),s=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}(),c=0;!function(){var e=Object.create(i.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__data=function(e){var t=this;t.emit(i.DATA,e);var r=t.__stream||new u(t.uid);t.__bridgeHash&&Object.keys(t.__bridgeHash).forEach(function(e){var n=t.__bridgeHash[e];n.forEach(function(n){var o=n.target,s=n.name,u=n.middleware;r.has(o.uid)||(r.add(o.uid),o instanceof a?o.emit(i.DATA,s,u?u.call(t,t[e]):t[e],r):(o.__stream=r,o[s]=u?u.call(t,t[e]):t[e],o.__stream=null))})})},n.prototype.__onData=function(e,t){e="model."+e,this.__ref.forEach(function(r){r.emit(i.DATA,e,t)})},n.prototype.__add=function(e){-1==this.__ref.indexOf(e)&&this.__ref.push(e)},n.prototype.__del=function(e){var t=this.__ref.indexOf(e);t>-1&&this.__ref.splice(t,1)},Object.keys(i).forEach(function(e){n[e]=i[e]}),["__record","bridge","bridgeTo","__brcb"].forEach(function(e){n.prototype[e]=s.prototype[e]});var f={};["name"].forEach(function(e){f[e]={get:function(){return this["__"+e]}}}),o.lie||Object.defineProperties(n.prototype,f),t["default"]=n},function(e,t,r){var n=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),i=4096,a=new Array(i),o={index:0,add:function(e){!n.lie&&!e.__hasDes&&this.index<i&&(a[this.index++]=e,e.__hasDes=!0)},get:function(){return a[--this.index]}};t["default"]=o},function(e,t){var r={};t["default"]={get:function(e){return r[e]},set:function(e){return r[e.uid]=e,e}}},function(e,t){var r={constructor:!0,style:!0,children:!0},n={$:!0,$$:!0,model:!0,style:!0,children:!0},i={gs:function(e,t){return t=[].slice.call(arguments,1),t.forEach(function(t){t&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e},ref:function(e,t,i){for(var a in e)e.hasOwnProperty(a)&&!n.hasOwnProperty(a)?!function(t){i[t]={get:function(){return e[t]},set:function(r){e[t]=r}}}(a):r.hasOwnProperty(a)||(t[a]=e[a]);return i.constructor={get:function(){return e.constructor}},e.hasOwnProperty("children")&&(i.children={get:function(){return e.children}}),e}};t["default"]=i},function(e,t,r){function n(e,t,r){for(var a="",o=e.shift(),s=t.length;s>o;o++){var c=t[o];if(e.length){if(a+=c instanceof f?n(e,c.v,r):n(e,c,r),r.end)break}else if(c instanceof f)if(Array.isArray(c.v)){if(a+=i(c.v,r),r.end)break}else{if(c.v instanceof u||d.lie&&c.v&&c.v.__migiEL){r.end=!0;break}a+=c.toString()}else{if(c instanceof u||d.lie&&c&&c.__migiEL){r.end=!0;break}if(Array.isArray(c)){if(a+=i(c,r),r.end)break}else a+=l.stringify(c)}}return a}function i(e,t){for(var r="",n=0,a=e.length;a>n;n++){var o=e[n];if(t.end)break;if(Array.isArray(o))r+=i(o,t);else{if(o instanceof u||d.lie&&o&&o.__migiEL){t.end=!0;break}r+=l.stringify(o)}}return r}function a(e,t,r){c.hasOwnProperty("default")&&(c=c["default"]);var i=n(e.index,t,{}),a=r.childNodes,o=a[e.start];if(1!=o.nodeType){var s=d.lie?o.nodeValue:o.textContent;if(i!=s)if(/&([a-z]+|#\d+);/i.test(i)){var u=d.NODE;u.innerHTML=l.encodeHtml(i),r.replaceChild(u.firstChild,o)}else d.lie?o.nodeValue=i:o.textContent=i}}function o(e,t){return c.hasOwnProperty("default")&&(c=c["default"]),n(e.index,t,{})}function s(e,t){(t.first||t.prev==h.DOM)&&(t.record=e.slice())}var u=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e;
}(),f=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),h=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}();t.update=a,t.value=o,t.record=s},function(e,t,r){function n(e){return e=[].slice.call(arguments,0),a.apply(this,[].concat(Array.from(e))),this.__handler={},this.__bridgeHandler={},this.__ccb=!1,this.__bcb=!1,this.__flag=!1,o.lie?(this.__migiCC=!0,this.__hackLie(n)):void 0}var i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),o=(function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}()),s=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}();!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__data=function(e){var t=this;if(t.__handler.hasOwnProperty(e)){var r=t.__handler[e];if(t.__stream)r instanceof u?r.sid<t.__stream.sid&&(t.__handler[e]=t.__stream):r<t.__stream.sid&&(t.__handler[e]=t.__stream);else{var n=u.now();r instanceof u?r.sid<=n&&(t.__handler[e]=n):n>r&&(t.__handler[e]=n)}}else t.__handler[e]=t.__stream||u.gen();t.__ccb||(t.__ccb=!0,setTimeout(function(){t.__ccb=!1;var r=t.__handler,n=Object.keys(r);t.__handler={},n.length&&(t.emit(i.DATA,n.length>1?n:n[0]),n.forEach(function(n){var a=r[n];if(a instanceof u){var o=t.__bridgeHash[n];o&&o.forEach(function(r){var n=r.target,i=r.name,o=r.middleware;a.has(n.uid)||(a.add(n.uid),n.__stream=a,n[i]=o?o.call(t,t[e]):t[e],n.__stream=null)})}else{var o=t.__bridgeHash[n];o&&(a=new u(t.uid),o.forEach(function(r){var n=r.target,o=r.name,u=r.middleware;a.add(n.uid),n instanceof s?n.emit(i.DATA,o,u?u.call(t,t[e]):t[e],a):(n.__stream=a,n[o]=u?u.call(t,t[e]):t[e],n.__stream=null)}))}}))},1))},Object.keys(a).forEach(function(e){n[e]=a[e]}),t["default"]=n},function(e,t,r){function n(e){return e=[].slice.call(arguments,0),i.apply(this,[].concat(Array.from(e))),a.lie?(this.__migiNV=!0,this.__hackLie(n)):void 0}var i=(function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}()),a=(function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}());!function(){var e=Object.create(i.prototype);e.constructor=n,n.prototype=e}(),n.prototype.toString=function(){return""},n.prototype.__onDom=function(){this.__dom=!0,i.fakeDom(this.children)},Object.keys(i).forEach(function(e){n[e]=i[e]}),t["default"]=n},function(e,t,r){var n=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),i=0,a=1,o=2,s=1,u=2,c={button:{disabled:s},input:{autofocus:s,checked:s,defaultChecked:u,defaultchecked:u,defaultValue:u,defaultvalue:u,disabled:s,multiple:s,readOnly:s,readonly:s,required:s},link:{disabled:s},option:{defaultSelected:u,defaultselected:u,disabled:s,selected:s,text:u},select:{autofocus:s,disabled:s,multiple:s,selectedIndex:u,selectedindex:u},textarea:{autofocus:s,defaultValue:u,defaultvalue:u,disabled:s,readOnly:s,readonly:s}},f={button:{disabled:o},input:{autofocus:o,checked:o,defaultChecked:o,defaultchecked:o,defaultValue:a,defaultvalue:a,disabled:o,readOnly:o,readonly:o,required:o,value:a},link:{checked:o},option:{defaultSelected:o,defaultselected:o,disabled:o,selected:o,text:a},select:{autofocus:o,disabled:o,required:o,selectedIndex:i,selectedindex:i,value:a},textarea:{autofocus:o,defaultValue:a,defaultvalue:a,disabled:o,readOnly:o,readonly:o,required:o,value:a}},l={defaultchecked:"defaultChecked",defaultselected:"defaultSelected",defaultvalue:"defautlValue",readonly:"readOnly",selectindex:"selectIndex"};t["default"]={RENDER_EXIST:s,RENDER_DOM:u,special:function(e,t){if(c.hasOwnProperty(e)){var r=c[e];if(r.hasOwnProperty(t))return r[t]}},update:function(e,t,r,s,u){if(f.hasOwnProperty(e)){var c=f[e];if(c.hasOwnProperty(r)){switch(c=c[r],r=l[r]||r,c){case i:s=parseInt(s),t[r]=s||0;break;case a:s=n.stringify(s),t[r]=s;break;case o:s=!!s,t[r]=s}return}}switch(r){case"className":r="class";case"id":case"class":u&&(r="migi-"+r);default:null===s||void 0===s?t.removeAttribute(r):t.setAttribute(r,s)}}}},function(e,t,r){function n(e,t,r,n,i){var a;if(i){var o=y.stringify(n);if(o){var s=g.NODE;s.innerHTML=y.encodeHtml(o),a=s.firstChild}else a=document.createTextNode("");r>=t.length?e.appendChild(a):e.replaceChild(a,t[r]),(n instanceof migi.NonVisualComponent||g.lie&&n&&n.__migiNV)&&n.emit(_.DOM)}else{if(a=n.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",a);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("afterend",a),e.removeChild(t[r]);else{var s=g.getParent(n.name);s.innerHTML=a,e.replaceChild(s.firstChild,t[r])}n.emit(_.DOM)}}function i(e,t,r,n,i){var a;if(i){var o=y.stringify(n);if(o){var s=g.NODE;s.innerHTML=y.encodeHtml(o),a=s.firstChild}else a=document.createTextNode("");r>=t.length?e.appendChild(a):e.insertBefore(a,t[r]),(n instanceof migi.NonVisualComponent||g.lie&&n&&n.__migiNV)&&n.emit(_.DOM)}else{if(a=n.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",a);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("beforebegin",a);else{var s=g.getParent(n.name);s.innerHTML=a,e.insertBefore(s.firstChild,t[r])}n.emit(_.DOM)}}function a(e,t,r,n,o,s,u){if(Array.isArray(t)){o.push(0);for(var f=0,l=Math.max(t.length,1);l>f;f++){var d=t[f];o[o.length-1]=f,a(e,d,r,n,o,s,u&&f==l-1)}o.pop()}else if(t instanceof p&&!(t instanceof migi.NonVisualComponent)||g.lie&&t&&t.__migiEL&&!t.__migiNV){if(s.hasOwnProperty("prev")){if(n.prev==b.TEXT&&n.start++,i(e,e.childNodes,n.start++,t),u)switch(s.state){case k:case E:n.t2d=!0;break;default:delete n.d2t}}else{switch(s.state=n.state,n.state){case E:n.start++;break;case k:c(r,n),n.start++,n.t2d=!0;break;case A:n.t2d=!0}i(e,e.childNodes,n.start++,t)}s.d=!0,s.prev=n.prev=b.DOM,n.state=P}else{if(s.hasOwnProperty("prev")){if(n.prev==b.DOM?(O.record(o,n),i(e,e.childNodes,n.start,t,!0)):c(r,n),u&&s.d)switch(c(r,n),s.state){case P:case A:delete n.t2d;break;default:delete n.d2t}}else switch(h(n,e,t,r,o),s.state=n.state,n.state){case E:n.d2t=!0;case k:c(r,n);break;case A:O.record(o,n),i(e,e.childNodes,n.start,t,!0),c(r,n);break;case P:O.record(o,n),i(e,e.childNodes,n.start,t,!0),n.d2t=!0}s.prev=n.prev=b.TEXT,n.state=k}}function o(e,t,r,n,i,a){if(Array.isArray(t)){var u=t.length;t.forEach(function(t,s){o(e,t,r,n,i,a&&s==u-1)})}else if(t instanceof p&&!(t instanceof migi.NonVisualComponent)||g.lie&&t&&t.__migiEL&&!t.__migiNV){if(i.hasOwnProperty("prev")){if(i.prev==b.TEXT?(i.d&&s(e,n.start+1),s(e,n.start+1)):n.prev==b.TEXT?s(e,n.start+1):s(e,n.start),a)switch(n.state){case k:case E:n.d2t=!0;break;default:delete n.t2d}}else switch(n.state){case E:s(e,n.start+1),n.state=k,n.prev=b.TEXT,n.d2t=!0;break;case k:s(e,n.start+1),n.prev=b.TEXT,n.d2t=!0;break;case A:s(e,n.start),n.state=P,n.prev=b.DOM;break;case P:s(e,n.start),n.prev=b.DOM}i.d=!0,i.prev=b.DOM,w.add(t.__destroy())}else{if(i.hasOwnProperty("prev")){if(i.prev==b.DOM&&c(r,n),a&&i.d)switch(s(e,n.start+1),n.state){case P:case A:n.t2d=!0;break;default:delete n.d2t}}else switch(n.state){case E:s(e,n.start+1),c(r,n),n.state=k,n.prev=b.TEXT;break;case k:c(r,n),n.prev=b.TEXT;break;case P:s(e,n.start),n.state=P,n.prev=b.DOM,n.t2d=!0;break;case A:n.prev=b.DOM,n.t2d=!0}i.prev=b.TEXT}}function s(e,t){e.removeChild(e.childNodes[t])}function u(e,t){return(void 0===e||null===e)&&(e=""),(void 0===t||null===t)&&(t=""),e.toString()==t.toString()}function c(e,t){var r=e.length;(!r||e[r-1].start<t.start)&&e.push({start:t.start,index:t.record.slice()})}function f(e,t){if(e!==t){var r=e.element;t.uid=e.uid,t.__element=r,t.__parent=e.__parent,t.__top=e.__top,t.__style=e.__style,t.__dom=e.__dom,t.__names=e.__names;var n=Object.keys(e.props),i=Object.keys(t.props),s={};n.forEach(function(r){if(!/^on[A-Z]/.test(r)){s[r]=!0;var n=e.props[r],i=t.props[r];n!==i&&e.__updateAttr(r,i)}}),e.__removeListener(),i.forEach(function(e){if(/^on[A-Z]/.test(e)){var r=e.slice(2).replace(/[A-Z]/g,function(e){return e.toLowerCase()});t.__addListener(r,function(r){var n=t.props[e];n instanceof m?n.cb.call(n.context,r):n(r)})}else s.hasOwnProperty(e)||t.__updateAttr(e,t.props[e])});for(var u,c=e.children.length,f=t.children.length,l=[],h={start:0,record:[],first:!0},_=0,p=Math.min(c,f);p>_;_++){var v=e.children[_],y=t.children[_];u=[_],d(r,v,y,l,h,u)}var g={};if(c>_)for(;c>_;_++)o(r,e.children[_],l,h,g,_==c-1);else if(f>_)for(;f>_;_++)u[u.length-1]=_,a(r,t.children[_],l,h,u,g,_==f-1);if(l.length){if("textarea"==t.name)return void t.__updateAttr("value",O.value(l[0],t.children));l.forEach(function(e){O.update(e,t.children,r)})}w.add(e.__destroy())}}function l(e,t,r,n,i,a){v.hasOwnProperty("default")&&(v=v["default"]),i.first||(i.prev==b.TEXT?i.state=k:i.state=P),d(e,t,r,n,i,a),i.t2d||i.d2t||(i.state==A?i.t2d=!0:i.state==E&&(i.d2t=!0))}function d(e,t,r,s,l,m){var y=Array.isArray(t),D=Array.isArray(r);if(y&&D){var T=t.length,M=r.length,L=T?1:0,C=M?2:0;switch(m.push(0),l.first&&O.record(m,l),L+C){case 0:l.state=k,l.prev=b.TEXT;break;case 1:d(e,t[0],r[0],s,l,m);for(var S={},N=1;T>N;N++)o(e,t[N],s,l,S,N==T-1);break;case 2:d(e,t[0],r[0],s,l,m);for(var S={},N=1;M>N;N++)m[m.length-1]=N,a(e,r[N],s,l,m,S,N==M-1);break;case 3:for(var N=0,x=Math.min(T,M);x>N;N++)m[m.length-1]=N,d(e,t[N],r[N],s,l,m);var S={};if(T>N)for(;T>N;N++)o(e,t[N],s,l,S,N==T-1);else if(M>N)for(;M>N;N++)m[m.length-1]=N,a(e,r[N],s,l,m,S,N==M-1)}m.pop()}else if(y){d(e,t[0],r,s,l,m);for(var S={},N=1,x=t.length;x>N;N++)o(e,t[N],s,l,S,N==x-1)}else if(D){m.push(0),d(e,t,r[0],s,l,m);for(var S={},N=1,x=r.length;x>N;N++)m[m.length-1]=N,a(e,r[N],s,l,m,S,N==x-1);m.pop()}else{var j=t instanceof p&&!(t instanceof migi.NonVisualComponent)||g.lie&&t&&t.__migiEL&&!t.__migiNV?1:0,V=r instanceof p&&!(r instanceof migi.NonVisualComponent)||g.lie&&r&&r.__migiEL&&!r.__migiNV?2:0;switch(j+V){case 0:l.first||h(l,e,r,s,m),O.record(m,l);var H=e.childNodes;if(l.first)u(t,r)||c(s,l);else if(u(t,r))switch(l.state){case E:c(s,l),e.removeChild(H[l.start+1]);break;case A:c(s,l),i(e,H,l.start,r,!0)}else switch(l.state){case E:c(s,l),e.removeChild(H[l.start+1]);break;case A:c(s,l),i(e,H,l.start,r,!0);break;case P:O.record(m,l);case k:u(t,r)||c(s,l)}l.state=k,l.prev=b.TEXT;break;case 1:O.record(m,l);var H=e.childNodes;if(l.first)n(e,H,l.start,r,!0);else switch(l.state){case E:case k:c(s,l),e.removeChild(H[l.start+1]);break;case A:n(e,H,l.start++,r,!0);break;case P:n(e,H,l.start,r,!0)}w.add(t.__destroy()),l.state=E,l.prev=b.TEXT;break;case 2:var H=e.childNodes;if(l.first)n(e,H,l.start++,r);else switch(l.state){case E:l.start++;case P:n(e,H,l.start++,r);break;case A:i(e,H,l.start++,r);break;case k:c(s,l),i(e,H,++l.start,r),l.start++}l.state=A,l.prev=b.DOM;break;case 3:if(!l.first){switch(l.state){case E:case k:l.start++}delete l.t2d,delete l.d2t}var $=t instanceof v||g.lie&&t&&t.__migiCP?1:0,X=r instanceof v||g.lie&&r&&r.__migiCP?2:0;switch($+X){case 0:t.name==r.name?f(t,r):(e=t.element,e.insertAdjacentHTML("afterend",r.toString()),e.parentNode.removeChild(e),r.emit(_.DOM),w.add(t.__destroy()));break;default:e=t.element,e.insertAdjacentHTML("afterend",r.toString()),e.parentNode.removeChild(e),r.emit(_.DOM),w.add(t.__destroy())}l.state=P,l.prev=b.DOM,l.start++}(r instanceof migi.NonVisualComponent||g.lie&&r&&r.__migiNV)&&r.emit(_.DOM)}l.first=!1}function h(e,t,r,n,a){e.t2d?(delete e.t2d,O.record(a,e),i(t,t.childNodes,e.start,r,!0)):e.d2t&&(delete e.d2t,c(n,e),s(t,e.start+1))}var _=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),p=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),v=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),y=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),g=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),O=function(){var e=r(17);return e.hasOwnProperty("default")?e["default"]:e}(),w=function(){var e=r(14);return e.hasOwnProperty("default")?e["default"]:e}(),b=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}(),E=0,P=1,A=2,k=3;t.diff=l,t.check=h},function(e,t){t["default"]=function(e){e.target||(e.target=e.srcElement||document,e.metaKey=!!e.metaKey,e.stopPropagation=function(){e.cancelBubble=!0},e.preventDefault=function(){e.returnValue=!1}),3==e.target.nodeType&&(e.target=e.target.parentNode)}},function(e,t,r){function n(e,t,r,n,a,s){o.hasOwnProperty("default")&&(o=o["default"]);var c=[],f={};i(e.length-1,e,t,r,n,a,c,String(e.length-1),f,s),u(c,function(e,t){var r=e[2],n=t[2];if(r==n)return e[0]>t[0];for(var i=0;3>i;i++)if(r[i]!=n[i])return r[i]>n[i];return e[0]>t[0]});var l="";return c.forEach(function(e){l+=e[1]+";"}),l}function i(e,t,r,n,o,f,l,d,h,_){var p;h[d]=!0;var v=[];v.push(t[e]);var m=0;r[e]&&(v.push(r[e]),m=1);var y=0;switch(n[e]&&(v.push(n[e]),y=2),u(v,function(e,t){return t>e}),o.hasOwnProperty("_*")&&v.push("*"),m+y){case 1:v.push(v[0]+v[1]),o.hasOwnProperty("_*.")&&v.push("*"+v[1]);break;case 2:v.push(v[0]+v[1]),o.hasOwnProperty("_*#")&&v.push("*"+v[1]);break;case 3:v.push(v[0]+v[1]),v.push(v[0]+v[2]),v.push(v[1]+v[2]),v.push(v[0]+v[1]+v[2]),o.hasOwnProperty("_*.")&&v.push("*"+v[1]),o.hasOwnProperty("_*#")&&v.push("*"+v[2]),o.hasOwnProperty("_*.#")&&v.push("*"+v[1]+v[2])}for(var g=0,O=v.length;O>g;g++){var w=v[g];if(o.hasOwnProperty(w)){var b=o[w];if(e){i(e-1,t,r,n,b,f.parent,l,d+","+(e-1)+":"+g,h);for(var E=e-2;E>=0;E--){var P=d+","+E+":"+g;h.hasOwnProperty(P)||i(E,t,r,n,b,f.parent,l,P,h)}}b.hasOwnProperty("_v")&&a(l,b),_&&b.hasOwnProperty("_:")&&b["_:"].forEach(function(e){e[0].forEach(function(e){var t=f.element;switch(e){case"hover":f.on(s.DOM,function(){c.lie&&t.attachEvent?(f.element.attachEvent("onmouseenter",function(e){f.__hover=!0,f.__updateStyle()}),f.element.attachEvent("onmouseleave",function(e){f.__hover=!1,f.__updateStyle()})):(f.element.addEventListener("mouseenter",function(e){f.__hover=!0,f.__updateStyle()}),f.element.addEventListener("mouseleave",function(e){f.__hover=!1,f.__updateStyle()}))});break;case"active":f.on(s.DOM,function(){c.lie&&t.attachEvent?(f.element.attachEvent("onmousedown",function(e){f.__active=!0,f.__updateStyle()}),document.body.attachEvent("onmouseup",function(e){f.__active=!1,f.__updateStyle()},!0),window.attachEvent("onblur",function(e){f.__active=!1,f.__updateStyle()}),window.attachEvent("ondragend",function(e){f.__active=!1,f.__updateStyle()})):(f.element.addEventListener("mousedown",function(e){f.__active=!0,f.__updateStyle()}),document.body.addEventListener("mouseup",function(e){f.__active=!1,f.__updateStyle()},!0),window.addEventListener("blur",function(e){f.__active=!1,f.__updateStyle()}),window.addEventListener("dragend",function(e){f.__active=!1,f.__updateStyle()}))})}})}),(b.hasOwnProperty("_:")||b.hasOwnProperty("_["))&&!function(){function o(o){if(o&&o.hasOwnProperty("_[")){var s=o["_["];s.forEach(function(o){var u=o[0],c=!0;e:for(var _=0,p=u.length;p>_;_++){var v=u[_];if(1==v.length){if(!f.__cache.hasOwnProperty(v[0])){c=!1;break}}else{var m=f.__cache[v[0]];if(void 0===m){c=!1;break e}var y=v[2];switch(v[1]){case"=":c=m==y;break;case"^=":c=0==m.indexOf(y);break;case"$=":c=m.length>=y.length&&m.indexOf(y)==m.length-y.length;break;case"~=":var g=new RegExp("\\b"+y+"\\b");c=g.test(m);break;case"*=":c=m.indexOf(y)>-1;break;case"|=":c=0==m.indexOf(y)||0==m.indexOf(y+"-");break;default:c=!1;break e}if(!c)break e}}c&&(s=o[1],e&&i(e-1,t,r,n,s,f.parent,l,d+","+(e-1)+":"+_,h),s.hasOwnProperty("_v")&&a(l,s))})}}b.hasOwnProperty("_:")&&(p=b["_:"],p.forEach(function(o){var s=o[0],u=!0;e:for(var c=0,_=s.length;_>c;c++)switch(s[c]){case"hover":if(!f.__hover){u=!1;break e}break;case"active":if(!f.__active){u=!1;break e}break;case"first-child":if(!f.isFirst()){u=!1;break e}break;case"last-child":if(!f.isLast()){u=!1;break e}break;default:u=!1}u&&(p=o[1],e&&i(e-1,t,r,n,p,f.parent,l,d+","+(e-1)+":"+c,h),p.hasOwnProperty("_v")&&a(l,p))})),o(b),o(p)}()}}}function a(e,t){t._v.forEach(function(r){r[2]=t._p,e.push(r)})}var o=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}();t["default"]=n},function(e,t,r){var n=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(13);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(19);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(18);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),h=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),_=function(){var e=r(14);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),p=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),v=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(16);return e.hasOwnProperty("default")?e["default"]:e}(),y=function(){var e=r(15);return e.hasOwnProperty("default")?e["default"]:e}(),g={render:function(e,t){return t&&e.inTo(t),e},createCp:function(e,t,r){return y.set(new e(t,r))},createVd:function(e,t,r){if({script:!0,style:!0}.hasOwnProperty(e.toLowerCase()))throw new Error("can not create style/script VirtualDom: "+e);return y.set(_.index?_.get().__reset(e,t,r):new u(e,t,r))},Event:n,Model:o,EventBus:a,eventBus:new a,Element:i,Component:s,NonVisualComponent:c,CacheComponent:f,VirtualDom:u,Obj:d,Cb:h,util:l,browser:p,sort:v,mix:m};"undefined"!=typeof window&&(window.migi=g),t["default"]=g},function(e,t,r){e.exports=r(24)["default"]}]);