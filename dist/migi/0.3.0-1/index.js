!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(19)},function(e,t){var r=document.createElement("div"),n=document.createElement("table"),i=document.createElement("tbody"),a=document.createElement("tr"),o=document.createElement("ul"),s=document.createElement("dl"),c=document.createElement("select"),u=document.createElement("menu"),l={lie:!1,NODE:r,getParent:function(e){switch(e){case"td":return a;case"tr":return i;case"tbody":case"thead":case"col":return n;case"li":return o;case"dt":case"dd":return s;case"option":return c;case"menuitem":return u;default:return r}}};t["default"]=l},function(e,t,r){function n(e){if(e instanceof c)return e;if(a(e))return e;var t=Array.isArray(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];i instanceof c||u.lie&&i&&i.__migiEL?t[r]=i:h.isDate(i)?t[r]=new Date(i):t[r]=h.isObject(i)?n(i):i}return t}function i(e){return function(t){return l.call(t)=="[object "+e+"]"}}function a(e){return void 0===e||null===e||h.isBoolean(e)||h.isNumber(e)||h.isString(e)}function o(e,t){if(e instanceof c||t instanceof c||u.lie&&(e&&e.__migiEL||t&&t.__migiEL))return e==t;if(a(e)||a(t))return e===t;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(var r=0,n=e.length;n>r;r++)if(!o(e[r],t[r]))return!1;return!0}if(h.isDate(e))return h.isDate(t)?e-t==0:!1;if(h.isObject(e)){if(!h.isObject(t))return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(var r=0,n=i.length;n>r;r++)if(!t.hasOwnProperty(r)||!o(e[r],t[r]))return!1;return!0}}function s(e,t){var r="";return e.forEach(function(e){r+=Array.isArray(e)?s(e):e instanceof c||u.lie&&e&&e.__migiEL?e.toString():void 0===e||null===e?"":h.encodeHtml(e.toString(),t)}),r}var c=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),l={}.toString,f={constructor:!0},h={clone:function(e){return c.hasOwnProperty("default")&&(c=c["default"]),n(e)},isObject:i("Object"),isString:i("String"),isFunction:i("Function"),isNumber:i("Number"),isBoolean:i("Boolean"),isDate:i("Date"),equal:function(e,t){return c.hasOwnProperty("default")&&(c=c["default"]),o(e,t)},encodeHtml:function(e,t){return t?e.replace(/"/g,"&quot;"):e.replace(/</g,"&lt;")},joinArray:function(e,t){return c.hasOwnProperty("default")&&(c=c["default"]),s(e,t)},smix:function(e,t){return t=[].slice.call(arguments,1),t.forEach(function(t){h.pmix(e,t,!0)}),e},pmix:function(e,t,r){for(var n in t)f.hasOwnProperty(n)||(!r||t.hasOwnProperty(n))&&(e[n]=t[n]);return e}};t["default"]=h},function(e,t,r){function n(){this.__hash={},i.lie&&(this.__migiEV=this)}var i=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}();n.prototype.on=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.on(e,t)});else if(t){r.__hash.hasOwnProperty(e)||(r.__hash[e]=[]);for(var n=0,i=r.__hash[e],a=i.length;a>n;n++)if(i[n]===t)return r;r.__hash[e].push(t)}return r},n.prototype.once=function(e,t){var r=this;return Array.isArray(e)?e.forEach(function(e){r.once(e,t)}):t&&r.on(e,function(n){n=[].slice.call(arguments,0),t.apply(this,n),r.off(e,arguments.callee)}),this},n.prototype.off=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.off(e,t)});else if(r.__hash.hasOwnProperty(e))if(t){for(var n=0,i=r.__hash[e],a=i.length;a>n;n++)if(i[n]===t){i.splice(n,1);break}}else delete r.__hash[e];return this},n.prototype.emit=function(e,t){t=[].slice.call(arguments,1);var r=this;if(Array.isArray(e))e.forEach(function(e){r.emit(e,t)});else if(r.__hash.hasOwnProperty(e)){var n=r.__hash[e].slice();n.forEach(function(e){i.lie&&r instanceof migi.Component&&r.__migiNode==r&&r.__migiCP?e.apply(r.__migiNode,t):e.apply(r,t)})}return this},n.mix=function(e){e=[].slice.call(arguments,0),e.forEach(function(e){var t=new n;e.__hash={};var r=["on","once","off","emit"];r.forEach(function(r){e[r]=t[r]})})},n.DOM="__0",n.DESTROY="__1",n.DATA="__2",n.CACHE_DATA="__3",t["default"]=n},function(e,t,r){function n(e){return o.isString(e)?document.querySelector(e):e}function i(e,t,r){a.call(this),this.__uid=c++,this.__reset(e,t,r)}var a=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),c=0;!function(){var e=Object.create(a.prototype);e.constructor=i,i.prototype=e}(),i.prototype.__reset=function(e,t,r){this.__name=e,this.__props=t,this.__children=r,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(a.DOM,this.__onDom),s.lie&&(this.__migiEL=this,this.__migiGS=u)},i.prototype.__clean=function(){this.$dom&&this.$element.parentNode.removeChild(this.$element)},i.prototype.__onDom=function(){this.__dom=!0},i.prototype.__saveRef=function(){if(this.__cache.ref){var e=this.$top;if(e){var t=e.$ref[this.$name];Array.isArray(t)?t.push(this):t?e.$ref[this.$name]=[t,this]:e.$ref[this.$name]=this}}},i.prototype.__hackLie=function(e,t){if(this.__migiGS=o.smix({},this.__migiGS,t),this.constructor==e){var r=document.createElement("a");return this.__migiNode=r.__migiNode=r,o.pmix(r,this),Object.defineProperties(r,this.__migiGS),r}},i.prototype.$inTo=function(e){this.__clean();var t=this.toString();n(e).innerHTML=t,this.emit(a.DOM)},i.prototype.$appendTo=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("beforeend",t),this.emit(a.DOM)},i.prototype.$prependTo=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterbegin",t),this.emit(a.DOM)},i.prototype.$before=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("beforebegin",t),this.emit(a.DOM)},i.prototype.$after=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterend",t),this.emit(a.DOM)},i.prototype.$replace=function(e){this.__clean();var t=this.toString();e=n(e),e.insertAdjacentHTML("afterend",t),e.parentNode.removeChild(e),this.emit(a.DOM)},i.__clean=function(){c=0},Object.keys(a).forEach(function(e){i[e]=a[e]});var u={$top:{get:function(){return!this.__top&&this.$parent&&(this.$parent instanceof migi.Component||this.$parent&&this.$parent.__migiCP?this.__top=this.$parent:this.__top=this.$parent.$top),this.__top}},$element:{get:function(){return this.__element||(this.__element=document.querySelector(this.$name+'[migi-uid="'+this.$uid+'"]'))}},$parent:{get:function(){var e=this.__parent;return s.lie&&e?e.__migiNode:e}}};["name","props","children","uid","dom"].forEach(function(e){u["$"+e]={get:function(){return this["__"+e]}}}),s.lie||Object.defineProperties(i.prototype,u),t["default"]=i},function(e,t,r){function n(e,t,r){void 0===t&&(t={}),void 0===r&&(r=[]);var o=this;return a.call(this,e,t,r),o.__virtualDom=null,o.__ref={},o.__stop=null,Object.keys(t).forEach(function(e){if(/^on[A-Z]/.test(e)){var r=e.slice(2).replace(/[A-Z]/g,function(e){return e.toLowerCase()}),n=t[e];o.on(r,function(e){e=[].slice.call(arguments,0),n.apply(this,[].concat(Array.from(e)))})}}),o.on(i.DATA,o.__onData),c.lie?(o.__migiCP=this,o.__hackLie(n,h)):void 0}var i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),l={},f=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touch","touchstart","touchmove","touchend"];!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),n.prototype.render=function(){return new o("div",this.$props,this.$children)},n.prototype.toString=function(){return this.__virtualDom=this.render(),this.$virtualDom.__parent=this,this.__style&&(this.$virtualDom.$style=this.__style),this.$virtualDom.toString()},n.prototype.$findChild=function(e){return this.$findChildren(e,!0)[0]},n.prototype.$findChildren=function(e,t){for(var r=[],i=0,o=this.$children.length;o>i;i++){var u=this.$children[i];if(u instanceof a||c.lie&&u&&u.__migiEL)if(u instanceof n){if((u.$name==e||s.isFunction(e)&&u instanceof e)&&(r.push(u),t))break}else{if((u.$name==e||s.isFunction(e)&&u instanceof e)&&(r.push(u),t))break;if(r=r.concat(u.$findAll(e)),t&&r.length)break}}return r},n.prototype.$find=function(e){return this.$findAll(e,!0)[0]},n.prototype.$findAll=function(e,t){return this.$virtualDom.$findAll(e,t)},n.prototype.__brcb=function(e,t,r){if(!l.hasOwnProperty(e.$uid)){l[e.$uid]=!0,e.__flag=!0,Array.isArray(t)||(t=[t]);for(var n=0,a=t.length;a>n;n++){var o=t[n];if(r.hasOwnProperty(o)){var c=r[o];if(e instanceof u){if(s.isFunction(c))e.emit(i.DATA,o,c(this[o]));else if(s.isString(c))e.emit(i.DATA,c,this[o]);else if(c.name){var f=c.middleware?c.middleware.call(this,this[o]):this[o];e.emit(i.DATA,c.name,f)}}else if(s.isFunction(c))e[o]=c(this[o]);else if(s.isString(c))e[c]=this[o];else if(c.name){var f=c.middleware?c.middleware.call(this,this[o]):this[o];e[c.name]=f}}}e.__flag=!1}},n.prototype.$bridge=function(e,t){var r=this;if(e==this)throw new Error("can not bridge self: "+r.$name);if(!(e instanceof u||e instanceof n||!c.lie||e.__migiCP))throw new Error("can only bridge to EventBus/Component: "+r.$name);r.on(r instanceof migi.CacheComponent&&c.lie&&r.__migiCC?i.CACHE_DATA:i.DATA,function(n,i){i!=r.__brcb&&i!=e.__brcb&&(l={},l[r.$uid]=!0),r.__brcb(e,n,t)})},n.prototype.$bridgeTo=function(e,t){e.$bridge(this,t)},n.prototype.$=function(e,t){return c.lie&&this.__migiNode==this?(arguments.length>1&&(this.__migiNode[e]=t),this.__migiNode[e]):(arguments.length>1&&(this[e]=t),this[e])},n.prototype.__onDom=function(e){function t(e){e=e||window.event,e.target!=o&&e.srcElement!=o&&(c.lie&&(e.cancelBubble=!0),e.stopPropagation&&e.stopPropagation())}a.prototype.__onDom.call(this);var r=this;r.$virtualDom.emit(i.DOM,e);var o=r.$element;o.setAttribute("migi-name",r.$name),e||r.$children==r.$virtualDom.$children||n.fakeDom(r.$children),r.$props.allowPropagation||(r.__stop=t,f.forEach(function(e){c.lie&&o.attachEvent?o.attachEvent("on"+e,t):o.addEventListener(e,t)}))},n.prototype.__onData=function(e,t){this.$virtualDom&&this.$virtualDom.__onData(e),this.$children.forEach(function(r){r instanceof n||c.lie&&r&&r.__migiCP?r.emit(i.DATA,e,t):(r instanceof o||c.lie&&r&&r.__migiVD)&&r.__onData(e)})},n.prototype.__destroy=function(){var e=this;if(e.emit(i.DESTROY),e.__hash={},e.__stop){var t=e.$element;f.forEach(function(r){c.lie&&t.attachEvent?t.detachEvent("on"+r,e.__stop):t.removeEventListener(r,e.__stop)})}return e.$virtualDom.__destroy()},n.fakeDom=function(e){Array.isArray(e)?e.forEach(function(e){n.fakeDom(e)}):e instanceof n||c.lie&&e&&e.__migiCP?e.emit(i.DOM,!0):(e instanceof o||c.lie&&e&&e.__migiVD)&&e.emit(i.DOM,!0)},Object.keys(a).forEach(function(e){n[e]=a[e]});var h={$element:{get:function(){return this.$virtualDom?this.$virtualDom.$element:null}},$style:{get:function(){return this.__style},set:function(e){this.__style=e}}};["virtualDom"].forEach(function(e){h["$"+e]={get:function(){return this["__"+e]}}}),c.lie||Object.defineProperties(n.prototype,h),t["default"]=n},function(e,t,r){function n(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r=[]),u.hasOwnProperty("default")&&(u=u["default"]),g.hasOwnProperty(e)&&r.length)throw new Error("self-close tag can not has chilren nodes: "+e);c.call(this,e,t,r);var i=this;return i.__names=null,i.__classes=null,i.__ids=null,i.__inline=null,i.__hover=!1,i.__active=!1,i.__listener=null,i.__init(e,r),l.lie?(i.__migiVD=this,i.__hackLie(n,w)):void 0}function i(e){return void 0===e||null===e||!e.toString()}function a(e){if(void 0===e||null===e)return"";if(e instanceof c||e instanceof h||l.lie&&e.__migiEL)return e.toString();if(Array.isArray(e)){var t="";return e.forEach(function(e){t+=a(e)}),t}return f.encodeHtml(e.toString())}function o(e,t){Array.isArray(e)?e.forEach(function(e){o(e,t)}):e instanceof c||l.lie&&e&&e.__migiEL?e.__parent=t:e instanceof h&&o(e.v,t)}var s=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),h=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),_=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(13);return e.hasOwnProperty("default")?e["default"]:e}(),p=function(){var e=r(17);return e.hasOwnProperty("default")?e["default"]:e}(),v=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(16);return e.hasOwnProperty("default")?e["default"]:e}(),y=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}(),g={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0},O={checked:!0,selected:!0,selectedIndex:!0,readOnly:!0,multiple:!0,defaultValue:!0,autofocus:!0,async:!0,tagName:!0,nodeName:!0,nodeType:!0};!function(){var e=Object.create(c.prototype);e.constructor=n,n.prototype=e}(),n.prototype.toString=function(){var e=this,t="<"+e.$name;if(Object.keys(e.$props).forEach(function(r){var n=e.__renderProp(r);t+=n}),e.__style){var r=e.__match(!0);r&&(t=t.indexOf(' style="')>1?t.replace(/ style="[^"]*"/,' style="'+r+'"'):t+' style="'+r+'"')}return t+=' migi-uid="'+e.$uid+'"',e.__checkListener(),e.__selfClose?t+"/>":(t+=">",t+=e.__renderChildren(),t+="</"+e.$name+">")},n.prototype.$isFirst=function(e){if(this.$parent instanceof u||l.lie&&this.$parent&&this.$parent.__migiCP)return!0;e=e||this.$parent.$children;for(var t=0,r=e.length;r>t;t++){var i=e[t];if(Array.isArray(i)&&i.length)return this.$isFirst(i);if(i==this)return!0;if(i instanceof n||l.lie&&i&&i.__migiVD)return!1;if(i instanceof h&&(i=i.v,Array.isArray(i)&&i.length))return this.$isFirst(i)}},n.prototype.$isLast=function(e){if(this.$parent instanceof u||l.lie&&this.$parent&&this.$parent.__migiCP)return!0;e=e||this.$parent.$children;for(var t=e.length-1;t>=0;t--){var r=e[t];if(Array.isArray(r)&&r.length)return this.$isLast(r);if(r==this)return!0;if(r instanceof n||l.lie&&r&&r.__migiVD)return!1;if(r instanceof h&&(r=r.v,Array.isArray(r)&&r.length))return this.$isLast(r)}},n.prototype.__renderProp=function(e){var t=this,r=t.$props[e],n="";if(/^on[A-Z]/.test(e))t.once(s.DOM,function(r){if(!r){var n=e.slice(2).replace(/[A-Z]/g,function(e){return e.toLowerCase()});t.__addListener(n,function(r){var n=t.$props[e];n instanceof _?n.cb.call(n.context,r):n(r)})}});else if(r instanceof h){var i=r.toString(!0);if("dangerouslySetInnerHTML"==e)return t.once(s.DOM,function(){t.$element.innerHTML=i}),"";t.__cache[e]=i,(!O.hasOwnProperty(e)||r.v)&&(n=" "+e+'="'+f.encodeHtml(i,!0)+'"')}else{var i=Array.isArray(r)?f.joinArray(r):void 0===r||null===r?"":r.toString();if("dangerouslySetInnerHTML"==e)return t.once(s.DOM,function(){t.$element.innerHTML=i}),"";"className"==e&&(e="class"),t.__cache[e]=i,(!O.hasOwnProperty(e)||r)&&(n=" "+e+'="'+f.encodeHtml(i,!0)+'"')}if(t.__style)switch(e){case"class":case"id":n=" migi-"+n.slice(1)}return n},n.prototype.__renderChildren=function(){var e=this,t="";return e.$children.forEach(function(e){t+=a(e)}),t},n.prototype.__checkListener=function(){var e=this;if("input"==e.$name){if(e.$props.hasOwnProperty("value")){var t=e.$props.value;t instanceof h&&e.once(s.DOM,function(){function r(e){var r=l.lie&&this==window?e.srcElement:this;t.setV(r.value);var n=t.k;t.context[n]=r.value}var n=e.__cache.type;switch((void 0===n||null===n)&&(n=""),n.toLowerCase()){case"button":case"hidden":case"image":case"file":case"reset":case"submit":break;case"checkbox":case"radio":case"range":case"color":e.__addListener("change",r);break;default:e.__addListener(["input","paste","cut"],r)}})}}else if("select"==e.$name){if(e.$props.hasOwnProperty("value")){var t=e.$props.value;t instanceof h&&e.once(s.DOM,function(){function r(e){var r=l.lie&&this==window?e.srcElement:this;t.setV(r.value);var n=t.k;t.context[n]=r.value}e.__addListener("change",r)})}}else if("textarea"==e.$name&&1==e.$children.length){var r=e.$children[0];r instanceof h&&e.once(s.DOM,function(){function t(e){var t=l.lie&&this==window?e.srcElement:this;r.setV(t.value);var n=r.k;r.context[n]=t.value}e.__addListener(["input","paste","cut"],t)})}},n.prototype.__addListener=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.__addListener(e,t)});else{if(r.__listener=r.__listener||{},r.__listener.hasOwnProperty(e)){var n=r.__listener[e];Array.isArray(n)?n.push(t):r.__listener[e]=[n,t]}else r.__listener[e]=t;var i=r.$element;if("tap"==e){if(!l.lie&&!i.attachEvent){var a=0,o=0,s=0,c=0;r.__addListener("touchstart",function(e){if(1==e.touches.length){var t=e.touches[0];a=s=t.pageX,o=c=t.pageY}}),r.__addListener("touchmove",function(e){var t=e.touches[0];s=t.pageX,c=t.pageY}),r.__addListener("touchend",function(e){(s&&Math.abs(a-s)<30||c&&Math.abs(o-c)<30)&&t(e)})}}else l.lie&&i.attachEvent?("input"==e&&(e="keyup"),i.attachEvent("on"+e,t)):i.addEventListener(e,t)}},n.prototype.__removeListener=function(){var e=this;if(e.__listener){var t=e.$element;Object.keys(e.__listener).forEach(function(r){var n=e.__listener[r];Array.isArray(n)?n.forEach(function(e){l.lie&&t.attachEvent?t.detachEvent("on"+r,e):t.removeEventListener(r,e)}):l.lie&&t.attachEvent?("input"==r&&(r="keyup"),t.detachEvent("on"+r,n)):t.removeEventListener(r,n)})}},n.prototype.$find=function(e){return this.$findAll(e,!0)[0]},n.prototype.$findAll=function(e,t){return this.__findAll(e,this.$children,[],t)},n.prototype.__findAll=function(e,t,r,n){for(var i=0,a=t.length;a>i;i++){var o=t[i];if(o instanceof c||l.lie&&o&&o.__migiEL?r=this.__findEq(e,o,r,n):o instanceof h?(o=o.v,Array.isArray(o)?r=this.__findAll(e,o,r,n):(o instanceof c||l.lie&&o&&o.__migiEL)&&(r=this.__findEq(e,o,r,n))):Array.isArray(o)&&(r=this.__findAll(e,o,r,n)),n&&r.length)break}return r},n.prototype.__findEq=function(e,t,r,n){if(t instanceof u||l.lie&&t&&t.__migiCP)(t.$name==e||f.isFunction(e)&&t instanceof e||l.lie&&t.__migiCP&&f.isFunction(e)&&t.__migiCP instanceof e)&&r.push(t);else{if((t.$name==e||f.isFunction(e)&&t instanceof e||l.lie&&t.__migiVD&&f.isFunction(e)&&t.__migiVD instanceof e)&&(r.push(t),n))return r;r=r.concat(t.$findAll(e,n))}return r},n.prototype.__onDom=function(e){c.prototype.__onDom.call(this);var t=this;if(e)return void u.fakeDom(t.$children);for(var r={start:0,first:!0},n=0,i=t.$children.length;i>n;n++){var a=t.$children[n];t.__domChild(a,n,i,r)}r.empty&&t.__insertBlank(r.start)},n.prototype.__domChild=function(e,t,r,n){var a=this;if(Array.isArray(e)&&e.length)e.forEach(function(e){a.__domChild(e,t,r,n)});else if(e instanceof c&&!(e instanceof migi.NonVisualComponent)||l.lie&&e&&e.__migiEL&&!e.__migiNV)n.empty&&(a.__insertBlank(n.start),n.empty=!1),e.emit(s.DOM),n.start++,n.first||n.prev==y.TEXT&&n.start++,n.prev=y.DOM;else if(e instanceof h)a.__domChild(e.v,t,r,n);else if(i(e)){if((e instanceof migi.NonVisualComponent||l.lie&&e&&e.__migiNV)&&e.emit(s.DOM),!n.first&&n.prev==y.TEXT)return;n.empty=!0,n.prev=y.TEXT}else n.empty=!1,n.prev=y.TEXT;n.first=!1},n.prototype.__insertBlank=function(e){var t=document.createTextNode(""),r=this.$element,n=r.childNodes,i=n.length;!i||e>=i?r.appendChild(t):r.insertBefore(t,n[e])},n.prototype.__onData=function(e){var t=this;for(var r in t.$props){var n=t.$props[r];if(n instanceof h){var i=!1;if(Array.isArray(n.k)?i=n.k.indexOf(e)>-1:e==n.k&&(i=!0),i){var a=n.v,o=n.cb.call(n.context);a!=o&&(n.setV(o),t.__updateAttr(r,o))}}}for(var s,c=[],u={start:0,record:[],first:!0},l=t.$children,f=0,_=l.length;_>f;f++){var p=l[f];s=[f],t.__checkObj(e,p,f,_,c,u,s)}if(c.length){if("textarea"==t.$name)return void t.__updateAttr("value",d.value(c[0],t.$children));c.forEach(function(e){d.update(e,t.$children,t.$element)})}},n.prototype.__checkObj=function(e,t,r,i,a,o,s){var u=this;if(t instanceof h){var f=!1,_=Array.isArray(e)?1:0,p=Array.isArray(t.k)?2:0;switch(_+p){case 0:f=e==t.k;break;case 1:f=e.indexOf(t.k)>-1;break;case 2:f=t.k.indexOf(e)>-1;break;case 3:var v={};e.forEach(function(e){v[e]=!0});for(var g=t.k,O=0,i=g.length;i>O;O++)if(v.hasOwnProperty(g[O])){f=!0;break}}if(f){var w=t.v;t.update(w)&&m.diff(this.$element,w,t.v,a,o,s)}else o.first&&d.record(s,o)}else t instanceof c||l.lie&&t&&t.__migiEL?(delete o.t2d,delete o.d2t,(t instanceof n||l.lie&&t&&t.__migiVD)&&t.__onData(e),o.start++,o.first||o.prev!=y.TEXT||o.start++,o.prev=y.DOM):Array.isArray(t)&&t.length?(s.push(0),t.forEach(function(t,n){s[s.length-1]=n,u.__checkObj(e,t,r,i,a,o,s)}),s.pop()):(m.check(o,this.$element,t,a,s),d.record(s,o),o.prev=y.TEXT);o.first=!1},n.prototype.__updateAttr=function(e,t){if("dangerouslySetInnerHTML"==e)return void(this.$element.innerHTML=t||"");switch(e){case"value":this.$element[e]=t||"";break;case"checked":case"selected":case"selectedIndex":case"readOnly":case"multiple":case"defaultValue":case"autofocus":case"async":case"tagName":case"nodeName":case"nodeType":this.$element[e]=t||!1;break;case"className":e="class";case"id":case"class":if(this.__style){null===t||void 0===t?this.$element.removeAttribute("migi-"+e):this.$element.setAttribute("migi-"+e,t);break}default:null===t||void 0===t?this.$element.removeAttribute(e):this.$element.setAttribute(e,t)}this.__cache[e]=t,this.__style&&this.__updateStyle()},n.prototype.__match=function(e){this.__inline=this.__cache.style||"";var t=this.$parent;t instanceof n||l.lie&&t&&t.__migiVD?(this.__classes=t.__classes.slice(),this.__ids=t.__ids.slice()):(this.__classes=[],this.__ids=[]);var r=(this.__cache["class"]||"").trim();r?(r=r.split(/\s+/),v(r,function(e,t){return t>e}),this.__classes.push("."+r.join("."))):this.__classes.push("");var i=(this.__cache.id||"").trim();i?this.__ids.push("#"+i):this.__ids.push("");var a=p(this.__names,this.__classes,this.__ids,this.__style,this,e);return a+this.__inline},n.prototype.__updateStyle=function(){var e=this.__match();this.$element.getAttribute("style")!=e&&this.$element.setAttribute("style",e),this.$children.forEach(function(e){(e instanceof n||l.lie&&e&&e.__migiVD)&&e.__updateStyle()})},n.prototype.__init=function(e,t){var r=this;r.__selfClose=g.hasOwnProperty(e),o(t,this)},n.prototype.__reset=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r=[]),c.prototype.__reset.call(this,e,t,r),this.__init(e,r),this.__hasDes=!1,this},n.prototype.__destroy=function(){return this.__hash={},this.__cache={},this.__names=null,this.__classes=null,this.__ids=null,this.__inline=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__hasDes=!0,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this},Object.keys(c).forEach(function(e){n[e]=c[e]});var w={$names:{get:function(){return this.__names||(this.__names=[])}},$style:{get:function(){return this.__style},set:function(e){var t=this;t.__style=e,t.$parent instanceof n||l.lie&&t.$parent&&t.$parent.__migiVD?t.__names=t.$parent.$names.slice():t.__names=[],t.__names.push(t.$name),t.$children.forEach(function(t){(t instanceof n||l.lie&&t&&t.__migiVD)&&(t.$style=e)})}}};l.lie||Object.defineProperties(n.prototype,w),t["default"]=n},function(e,t){function r(e,t){this.context=e,this.cb=t}t["default"]=r},function(e,t,r){function n(e,t,r){i.hasOwnProperty("default")&&(i=i["default"]),this.k=e,this.context=t,this.cb=r,this.setV(r.call(t))}var i=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}();n.prototype.setV=function(e){this.v=a.clone(e)},n.prototype.toString=function(e){if(Array.isArray(this.v))return a.joinArray(this.v,e);if(void 0===this.v||null===this.v)return"";var t=this.v.toString();return e?a.encodeHtml(t,e):this.v instanceof i||o.lie&&this.v&&this.v.__migiEL?t:a.encodeHtml(t,e)},n.prototype.update=function(e){var t=this.cb.call(this.context);return a.equal(e,t)?void 0:(this.setV(t),!0)},t["default"]=n},function(e,t){function r(e,t,i,a){if(!(t>=i)){var o=t,s=i,c=o,u=e[c],l=!0;e:for(;s>o;)if(l){for(;s>o;s--)if(a&&a.call(e,u,e[s])||!a&&u>e[s]){n(e,c,s),c=s,l=!l;continue e}}else for(;s>o;o++)if(a&&a.call(e,e[o],u)||!a&&u<e[o]){n(e,c,o),c=o,l=!l;continue e}r(e,t,c,a),r(e,c+1,i,a)}}function n(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}e.exports=function(e,t){if(!Array.isArray(e))throw new Error("quick sort need an array");return e.length<2?e:(r(e,0,e.length-1,t),e)}},function(e,t){t["default"]={TEXT:0,DOM:1}},function(e,t,r){function n(){i.call(this),this.uid=-1,this.__listener={},this.on(i.DATA,this.__brcb)}var i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}();!function(){var e=Object.create(i.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__brcb=function(e,t){if(this.__listener.hasOwnProperty(e))for(var r=this.__listener[e],n=0,i=r.length;i>n;n++){var s=r[n],c=s.target,u=s.v;if(c.__flag=!0,a.isFunction(u))t=u(t),c[e]=t,o.lie&&c.__migiNode&&c.__migiNode.nodeName&&(c.__migiNode[e]=t);else if(a.isString(u))c[u]=t,o.lie&&c.__migiNode&&c.__migiNode.nodeName&&(c.__migiNode[u]=t);else if(u.name){var l=u.middleware?u.middleware.call(this,t):t;c[u.name]=l,o.lie&&c.__migiNode&&c.__migiNode.nodeName&&(c.__migiNode[u.name]=t)}c.__flag=!1}},n.prototype.$bridge=function(e,t){var r=this;Object.keys(t).forEach(function(n){r.__listener[n]=r.__listener[n]||[],r.__listener[n].push({target:e,v:t[n]})})},n.prototype.$bridgeTo=function(e,t){e.$bridge(this,t)},Object.keys(i).forEach(function(e){n[e]=i[e]}),t["default"]=n},function(e,t,r){var n=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),i=4096,a=new Array(i),o={index:0,add:function(e){!n.lie&&!e.__hasDes&&this.index<i&&(a[this.index++]=e)},get:function(){return a[--this.index]}};t["default"]=o},function(e,t,r){function n(e,t,r){for(var a="",o=e.shift(),s=t.length;s>o;o++){var u=t[o];if(e.length){if(a+=u instanceof l?n(e,u.v,r):n(e,u,r),r.end)break}else if(u instanceof l)if(Array.isArray(u.v)){if(a+=i(u.v,r),r.end)break}else{if(u.v instanceof c||h.lie&&u.v&&u.v.__migiEL){r.end=!0;break}a+=u.toString()}else{if(u instanceof c||h.lie&&u&&u.__migiEL){r.end=!0;break}if(Array.isArray(u)){if(a+=i(u,r),r.end)break}else a+=void 0===u||null===u?"":u.toString()}}return a}function i(e,t){for(var r="",n=0,a=e.length;a>n;n++){var o=e[n];if(t.end)break;if(Array.isArray(o))r+=i(o,t);else{if(o instanceof c||h.lie&&o&&o.__migiEL){t.end=!0;break}r+=void 0===o||null===o?"":o.toString()}}return r}function a(e,t,r){u.hasOwnProperty("default")&&(u=u["default"]);var i=n(e.index,t,{}),a=r.childNodes,o=a[e.start];if(1!=o.nodeType){var s=h.lie?o.nodeValue:o.textContent;if(i!=s)if(/&([a-z]+|#\d+);/i.test(i)){var c=h.NODE;c.innerHTML=f.encodeHtml(i),r.replaceChild(c.firstChild,o)}else h.lie?o.nodeValue=i:o.textContent=i}}function o(e,t){return u.hasOwnProperty("default")&&(u=u["default"]),n(e.index,t,{})}function s(e,t){(t.first||t.prev==_.DOM)&&(t.record=e.slice())}var c=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),h=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),_=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}();t.update=a,t.value=o,t.record=s},function(e,t,r){function n(e){return e=[].slice.call(arguments,0),a.apply(this,[].concat(Array.from(e))),this.__handler={},this.__bridgeHandler={},this.__ccb=null,this.__bcb=null,this.__flag=!1,o.lie?(this.__migiCC=!0,this.__hackLie(n)):void 0}var i=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),o=(function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}());!function(){var e=Object.create(a.prototype);e.constructor=n,n.prototype=e}(),n.prototype.__onData=function(e){var t=this,r=this;return r.__flag?void r.__bridgeData(e):void(r.__handler.hasOwnProperty(e)||(r.__handler[e]=!0,r.__ccb||(r.__ccb=!0,setTimeout(function(){var e=Object.keys(r.__handler);r.__handler={},r.__ccb=null,e=e.length>1?e:e[0],a.prototype.__onData.call(t,e),r.emit(i.CACHE_DATA,e)},1))))},n.prototype.__bridgeData=function(e){var t=this,r=this;r.__bridgeHandler.hasOwnProperty(e)||(r.__bridgeHandler[e]=!0,r.__bcb||(r.__bcb=!0,setTimeout(function(){var e=Object.keys(r.__bridgeHandler);r.__handler={},r.__bcb=null,e=e.length>1?e:e[0],a.prototype.__onData.call(t,e)},1)))},Object.keys(a).forEach(function(e){n[e]=a[e]}),t["default"]=n},function(e,t,r){function n(e){return e=[].slice.call(arguments,0),i.apply(this,[].concat(Array.from(e))),a.lie?(this.__migiNV=!0,this.__hackLie(n)):void 0}var i=(function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}()),a=(function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}());!function(){var e=Object.create(i.prototype);e.constructor=n,n.prototype=e}(),n.prototype.toString=function(){return""},n.prototype.__onDom=function(){this.__dom=!0,i.fakeDom(this.$children)},Object.keys(i).forEach(function(e){n[e]=i[e]}),t["default"]=n},function(e,t,r){function n(e,t,r,n,i){var a;if(i){var o=void 0===n||null===n?"":n.toString();if(o){var s=g.NODE;s.innerHTML=y.encodeHtml(o),a=s.firstChild}else a=document.createTextNode("");r>=t.length?e.appendChild(a):e.replaceChild(a,t[r]),(n instanceof migi.NonVisualComponent||g.lie&&n&&n.__migiNV)&&n.emit(d.DOM)}else{if(a=n.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",a);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("afterend",a),e.removeChild(t[r]);else{var s=g.getParent(n.$name);s.innerHTML=a,e.replaceChild(s.firstChild,t[r])}n.emit(d.DOM)}}function i(e,t,r,n,i){var a;if(i){var o=void 0===n||null===n?"":n.toString();if(o){var s=g.NODE;s.innerHTML=y.encodeHtml(o),a=s.firstChild}else a=document.createTextNode("");r>=t.length?e.appendChild(a):e.insertBefore(a,t[r]),(n instanceof migi.NonVisualComponent||g.lie&&n&&n.__migiNV)&&n.emit(d.DOM)}else{if(a=n.toString(),r>=t.length)e.insertAdjacentHTML("beforeend",a);else if(1==t[r].nodeType)t[r].insertAdjacentHTML("beforebegin",a);else{var s=g.getParent(n.$name);s.innerHTML=a,e.insertBefore(s.firstChild,t[r])}n.emit(d.DOM)}}function a(e,t,r,n,o,s,c){if(Array.isArray(t)){o.push(0);for(var l=0,f=Math.max(t.length,1);f>l;l++){var h=t[l];o[o.length-1]=l,a(e,h,r,n,o,s,c&&l==f-1)}o.pop()}else if(t instanceof p&&!(t instanceof migi.NonVisualComponent)||g.lie&&t&&t.__migiEL&&!t.__migiNV){if(s.hasOwnProperty("prev")){
if(n.prev==b.TEXT&&n.start++,i(e,e.childNodes,n.start++,t),c)switch(s.state){case A:case $:n.t2d=!0;break;default:delete n.d2t}}else{switch(s.state=n.state,n.state){case $:n.start++;break;case A:u(r,n),n.start++,n.t2d=!0;break;case P:n.t2d=!0}i(e,e.childNodes,n.start++,t)}s.d=!0,s.prev=n.prev=b.DOM,n.state=E}else{if(s.hasOwnProperty("prev")){if(n.prev==b.DOM?(O.record(o,n),i(e,e.childNodes,n.start,t,!0)):u(r,n),c&&s.d)switch(u(r,n),s.state){case E:case P:delete n.t2d;break;default:delete n.d2t}}else switch(_(n,e,t,r,o),s.state=n.state,n.state){case $:n.d2t=!0;case A:u(r,n);break;case P:O.record(o,n),i(e,e.childNodes,n.start,t,!0),u(r,n);break;case E:O.record(o,n),i(e,e.childNodes,n.start,t,!0),n.d2t=!0}s.prev=n.prev=b.TEXT,n.state=A}}function o(e,t,r,n,i,a){if(Array.isArray(t)){var c=t.length;t.forEach(function(t,s){o(e,t,r,n,i,a&&s==c-1)})}else if(t instanceof p&&!(t instanceof migi.NonVisualComponent)||g.lie&&t&&t.__migiEL&&!t.__migiNV){if(i.hasOwnProperty("prev")){if(i.prev==b.TEXT?(i.d&&s(e,n.start+1),s(e,n.start+1)):n.prev==b.TEXT?s(e,n.start+1):s(e,n.start),a)switch(n.state){case A:case $:n.d2t=!0;break;default:delete n.t2d}}else switch(n.state){case $:s(e,n.start+1),n.state=A,n.prev=b.TEXT,n.d2t=!0;break;case A:s(e,n.start+1),n.prev=b.TEXT,n.d2t=!0;break;case P:s(e,n.start),n.state=E,n.prev=b.DOM;break;case E:s(e,n.start),n.prev=b.DOM}i.d=!0,i.prev=b.DOM,w.add(t.__destroy())}else{if(i.hasOwnProperty("prev")){if(i.prev==b.DOM&&u(r,n),a&&i.d)switch(s(e,n.start+1),n.state){case E:case P:n.t2d=!0;break;default:delete n.d2t}}else switch(n.state){case $:s(e,n.start+1),u(r,n),n.state=A,n.prev=b.TEXT;break;case A:u(r,n),n.prev=b.TEXT;break;case E:s(e,n.start),n.state=E,n.prev=b.DOM,n.t2d=!0;break;case P:n.prev=b.DOM,n.t2d=!0}i.prev=b.TEXT}}function s(e,t){e.removeChild(e.childNodes[t])}function c(e,t){return(void 0===e||null===e)&&(e=""),(void 0===t||null===t)&&(t=""),e.toString()==t.toString()}function u(e,t){var r=e.length;(!r||e[r-1].start<t.start)&&e.push({start:t.start,index:t.record.slice()})}function l(e,t){if(e!==t){var r=e.$element;t.__uid=e.$uid,t.__element=r;var n=Object.keys(e.$props),i=Object.keys(t.$props),s={};n.forEach(function(r){if(!/^on[A-Z]/.test(r)){s[r]=!0;var n=e.$props[r],i=t.$props[r];n!==i&&e.__updateAttr(r,i)}}),e.__removeListener(),i.forEach(function(e){if(/^on[A-Z]/.test(e)){var r=e.slice(2).replace(/[A-Z]/g,function(e){return e.toLowerCase()});t.__addListener(r,function(r){var n=t.$props[e];n instanceof m?n.cb.call(n.context,r):n(r)})}else s.hasOwnProperty(e)||t.__updateAttr(e,t.$props[e])});for(var c,u=e.$children.length,l=t.$children.length,f=[],_={start:0,record:[],first:!0},d=0,p=Math.min(u,l);p>d;d++){var v=e.$children[d],y=t.$children[d];c=[d],h(r,v,y,f,_,c)}var g={};if(u>d)for(;u>d;d++)o(r,e.$children[d],f,_,g,d==u-1);else if(l>d)for(;l>d;d++)c[c.length-1]=d,a(r,t.$children[d],f,_,c,g,d==l-1);if(f.length){if("textarea"==t.$name)return void t.__updateAttr("value",O.value(f[0],t.$children));f.forEach(function(e){O.update(e,t.$children,r)})}w.add(e.__destroy())}}function f(e,t,r,n,i,a){v.hasOwnProperty("default")&&(v=v["default"]),i.first||(i.prev==b.TEXT?i.state=A:i.state=E),h(e,t,r,n,i,a,!0),i.t2d||i.d2t||(i.state==P?i.t2d=!0:i.state==$&&(i.d2t=!0))}function h(e,t,r,s,f,m){var y=Array.isArray(t),k=Array.isArray(r);if(y&&k){var D=t.length,T=r.length,L=D?1:0,C=T?2:0;switch(m.push(0),f.first&&O.record(m,f),L+C){case 0:f.state=A,f.prev=b.TEXT;break;case 1:h(e,t[0],r[0],s,f,m);for(var M={},N=1;D>N;N++)o(e,t[N],s,f,M,N==D-1);break;case 2:h(e,t[0],r[0],s,f,m);for(var M={},N=1;T>N;N++)m[m.length-1]=N,a(e,r[N],s,f,m,M,N==T-1);break;case 3:for(var N=0,S=Math.min(D,T);S>N;N++)m[m.length-1]=N,h(e,t[N],r[N],s,f,m);var M={};if(D>N)for(;D>N;N++)o(e,t[N],s,f,M,N==D-1);else if(T>N)for(;T>N;N++)m[m.length-1]=N,a(e,r[N],s,f,m,M,N==T-1)}m.pop()}else if(y){h(e,t[0],r,s,f,m);for(var M={},N=1,S=t.length;S>N;N++)o(e,t[N],s,f,M,N==S-1)}else if(k){m.push(0),h(e,t,r[0],s,f,m);for(var M={},N=1,S=r.length;S>N;N++)m[m.length-1]=N,a(e,r[N],s,f,m,M,N==S-1);m.pop()}else{var x=t instanceof p&&!(t instanceof migi.NonVisualComponent)||g.lie&&t&&t.__migiEL&&!t.__migiNV?1:0,j=r instanceof p&&!(r instanceof migi.NonVisualComponent)||g.lie&&r&&r.__migiEL&&!r.__migiNV?2:0;switch(x+j){case 0:f.first||_(f,e,r,s,m),O.record(m,f);var V=e.childNodes;if(f.first)c(t,r)||u(s,f);else if(c(t,r))switch(f.state){case $:u(s,f),e.removeChild(V[f.start+1]);break;case P:u(s,f),i(e,V,f.start,r,!0)}else switch(f.state){case $:u(s,f),e.removeChild(V[f.start+1]);break;case P:u(s,f),i(e,V,f.start,r,!0);break;case E:O.record(m,f);case A:c(t,r)||u(s,f)}f.state=A,f.prev=b.TEXT;break;case 1:O.record(m,f);var V=e.childNodes;if(f.first)n(e,V,f.start,r,!0);else switch(f.state){case $:case A:u(s,f),e.removeChild(V[f.start+1]);break;case P:n(e,V,f.start++,r,!0);break;case E:n(e,V,f.start,r,!0)}w.add(t.__destroy()),f.state=$,f.prev=b.TEXT;break;case 2:var V=e.childNodes;if(f.first)n(e,V,f.start++,r);else switch(f.state){case $:f.start++;case E:n(e,V,f.start++,r);break;case P:i(e,V,f.start++,r);break;case A:u(s,f),i(e,V,++f.start,r),f.start++}f.state=P,f.prev=b.DOM;break;case 3:if(!f.first){switch(f.state){case $:case A:f.start++}delete f.t2d,delete f.d2t}var H=t instanceof v||g.lie&&t&&t.__migiCP?1:0,X=r instanceof v||g.lie&&r&&r.__migiCP?2:0;switch(H+X){case 0:t.$name==r.$name?l(t,r):(e.insertAdjacentHTML("afterend",r.toString()),e.parentNode.removeChild(e));break;case 1:l(t.$virtualDom,r);break;case 2:l(t,r.$virtualDom);break;case 3:t.constructor==r.constructor?(r.toString(),l(t.$virtualDom,r.$virtualDom)):e.innerHTML=r.toString()}f.state=E,f.prev=b.DOM,f.start++,w.add(t.__destroy())}(r instanceof v||g.lie&&r&&r.__migiCP)&&r.emit(d.DOM)}f.first=!1}function _(e,t,r,n,a){e.t2d?(delete e.t2d,O.record(a,e),i(t,t.childNodes,e.start,r,!0)):e.d2t&&(delete e.d2t,u(n,e),s(t,e.start+1))}var d=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),p=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),v=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),m=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),y=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),g=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),O=function(){var e=r(13);return e.hasOwnProperty("default")?e["default"]:e}(),w=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}(),b=function(){var e=r(10);return e.hasOwnProperty("default")?e["default"]:e}(),$=0,E=1,P=2,A=3;t.diff=f,t.check=_},function(e,t,r){function n(e,t,r,n,a,s){o.hasOwnProperty("default")&&(o=o["default"]);var u=[],l={};i(e.length-1,e,t,r,n,a,u,String(e.length-1),l,s),c(u,function(e,t){return e[2]==t[2]?e[0]>t[0]:e[2]>t[2]});var f="";return u.forEach(function(e){f+=e[1]+";"}),f}function i(e,t,r,n,o,l,f,h,_,d){var p;_[h]=!0;var v=[];v.push(t[e]);var m=0;r[e]&&(v.push(r[e]),m=1);var y=0;switch(n[e]&&(v.push(n[e]),y=2),c(v,function(e,t){return t>e}),o.hasOwnProperty("_*")&&v.push("*"),m+y){case 1:v.push(v[0]+v[1]),o.hasOwnProperty("_*.")&&v.push("*"+v[1]);break;case 2:v.push(v[0]+v[1]),o.hasOwnProperty("_*#")&&v.push("*"+v[1]);break;case 3:v.push(v[0]+v[1]),v.push(v[0]+v[2]),v.push(v[1]+v[2]),v.push(v[0]+v[1]+v[2]),o.hasOwnProperty("_*.")&&v.push("*"+v[1]),o.hasOwnProperty("_*#")&&v.push("*"+v[2]),o.hasOwnProperty("_*.#")&&v.push("*"+v[1]+v[2])}for(var g=0,O=v.length;O>g;g++){var w=v[g];if(o.hasOwnProperty(w)){var b=o[w];if(e){i(e-1,t,r,n,b,l.$parent,f,h+","+(e-1)+":"+g,_);for(var $=e-2;$>=0;$--){var E=h+","+$+":"+g;_.hasOwnProperty(E)||i($,t,r,n,b,l.$parent,f,E,_)}}b.hasOwnProperty("_v")&&a(f,b),d&&b.hasOwnProperty("_:")&&b["_:"].forEach(function(e){e[0].forEach(function(e){var t=l.$element;switch(e){case"hover":l.on(s.DOM,function(){u.lie&&t.attachEvent?(l.$element.attachEvent("onmouseenter",function(e){l.__hover=!0,l.__updateStyle()}),l.$element.attachEvent("onmouseleave",function(e){l.__hover=!1,l.__updateStyle()})):(l.$element.addEventListener("mouseenter",function(e){l.__hover=!0,l.__updateStyle()}),l.$element.addEventListener("mouseleave",function(e){l.__hover=!1,l.__updateStyle()}))});break;case"active":l.on(s.DOM,function(){u.lie&&t.attachEvent?(l.$element.attachEvent("onmousedown",function(e){l.__active=!0,l.__updateStyle()}),document.body.attachEvent("onmouseup",function(e){l.__active=!1,l.__updateStyle()},!0),window.attachEvent("onblur",function(e){l.__active=!1,l.__updateStyle()}),window.attachEvent("ondragend",function(e){l.__active=!1,l.__updateStyle()})):(l.$element.addEventListener("mousedown",function(e){l.__active=!0,l.__updateStyle()}),document.body.addEventListener("mouseup",function(e){l.__active=!1,l.__updateStyle()},!0),window.addEventListener("blur",function(e){l.__active=!1,l.__updateStyle()}),window.addEventListener("dragend",function(e){l.__active=!1,l.__updateStyle()}))})}})}),(b.hasOwnProperty("_:")||b.hasOwnProperty("_["))&&!function(){function o(o){if(o&&o.hasOwnProperty("_[")){var s=o["_["];s.forEach(function(o){var c=o[0],u=!0;e:for(var d=0,p=c.length;p>d;d++){var v=c[d];if(1==v.length){if(!l.__cache.hasOwnProperty(v[0])){u=!1;break}}else{var m=l.__cache[v[0]];if(void 0===m){u=!1;break e}var y=v[2];switch(v[1]){case"=":u=m==y;break;case"^=":u=0==m.indexOf(y);break;case"$=":u=m.length>=y.length&&m.indexOf(y)==m.length-y.length;break;case"~=":var g=new RegExp("\\b"+y+"\\b");u=g.test(m);break;case"*=":u=m.indexOf(y)>-1;break;case"|=":u=0==m.indexOf(y)||0==m.indexOf(y+"-");break;default:u=!1;break e}if(!u)break e}}u&&(s=o[1],e&&i(e-1,t,r,n,s,l.$parent,f,h+","+(e-1)+":"+d,_),s.hasOwnProperty("_v")&&a(f,s))})}}b.hasOwnProperty("_:")&&(p=b["_:"],p.forEach(function(o){var s=o[0],c=!0;e:for(var u=0,d=s.length;d>u;u++)switch(s[u]){case"hover":if(!l.__hover){c=!1;break e}break;case"active":if(!l.__active){c=!1;break e}break;case"first-child":if(!l.$isFirst()){c=!1;break e}break;case"last-child":if(!l.$isLast()){c=!1;break e}break;default:c=!1}c&&(p=o[1],e&&i(e-1,t,r,n,p,l.$parent,f,h+","+(e-1)+":"+u,_),p.hasOwnProperty("_v")&&a(f,p))})),o(b),o(p)}()}}}function a(e,t){t._v.forEach(function(r){r[2]=t._p,e.push(r)})}var o=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}();t["default"]=n},function(e,t,r){var n=function(){var e=r(3);return e.hasOwnProperty("default")?e["default"]:e}(),i=function(){var e=r(4);return e.hasOwnProperty("default")?e["default"]:e}(),a=function(){var e=r(11);return e.hasOwnProperty("default")?e["default"]:e}(),o=function(){var e=r(5);return e.hasOwnProperty("default")?e["default"]:e}(),s=function(){var e=r(6);return e.hasOwnProperty("default")?e["default"]:e}(),c=function(){var e=r(15);return e.hasOwnProperty("default")?e["default"]:e}(),u=function(){var e=r(14);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),f=function(){var e=r(8);return e.hasOwnProperty("default")?e["default"]:e}(),h=function(){var e=r(7);return e.hasOwnProperty("default")?e["default"]:e}(),_=function(){var e=r(12);return e.hasOwnProperty("default")?e["default"]:e}(),l=function(){var e=r(2);return e.hasOwnProperty("default")?e["default"]:e}(),d=function(){var e=r(1);return e.hasOwnProperty("default")?e["default"]:e}(),p=function(){var e=r(9);return e.hasOwnProperty("default")?e["default"]:e}(),v={render:function(e,t){return t&&e.$inTo(t),e},createCp:function(e,t,r,n){return new t(e,r,n)},createVd:function(e,t,r){return _.index?_.get().__reset(e,t,r):new s(e,t,r)},Event:n,EventBus:a,eventBus:new a,Element:i,Component:o,NonVisualComponent:c,CacheComponent:u,VirtualDom:s,Obj:f,Cb:h,util:l,browser:d,sort:p};"undefined"!=typeof window&&(window.migi=v),t["default"]=v},function(e,t,r){e.exports=r(18)["default"]}]);