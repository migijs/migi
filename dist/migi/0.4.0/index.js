!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(24)},function(t,e){var r=document.createElement("div"),n=document.createElement("table"),i=document.createElement("tbody"),a=document.createElement("tr"),o=document.createElement("ul"),s=document.createElement("dl"),c=document.createElement("select"),u=document.createElement("menu");e["default"]={lie:!1,NODE:r,getParent:function(t){switch(t){case"td":return a;case"tr":return i;case"tbody":case"thead":case"col":return n;case"li":return o;case"dt":case"dd":return s;case"option":return c;case"menuitem":return u;default:return r}}}},function(t,e,r){function n(t){if(t instanceof f)return t;if(a(t))return t;var e=Array.isArray(t)?[]:{};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i instanceof f||l.lie&&i&&i.__migiEL?e[r]=i:_.isDate(i)?e[r]=new Date(i):e[r]=_.isObject(i)?n(i):i}return e}function i(t){return function(e){return h.call(e)=="[object "+t+"]"}}function a(t){return void 0===t||null===t||_.isBoolean(t)||_.isNumber(t)||_.isString(t)}function o(t,e){if(t instanceof f||e instanceof f||l.lie&&(t&&t.__migiEL||e&&e.__migiEL))return t==e;if(a(t)||a(e))return t===e;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!=e.length)return!1;for(var r=0,n=t.length;n>r;r++)if(!o(t[r],e[r]))return!1;return!0}if(_.isDate(t))return _.isDate(e)?t-e==0:!1;if(_.isObject(t)){if(!_.isObject(e))return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(var r=0,n=i.length;n>r;r++)if(!e.hasOwnProperty(r)||!o(t[r],e[r]))return!1;return!0}}function s(t,e){var r="";return t.forEach(function(t){r+=Array.isArray(t)?s(t):t instanceof f||l.lie&&t&&t.__migiEL?e?u(t.toString(),e):t.toString():u(c(t),e)}),r}function c(t){return null===t||void 0===t?"":t.toString()}function u(t,e){return e?t.replace(/"/g,"&quot;"):t.replace(/</g,"&lt;")}var f=function(){var t=r(4);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),h={}.toString,_={clone:function(t){return f.hasOwnProperty("default")&&(f=f["default"]),n(t)},isObject:i("Object"),isString:i("String"),isFunction:i("Function"),isNumber:i("Number"),isBoolean:i("Boolean"),isDate:i("Date"),equal:function(t,e){return f.hasOwnProperty("default")&&(f=f["default"]),o(t,e)},stringify:c,encodeHtml:u,joinArray:function(t,e){return f.hasOwnProperty("default")&&(f=f["default"]),s(t,e)}};e["default"]=_},function(t,e,r){function n(){this.__hash={}}var i=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),a=function(){var t=r(15);return t.hasOwnProperty("default")?t["default"]:t}();n.prototype.on=function(t,e){var r=this;if(Array.isArray(t))t.forEach(function(t){r.on(t,e)});else if(e){r.__hash.hasOwnProperty(t)||(r.__hash[t]=[]);for(var n=0,i=r.__hash[t],a=i.length;a>n;n++)if(i[n]===e)return r;r.__hash[t].push(e)}return r},n.prototype.once=function(t,e){var r=this;return Array.isArray(t)?t.forEach(function(t){r.once(t,e)}):e&&r.on(t,function(n){n=[].slice.call(arguments,0),e.apply(this,n),r.off(t,arguments.callee)}),this},n.prototype.off=function(t,e){var r=this;if(Array.isArray(t))t.forEach(function(t){r.off(t,e)});else if(r.__hash.hasOwnProperty(t))if(e){for(var n=0,i=r.__hash[t],a=i.length;a>n;n++)if(i[n]===e){i.splice(n,1);break}}else delete r.__hash[t];return this},n.prototype.emit=function(t,e){e=[].slice.call(arguments,1);var r=this;if(Array.isArray(t))t.forEach(function(t){r.emit(t,e)});else if(r.__hash.hasOwnProperty(t)){var n=r.__hash[t].slice();n.forEach(function(t){i.lie&&r instanceof migi.Component&&r.__migiNode==r&&r.__migiCP?t.apply(r.__migiNode,e):t.apply(r,e)})}return this},n.prototype.__hackLie=function(t,e){if(this.__migiGS=a.gs({},this.__migiGS,e),this.constructor==t){var r=document.createElement("a");return this.__migiNode=r.__migiNode=r,this.$=r,a.ref(this,r,this.__migiGS),Object.defineProperties(r,this.__migiGS),r}},n.mix=function(t){t=[].slice.call(arguments,0),t.forEach(function(t){var e=new n;t.__hash={};var r=["on","once","off","emit"];r.forEach(function(r){t[r]=e[r]})})},n.DOM="__0",n.DESTROY="__1",n.DATA="__2",n.CACHE_DATA="__3",e["default"]=n},function(t,e,r){function n(t){return o.isString(t)?document.querySelector(t):t}function i(t,e,r){a.call(this),this.$=this.$$=this,this.uid=c++,this.__reset(t,e,r)}var a=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),c=0;!function(){var t=Object.create(a.prototype);t.constructor=i,i.prototype=t}(),i.prototype.__reset=function(t,e,r){this.__name=t,this.props=e,this.children=r,this.__element=null,this.__parent=null,this.__top=null,this.__style=null,this.__dom=!1,this.__cache={},this.once(a.DOM,this.__onDom),s.lie&&(this.__migiEL=this,this.__migiGS=u)},i.prototype.__clean=function(){if(this.__dom){this.__dom=!1;var t=this.element;t&&t.parentNode.removeChild(t)}},i.prototype.__onDom=function(){this.__dom=!0,this.__saveRef()},i.prototype.__saveRef=function(){if(this.__cache.ref){var t=this.top;if(t){var e=this.__cache.ref,r=t.ref[e];Array.isArray(r)?r.push(this):r?t.ref[e]=[r,this]:t.ref[e]=this}}},i.prototype.inTo=function(t){this.__clean();var e=this.toString();n(t).innerHTML=e,this.emit(a.DOM)},i.prototype.appendTo=function(t){this.__clean();var e=this.toString();t=n(t),t.insertAdjacentHTML("beforeend",e),this.emit(a.DOM)},i.prototype.prependTo=function(t){this.__clean();var e=this.toString();t=n(t),t.insertAdjacentHTML("afterbegin",e),this.emit(a.DOM)},i.prototype.before=function(t){this.__clean();var e=this.toString();t=n(t),t.insertAdjacentHTML("beforebegin",e),this.emit(a.DOM)},i.prototype.after=function(t){this.__clean();var e=this.toString();t=n(t),t.insertAdjacentHTML("afterend",e),this.emit(a.DOM)},i.prototype.replace=function(t){this.__clean();var e=this.toString();t=n(t),t.insertAdjacentHTML("afterend",e),t.parentNode.removeChild(t),this.emit(a.DOM)},i.__clean=function(){c=0},Object.keys(a).forEach(function(t){i[t]=a[t]});var u={top:{get:function(){return!this.__top&&this.parent&&(this.parent instanceof migi.Component||this.parent&&this.parent.__migiCP?this.__top=this.parent:this.__top=this.parent.top),this.__top}},element:{get:function(){return this.__element||(this.__element=document.querySelector(this.name+'[migi-uid="'+this.uid+'"]'))}},parent:{get:function(){var t=this.__parent;return s.lie&&t?t.__migiNode:t}}};["name","dom"].forEach(function(t){u[t]={get:function(){return this["__"+t]}}}),s.lie||Object.defineProperties(i.prototype,u),e["default"]=i},function(t,e,r){function n(t,e){void 0===t&&(t={}),void 0===e&&(e=[]),f.hasOwnProperty("default")&&(f=f["default"]);var r=this,o=r.constructor.__migiName;return a.call(this,o,t,e),r.__virtualDom=null,r.__ref={},r.__stop=null,r.__model=null,r.__bridgeHash=null,Object.keys(t).forEach(function(e){if(/^on[A-Z]/.test(e)){var n=e.slice(2).replace(/[A-Z]/g,function(t){return t.toLowerCase()}),i=t[e];r.on(n,function(t){t=[].slice.call(arguments,0),i.apply(this,[].concat(Array.from(t)))})}else"model"==e&&(r.model=t[e])}),r.on(i.DATA,r.__onData),c.lie?(r.__migiCP=this,r.__hackLie(n,_)):void 0}var i=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),a=function(){var t=r(4);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=r(6);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=r(8);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=r(13);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=r(10);return t.hasOwnProperty("default")?t["default"]:t}(),h=["click","dblclick","focus","blur","change","contextmenu","mousedown","mousemove","mouseover","mouseup","mouseout","mousewheel","resize","scroll","select","submit","DOMActivate","DOMFocusIn","DOMFocusOut","keydown","keypress","keyup","drag","dragstart","dragover","dragenter","dragleave","dragend","drop","formchange","forminput","input","cut","paste","reset","touch","touchstart","touchmove","touchend"];!function(){var t=Object.create(a.prototype);t.constructor=n,n.prototype=t}(),n.prototype.render=function(){return new o("div",this.props,this.children)},n.prototype.toString=function(){return c.lie&&this.$$.style&&this.$$.style!=this.$$.__style&&(this.$$.__style=this.$$.style),c.lie&&this.$$.model&&this.$$.model!=this.$$.__model&&(this.$.model=this.$$.__model=this.$$.model),this.__virtualDom=this.render(),this.__virtualDom.__parent=this,this.__style&&(this.__virtualDom.style=this.__style),this.__virtualDom.toString()},n.prototype.findChild=function(t){return this.findChildren(t,!0)[0]},n.prototype.findChildren=function(t,e){for(var r=[],i=0,o=this.children.length;o>i;i++){var u=this.children[i];if(u instanceof a||c.lie&&u&&u.__migiEL)if(u instanceof n){if((u.name==t||s.isFunction(t)&&u instanceof t)&&(r.push(u),e))break}else{if((u.name==t||s.isFunction(t)&&u instanceof t)&&(r.push(u),e))break;if(r=r.concat(u.findAll(t)),e&&r.length)break}}return r},n.prototype.find=function(t){return this.findAll(t,!0)[0]},n.prototype.findAll=function(t,e){return this.__virtualDom?this.__virtualDom.findAll(t,e):[]},n.prototype.__brcb=function(t){Array.isArray(t)||(t=[t]);for(var e=0,r=t.length;r>e;e++){var n=t[e];if(this.__bridgeHash.hasOwnProperty(n))for(var a=this.__bridgeHash[n],o=0,s=a.length;s>o;o++){var f=a[o],h=f.target,_=f.name,d=f.middleware;l.pass(h,_)||(h instanceof u?h.emit(i.DATA,_,d?d.call(this,this[n]):this[n]):((h instanceof migi.CacheComponent||c.lie&&h.__migiCC)&&(h.__flag=!0),h[_]=d?d.call(this,this[n]):this[n],(h instanceof migi.CacheComponent||c.lie&&h.__migiCC)&&(h.__flag=!1)))}}},n.prototype.__record=function(t,e,r,n){l.record(this.uid,t.uid,e,r),this.__bridgeHash=this.__bridgeHash||{},this.__bridgeHash[e]=this.__bridgeHash[e]||[],this.__bridgeHash[e].push({target:t,name:r,middleware:n})},n.prototype.bridge=function(t,e,r,a){f.hasOwnProperty("default")&&(f=f["default"]);var o=this;if(t==this)throw new Error("can not bridge self: "+o.name);if(!(t&&(t instanceof u||t instanceof n||t instanceof f||!c.lie||t.__migiCP||t.__migiMD)))throw new Error("can only bridge to EventBus/Component/Model: "+o.name);var h=!this.__bridgeHash;2==arguments.length?s.isString(e)?o.__record(t,e,e):Object.keys(e).forEach(function(r){var n=e[r];s.isString(n)?o.__record(t,r,n):s.isFunction(n)?o.__record(t,r,r,n):n.name&&o.__record(t,r,n.name,n.middleware)}):3==arguments.length?s.isString(r)?o.__record(t,e,r):(a=r,o.__record(t,e,e,a)):4==arguments.length&&o.__record(t,e,r,a),h&&o.on(o instanceof migi.CacheComponent||c.lie&&o.__migiCC?i.CACHE_DATA:i.DATA,function(e,r){r!=o.__brcb&&r!=t.__brcb&&l.gen(o.uid,e),o.__brcb(e)})},n.prototype.bridgeTo=function(t,e){e=[].slice.call(arguments,1),t.bridge.apply(t,[this].concat(Array.from(e)))},n.prototype.__onDom=function(t){function e(t){t=t||window.event,t.target!=o&&t.srcElement!=o&&(c.lie&&(t.cancelBubble=!0),t.stopPropagation&&t.stopPropagation())}a.prototype.__onDom.call(this);var r=this;r.virtualDom.emit(i.DOM,t);var o=r.element;o.setAttribute("migi-name",r.name),t||r.children==r.virtualDom.children||n.fakeDom(r.children),r.props.allowPropagation||(r.__stop=e,h.forEach(function(t){c.lie&&o.attachEvent?o.attachEvent("on"+t,e):o.addEventListener(t,e)}))},n.prototype.__onData=function(t,e){this.virtualDom&&this.virtualDom.__onData(t),this.children.forEach(function(r){r instanceof n||c.lie&&r&&r.__migiCP?r.emit(i.DATA,t,e):(r instanceof o||c.lie&&r&&r.__migiVD)&&r.__onData(t)})},n.prototype.__destroy=function(){var t=this;if(t.emit(i.DESTROY),t.__hash={},t.__stop){var e=t.element;h.forEach(function(r){c.lie&&e.attachEvent?e.detachEvent("on"+r,t.__stop):e.removeEventListener(r,t.__stop)})}return t.model&&(t.model.__del(t),l.del(t.uid)),t.virtualDom.__destroy()},n.fakeDom=function(t){Array.isArray(t)?t.forEach(function(t){n.fakeDom(t)}):t instanceof n||c.lie&&t&&t.__migiCP?t.emit(i.DOM,!0):(t instanceof o||c.lie&&t&&t.__migiVD)&&t.emit(i.DOM,!0)},Object.keys(a).forEach(function(t){n[t]=a[t]});var _={element:{get:function(){return this.virtualDom?this.virtualDom.element:null}},style:{get:function(){return this.__style},set:function(t){this.__style=t}},model:{get:function(){return this.__model},set:function(t){if(!(t instanceof f)&&c.lie&&!t.__migiMD)throw new Error("can not set model to a non Model: "+t);this.__model=t,t.__add(this)}}};["virtualDom","ref"].forEach(function(t){_[t]={get:function(){return this["__"+t]}}}),c.lie||Object.defineProperties(n.prototype,_),e["default"]=n},function(t,e,r){function n(t,e,r){if(void 0===e&&(e={}),void 0===r&&(r=[]),u.hasOwnProperty("default")&&(u=u["default"]),w.hasOwnProperty(t)&&r.length)throw new Error("self-close tag can not has chilren nodes: "+t);c.call(this,t,e,r);var i=this;return i.__names=null,i.__classes=null,i.__ids=null,i.__inline=null,i.__hover=!1,i.__active=!1,i.__listener=null,i.__init(t,r),f.lie?(i.__migiVD=this,i.__hackLie(n,b)):void 0}function i(t){return void 0===t||null===t||!t.toString()}function a(t){if(t instanceof c||t instanceof h||f.lie&&t.__migiEL)return t.toString();if(Array.isArray(t)){var e="";return t.forEach(function(t){e+=a(t)}),e}return l.encodeHtml(l.stringify(t))}function o(t,e){Array.isArray(t)?t.forEach(function(t){o(t,e)}):t instanceof c||f.lie&&t&&t.__migiEL?t.__parent=e:t instanceof h&&o(t.v,e)}var s=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=r(4);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=r(5);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),h=function(){var t=r(9);return t.hasOwnProperty("default")?t["default"]:t}(),_=function(){var t=r(7);return t.hasOwnProperty("default")?t["default"]:t}(),d=function(){var t=r(16);return t.hasOwnProperty("default")?t["default"]:t}(),p=function(){var t=r(22);return t.hasOwnProperty("default")?t["default"]:t}(),v=function(){var t=r(11);return t.hasOwnProperty("default")?t["default"]:t}(),y=function(){var t=r(20);return t.hasOwnProperty("default")?t["default"]:t}(),m=function(){var t=r(12);return t.hasOwnProperty("default")?t["default"]:t}(),g=function(){var t=r(21);return t.hasOwnProperty("default")?t["default"]:t}(),O=function(){var t=r(19);return t.hasOwnProperty("default")?t["default"]:t}(),w={img:!0,meta:!0,link:!0,br:!0,basefont:!0,base:!0,col:!0,embed:!0,frame:!0,hr:!0,input:!0,keygen:!0,area:!0,param:!0,source:!0,track:!0,wbr:!0};!function(){var t=Object.create(c.prototype);t.constructor=n,n.prototype=t}(),n.prototype.toString=function(){var t=this,e="<"+t.name;if(Object.keys(t.props).forEach(function(r){var n=t.__renderProp(r);e+=n}),t.__style){var r=t.__match(!0);r&&(e=e.indexOf(' style="')>1?e.replace(/ style="[^"]*"/,' style="'+r+'"'):e+' style="'+r+'"')}return e+=' migi-uid="'+t.uid+'"',t.__checkListener(),t.__selfClose?e+"/>":(e+=">",e+=t.__renderChildren(),e+="</"+t.name+">")},n.prototype.isFirst=function(t){if(this.parent instanceof u||f.lie&&this.parent&&this.parent.__migiCP)return!0;t=t||this.parent.children;for(var e=0,r=t.length;r>e;e++){var i=t[e];if(Array.isArray(i)&&i.length)return this.isFirst(i);if(i==this)return!0;if(i instanceof n||f.lie&&i&&i.__migiVD)return!1;if(i instanceof h&&(i=i.v,Array.isArray(i)&&i.length))return this.isFirst(i)}},n.prototype.isLast=function(t){if(this.parent instanceof u||f.lie&&this.parent&&this.parent.__migiCP)return!0;t=t||this.parent.children;for(var e=t.length-1;e>=0;e--){var r=t[e];if(Array.isArray(r)&&r.length)return this.isLast(r);if(r==this)return!0;if(r instanceof n||f.lie&&r&&r.__migiVD)return!1;if(r instanceof h&&(r=r.v,Array.isArray(r)&&r.length))return this.isLast(r)}},n.prototype.__renderProp=function(t){var e=this,r=e.props[t],n="";if(/^on[A-Z]/.test(t))e.once(s.DOM,function(r){if(!r){var n=t.slice(2).replace(/[A-Z]/g,function(t){return t.toLowerCase()});e.__addListener(n,function(r){r=r||window.event,g(r);var n=e.props[t];n instanceof _?n.cb.call(n.context,r):n(r)})}});else if(r instanceof h){var i=r.toString(!0);if("dangerouslySetInnerHTML"==t)return e.once(s.DOM,function(){e.element.innerHTML=i}),"";"className"==t&&(t="class"),e.__cache[t]=i;var a=O.special(e.name,t);switch(a){case O.RENDER_EXIST:r.v&&(n=" "+t+'="'+i+'"');break;case O.RENDER_DOM:e.once(s.DOM,function(){e.__updateAttr(t,r)});break;default:n=" "+t+'="'+i+'"'}}else{var i=Array.isArray(r)?l.joinArray(r):l.stringify(r);if("dangerouslySetInnerHTML"==t)return e.once(s.DOM,function(){e.element.innerHTML=i}),"";"className"==t&&(t="class"),e.__cache[t]=i;var a=O.special(e.name,t);switch(a){case O.RENDER_EXIST:r&&(n=" "+t+'="'+l.encodeHtml(i,!0)+'"');break;case O.RENDER_DOM:e.once(s.DOM,function(){e.__updateAttr(t,r)});break;default:n=" "+t+'="'+l.encodeHtml(i,!0)+'"'}}if(e.__style)switch(t){case"class":case"id":n=" migi-"+n.slice(1)}return n},n.prototype.__renderChildren=function(){var t=this,e="";return t.children.forEach(function(t){e+=a(t)}),e},n.prototype.__checkListener=function(){var t=this;if("input"==t.name){if(t.props.hasOwnProperty("value")){var e=t.props.value;e instanceof h&&t.once(s.DOM,function(){function r(t){t=t||window.event,g(t);var r=t.target.value;e.setV(r);var n=e.k;e.context[n]=r}var n=t.__cache.type;switch((void 0===n||null===n)&&(n=""),n.toLowerCase()){case"checkbox":case"radio":case"range":case"color":t.__addListener("change",r);break;default:t.__addListener(["input","paste","cut"],r)}})}}else if("select"==t.name){if(t.props.hasOwnProperty("value")){var e=t.props.value;e instanceof h&&t.once(s.DOM,function(){function r(t){t=t||window.event,g(t);var r=t.target.value;e.setV(r);var n=e.k;e.context[n]=r}t.__addListener("change",r)})}}else if("textarea"==t.name&&1==t.children.length){var r=t.children[0];r instanceof h&&t.once(s.DOM,function(){function e(t){t=t||window.event,g(t);var e=t.target.value;r.setV(e);var n=r.k;r.context[n]=e}t.__addListener(["input","paste","cut"],e)})}},n.prototype.__addListener=function(t,e){var r=this;if(Array.isArray(t))t.forEach(function(t){r.__addListener(t,e)});else{if(r.__listener=r.__listener||{},r.__listener.hasOwnProperty(t)){var n=r.__listener[t];Array.isArray(n)?n.push(e):r.__listener[t]=[n,e]}else r.__listener[t]=e;var i=r.element;if("tap"==t){if(!f.lie&&!i.attachEvent){var a=0,o=0,s=0,c=0;r.__addListener("touchstart",function(t){if(1==t.touches.length){var e=t.touches[0];a=s=e.pageX,o=c=e.pageY}}),r.__addListener("touchmove",function(t){var e=t.touches[0];s=e.pageX,c=e.pageY}),r.__addListener("touchend",function(t){(s&&Math.abs(a-s)<30||c&&Math.abs(o-c)<30)&&e(t)})}}else f.lie&&i.attachEvent?("input"==t&&(t="keyup"),i.attachEvent("on"+t,e)):i.addEventListener(t,e)}},n.prototype.__removeListener=function(){var t=this;if(t.__listener){var e=t.element;Object.keys(t.__listener).forEach(function(r){var n=t.__listener[r];Array.isArray(n)?n.forEach(function(t){f.lie&&e.attachEvent?e.detachEvent("on"+r,t):e.removeEventListener(r,t)}):f.lie&&e.attachEvent?("input"==r&&(r="keyup"),e.detachEvent("on"+r,n)):e.removeEventListener(r,n)})}},n.prototype.find=function(t){return this.findAll(t,!0)[0]},n.prototype.findAll=function(t,e){return this.__findAll(t,this.children,[],e)},n.prototype.__findAll=function(t,e,r,n){for(var i=0,a=e.length;a>i;i++){var o=e[i];if(o instanceof c||f.lie&&o&&o.__migiEL?r=this.__findEq(t,o,r,n):o instanceof h?(o=o.v,Array.isArray(o)?r=this.__findAll(t,o,r,n):(o instanceof c||f.lie&&o&&o.__migiEL)&&(r=this.__findEq(t,o,r,n))):Array.isArray(o)&&(r=this.__findAll(t,o,r,n)),n&&r.length)break}return r},n.prototype.__findEq=function(t,e,r,n){if(e instanceof u||f.lie&&e&&e.__migiCP)(e.name==t||l.isFunction(t)&&e instanceof t||f.lie&&e.__migiCP&&l.isFunction(t)&&e.__migiCP instanceof t)&&r.push(e);else{if((e.name==t||l.isFunction(t)&&e instanceof t||f.lie&&e.__migiVD&&l.isFunction(t)&&e.__migiVD instanceof t)&&(r.push(e),n))return r;r=r.concat(e.findAll(t,n))}return r},n.prototype.__onDom=function(t){c.prototype.__onDom.call(this);var e=this;if(t)return void u.fakeDom(e.children);for(var r={start:0,first:!0},n=0,i=e.children.length;i>n;n++){var a=e.children[n];e.__domChild(a,n,i,r)}r.empty&&e.__insertBlank(r.start)},n.prototype.__domChild=function(t,e,r,n){var a=this;if(Array.isArray(t)&&t.length)t.forEach(function(t){a.__domChild(t,e,r,n)});else if(t instanceof c&&!(t instanceof migi.NonVisualComponent)||f.lie&&t&&t.__migiEL&&!t.__migiNV)n.empty&&(a.__insertBlank(n.start),n.empty=!1),t.emit(s.DOM),n.start++,n.first||n.prev==m.TEXT&&n.start++,n.prev=m.DOM;else if(t instanceof h)a.__domChild(t.v,e,r,n);else if(i(t)){if((t instanceof migi.NonVisualComponent||f.lie&&t&&t.__migiNV)&&t.emit(s.DOM),!n.first&&n.prev==m.TEXT)return;n.empty=!0,n.prev=m.TEXT}else n.empty=!1,n.prev=m.TEXT;n.first=!1},n.prototype.__insertBlank=function(t){var e=document.createTextNode(""),r=this.element,n=r.childNodes,i=n.length;!i||t>=i?r.appendChild(e):r.insertBefore(e,n[t])},n.prototype.__onData=function(t){var e=this;for(var r in e.props){var n=e.props[r];if(n instanceof h){var i=!1;if(Array.isArray(n.k)?i=n.k.indexOf(t)>-1:t==n.k&&(i=!0),i){var a=n.v;n.update(a)&&e.__updateAttr(r,n.v)}}}for(var o,s=[],c={start:0,record:[],first:!0},u=e.children,f=0,l=u.length;l>f;f++){var _=u[f];o=[f],e.__checkObj(t,_,s,c,o)}if(s.length){if("textarea"==e.name)return void e.__updateAttr("value",d.value(s[0],e.children));s.forEach(function(t){d.update(t,e.children,e.element)})}},n.prototype.__checkObj=function(t,e,r,i,a){var o=this;if(e instanceof h){var s=!1,u=Array.isArray(t)?1:0,l=Array.isArray(e.k)?2:0;switch(u+l){case 0:s=t==e.k;break;case 1:s=t.indexOf(e.k)>-1;break;case 2:s=e.k.indexOf(t)>-1;break;case 3:var _={};t.forEach(function(t){_[t]=!0});for(var p=e.k,v=0,g=p.length;g>v;v++)if(_.hasOwnProperty(p[v])){s=!0;break}}if(s){var O=e.v;e.update(O)&&y.diff(this.element,O,e.v,r,i,a)}else o.__checkObj(t,e.v,r,i,a)}else e instanceof c||f.lie&&e&&e.__migiEL?(delete i.t2d,delete i.d2t,(e instanceof n||f.lie&&e&&e.__migiVD)&&e.__onData(t),i.start++,i.first||i.prev!=m.TEXT||i.start++,i.prev=m.DOM):Array.isArray(e)&&e.length?(a.push(0),e.forEach(function(e,n){a[a.length-1]=n,o.__checkObj(t,e,r,i,a)}),a.pop()):(y.check(i,this.element,e,r,a),d.record(a,i),i.prev=m.TEXT);i.first=!1},n.prototype.__updateAttr=function(t,e){return"dangerouslySetInnerHTML"==t?((null===e||void 0===e)&&(e=""),void(this.element.innerHTML=l.stringify(e))):(O.update(this.name,this.element,t,e),this.__cache[t]=e,void(this.__style&&this.__updateStyle()))},n.prototype.__match=function(t){this.__inline=this.__cache.style||"";var e=this.parent;e instanceof n||f.lie&&e&&e.__migiVD?(this.__classes=e.__classes.slice(),this.__ids=e.__ids.slice()):(this.__classes=[],this.__ids=[]);var r=(this.__cache["class"]||"").trim();r?(r=r.split(/\s+/),v(r,function(t,e){return e>t}),this.__classes.push("."+r.join("."))):this.__classes.push("");var i=(this.__cache.id||"").trim();i?this.__ids.push("#"+i):this.__ids.push("");var a=p(this.__names,this.__classes,this.__ids,this.__style,this,t);return a+this.__inline},n.prototype.__updateStyle=function(){var t=this.__match();this.element.getAttribute("style")!=t&&this.element.setAttribute("style",t),this.children.forEach(function(t){(t instanceof n||f.lie&&t&&t.__migiVD)&&t.__updateStyle()})},n.prototype.__init=function(t,e){var r=this;r.__selfClose=w.hasOwnProperty(t),o(e,this)},n.prototype.__reset=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r=[]),c.prototype.__reset.call(this,t,e,r),this.__init(t,r),this.__hasDes=!1,this},n.prototype.__destroy=function(){return this.__hash={},this.__cache={},this.__names=null,this.__classes=null,this.__ids=null,this.__inline=null,this.__hover=!1,this.__active=!1,this.__listener=null,this.__hasDes=!0,this.__parent=null,this.__top=null,this.__dom=!1,this.__style=null,this.__element=null,this},Object.keys(c).forEach(function(t){n[t]=c[t]});var b={names:{get:function(){return this.__names||(this.__names=[])}},style:{get:function(){return this.__style},set:function(t){var e=this;e.__style=t,e.parent instanceof n||f.lie&&e.parent&&e.parent.__migiVD?e.__names=e.parent.names.slice():e.__names=[],e.__names.push(e.name),e.children.forEach(function(e){(e instanceof n||f.lie&&e&&e.__migiVD)&&(e.style=t)})}}};f.lie||Object.defineProperties(n.prototype,b),e["default"]=n},function(t,e){function r(t,e){this.context=t,this.cb=e}e["default"]=r},function(t,e,r){function n(){i.call(this),this.uid="e"+c++,this.__listener={},this.on(i.DATA,this.__brcb)}var i=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),a=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=r(10);return t.hasOwnProperty("default")?t["default"]:t}(),c=0;!function(){var t=Object.create(i.prototype);t.constructor=n,n.prototype=t}(),n.prototype.__brcb=function(t,e){if(this.__listener.hasOwnProperty(t))for(var r=this.__listener[t],n=0,i=r.length;i>n;n++){var a=r[n],o=a.target,c=a.name,u=a.middleware;s.pass(o,c)||(o.hasOwnProperty("__flag")&&(o.__flag=!0),o[c]=u?u.call(o,e):e,o.hasOwnProperty("__flag")&&(o.__flag=!1))}},n.prototype.__record=function(t,e,r,n){s.record(this.uid,t.uid,e,r),this.__listener[e]=this.__listener[e]||[],this.__listener[e].push({target:t,name:r,middleware:n})},n.prototype.bridge=function(t,e,r,n){var i=this;if(t==this)throw new Error("can not bridge self: "+i);if(!(t&&(t instanceof migi.Component||t instanceof migi.Model||!o.lie||t.__migiCP||t.__migiMD)))throw new Error("can only bridge to Component/Model: "+i);2==arguments.length?a.isString(e)?i.__record(t,e,e):Object.keys(e).forEach(function(r){var n=e[r];a.isString(n)?i.__record(t,r,n):n.name&&i.__record(t,r,n.name,n.middleware)}):3==arguments.length?a.isString(r)?i.__record(t,e,r):(n=r,i.__record(t,e,e,n)):4==arguments.length&&i.__record(t,e,r,n)},n.prototype.bridgeTo=function(t,e){e=[].slice.call(arguments,1),t.bridge.apply(t,[this].concat(Array.from(e)))},Object.keys(i).forEach(function(t){n[t]=i[t]}),e["default"]=n},function(t,e,r){function n(t,e,r){i.hasOwnProperty("default")&&(i=i["default"]),this.k=t,this.context=e,this.cb=r,this.setV(r.call(e))}var i=function(){var t=r(4);return t.hasOwnProperty("default")?t["default"]:t}(),a=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}();n.prototype.setV=function(t){this.v=a.clone(t)},n.prototype.toString=function(t){if(Array.isArray(this.v))return a.joinArray(this.v,t);var e=a.stringify(this.v);return t?a.encodeHtml(e,t):this.v instanceof i||o.lie&&this.v&&this.v.__migiEL?e:a.encodeHtml(e)},n.prototype.update=function(t){var e=this.cb.call(this.context);return a.equal(t,e)?void 0:(this.setV(e),!0)},e["default"]=n},function(t,e,r){function n(t,e,r){if(!e.hasOwnProperty(t)&&i.hasOwnProperty(t)){e[t]=!0,a[t]=r;var o=i[t];Object.keys(o).forEach(function(t){n(t,e,r)})}}var i=(function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),{}),a={};e["default"]={gen:function(t,e){var r={},i={};if(Array.isArray(e))e.forEach(function(e){var a=t+","+e;r[a]=!0,n(a,i,r)});else{var a=t+","+e;r[a]=!0,n(a,i,r)}},record:function(t,e,r,n){var a=t+","+r,o=e+","+n;i[a]=i[a]||{};var s=i[a];if(s.hasOwnProperty(o))throw new Error("can not bridge duplicate: "+a+" -> "+o);s[o]=!0},pass:function(t,e){var r=t.uid+","+e;if(!a.hasOwnProperty(r))return!1;var n=a[r],i=n.hasOwnProperty(r);return n[r]=!0,i},del:function(t){var e=t+",";Object.keys(i).forEach(function(t){if(0==t.indexOf(e))delete i[t];else{var r=i[t];Object.keys(r).forEach(function(t){0==t.indexOf(e)&&delete r[t]})}});var r=","+t;Object.keys(a).forEach(function(t){(0==t.indexOf(e)||t.indexOf(r)>0)&&delete a[t]})}}},function(t,e){function r(t,e,i,a){if(!(e>=i)){var o=e,s=i,c=o,u=t[c],f=!0;t:for(;s>o;)if(f){for(;s>o;s--)if(a&&a.call(t,u,t[s])||!a&&u>t[s]){n(t,c,s),c=s,f=!f;continue t}}else for(;s>o;o++)if(a&&a.call(t,t[o],u)||!a&&u<t[o]){n(t,c,o),c=o,f=!f;continue t}r(t,e,c,a),r(t,c+1,i,a)}}function n(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}t.exports=function(t,e){if(!Array.isArray(t))throw new Error("quick sort need an array");return t.length<2?t:(r(t,0,t.length-1,e),t)}},function(t,e){e["default"]={TEXT:0,DOM:1}},function(t,e,r){function n(){return i.call(this),this.$=this.$$=this,this.uid="m"+s++,this.__name=this.constructor.__migiName,this.__ref=[],this.__bridgeHash=null,this.on(i.DATA,this.__onData),a.lie?(this.__migiMD=this,this.__hackLie(n,c)):void 0}var i=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),a=(function(){var t=r(8);return t.hasOwnProperty("default")?t["default"]:t}(),function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}()),o=function(){var t=r(5);return t.hasOwnProperty("default")?t["default"]:t}(),s=(function(){var t=r(10);return t.hasOwnProperty("default")?t["default"]:t}(),0);!function(){var t=Object.create(i.prototype);t.constructor=n,n.prototype=t}(),n.prototype.__onData=function(t,e){t="model."+t,this.__ref.forEach(function(r){r.emit(i.DATA,t,e)})},n.prototype.__add=function(t){-1==this.__ref.indexOf(t)&&this.__ref.push(t)},n.prototype.__del=function(t){var e=this.__ref.indexOf(t);e>-1&&this.__ref.splice(e,1)},Object.keys(i).forEach(function(t){n[t]=i[t]}),["__record","bridge","bridgeTo","__brcb"].forEach(function(t){n.prototype[t]=o.prototype[t]});var c={};["name"].forEach(function(t){c[t]={get:function(){return this["__"+t]}}}),a.lie||Object.defineProperties(n.prototype,c),e["default"]=n},function(t,e,r){var n=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),i=4096,a=new Array(i),o={index:0,add:function(t){!n.lie&&!t.__hasDes&&this.index<i&&(a[this.index++]=t)},get:function(){return a[--this.index]}};e["default"]=o},function(t,e){var r={constructor:!0,style:!0,children:!0},n={$:!0,$$:!0,model:!0,style:!0,children:!0},i={gs:function(t,e){return e=[].slice.call(arguments,1),e.forEach(function(e){e&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t},ref:function(t,e,i){for(var a in t)t.hasOwnProperty(a)&&!n.hasOwnProperty(a)?!function(e){i[e]={get:function(){return t[e]},set:function(r){t[e]=r}}}(a):r.hasOwnProperty(a)||(e[a]=t[a]);return i.constructor={get:function(){return t.constructor}},t.hasOwnProperty("children")&&(i.children={get:function(){return t.children}}),t}};e["default"]=i},function(t,e,r){function n(t,e,r){for(var a="",o=t.shift(),s=e.length;s>o;o++){var u=e[o];if(t.length){if(a+=u instanceof f?n(t,u.v,r):n(t,u,r),r.end)break}else if(u instanceof f)if(Array.isArray(u.v)){if(a+=i(u.v,r),r.end)break}else{if(u.v instanceof c||h.lie&&u.v&&u.v.__migiEL){r.end=!0;break}a+=u.toString()}else{if(u instanceof c||h.lie&&u&&u.__migiEL){r.end=!0;break}if(Array.isArray(u)){if(a+=i(u,r),r.end)break}else a+=l.stringify(u)}}return a}function i(t,e){for(var r="",n=0,a=t.length;a>n;n++){var o=t[n];if(e.end)break;if(Array.isArray(o))r+=i(o,e);else{if(o instanceof c||h.lie&&o&&o.__migiEL){e.end=!0;break}r+=l.stringify(o)}}return r}function a(t,e,r){u.hasOwnProperty("default")&&(u=u["default"]);var i=n(t.index,e,{}),a=r.childNodes,o=a[t.start];if(1!=o.nodeType){var s=h.lie?o.nodeValue:o.textContent;if(i!=s)if(/&([a-z]+|#\d+);/i.test(i)){var c=h.NODE;c.innerHTML=l.encodeHtml(i),r.replaceChild(c.firstChild,o)}else h.lie?o.nodeValue=i:o.textContent=i}}function o(t,e){return u.hasOwnProperty("default")&&(u=u["default"]),n(t.index,e,{})}function s(t,e){(e.first||e.prev==_.DOM)&&(e.record=t.slice());
}var c=function(){var t=r(4);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=r(6);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=r(9);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),h=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),_=function(){var t=r(12);return t.hasOwnProperty("default")?t["default"]:t}();e.update=a,e.value=o,e.record=s},function(t,e,r){function n(t){return t=[].slice.call(arguments,0),a.apply(this,[].concat(Array.from(t))),this.__handler={},this.__bridgeHandler={},this.__ccb=!1,this.__bcb=!1,this.__flag=!1,o.lie?(this.__migiCC=!0,this.__hackLie(n)):void 0}var i=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),a=function(){var t=r(5);return t.hasOwnProperty("default")?t["default"]:t}(),o=(function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}());!function(){var t=Object.create(a.prototype);t.constructor=n,n.prototype=t}(),n.prototype.__onData=function(t,e){var r=this,n=this;return n.__flag?void n.__bridgeData(t):(delete n.__bridgeHandler[t],void(n.__handler.hasOwnProperty(t)||(n.__handler[t]=!0,n.__ccb||(n.__ccb=!0,setTimeout(function(){var t=Object.keys(n.__handler);n.__handler={},n.__ccb=!1,t.length&&(t=t.length>1?t:t[0],a.prototype.__onData.call(r,t),n.emit(i.CACHE_DATA,t,e))},1)))))},n.prototype.__bridgeData=function(t){var e=this,r=this;delete r.__handler[t],r.__bridgeHandler.hasOwnProperty(t)||(r.__bridgeHandler[t]=!0,r.__bcb||(r.__bcb=!0,setTimeout(function(){var t=Object.keys(r.__bridgeHandler);r.__bcb=!1,t.length&&(t=t.length>1?t:t[0],a.prototype.__onData.call(e,t),r.emit(i.CACHE_DATA,t,r.__brcb))},1)))},Object.keys(a).forEach(function(t){n[t]=a[t]}),e["default"]=n},function(t,e,r){function n(t){return t=[].slice.call(arguments,0),i.apply(this,[].concat(Array.from(t))),a.lie?(this.__migiNV=!0,this.__hackLie(n)):void 0}var i=(function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),function(){var t=r(5);return t.hasOwnProperty("default")?t["default"]:t}()),a=(function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}());!function(){var t=Object.create(i.prototype);t.constructor=n,n.prototype=t}(),n.prototype.toString=function(){return""},n.prototype.__onDom=function(){this.__dom=!0,i.fakeDom(this.children)},Object.keys(i).forEach(function(t){n[t]=i[t]}),e["default"]=n},function(t,e,r){var n=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),i=0,a=1,o=2,s=1,c=2,u={button:{disabled:s},input:{autofocus:s,checked:s,defaultValue:c,disabled:s,multiple:s,readOnly:s,required:s},link:{disabled:s},option:{disabled:s,selected:s,text:c},select:{autofocus:s,disabled:s,multiple:s,selectedIndex:c},textarea:{autofocus:s,disabled:s,readOnly:s}},f={button:{disabled:o},input:{autofocus:o,checked:o,defaultValue:a,disabled:o,readOnly:o,required:o,value:a},link:{checked:o},option:{disabled:o,selected:o,text:a},select:{autofocus:o,disabled:o,required:o,selectedIndex:i,value:a},textarea:{autofocus:o,disabled:o,readOnly:o,required:o,value:a}};e["default"]={RENDER_EXIST:s,RENDER_DOM:c,special:function(t,e){if(u.hasOwnProperty(t)){var r=u[t];if(r.hasOwnProperty(e))return r[e]}},update:function(t,e,r,s){if(f.hasOwnProperty(t)){var c=f[t];if(c.hasOwnProperty(r)){switch(c=c[r]){case i:s=parseInt(s),e[r]=s||0;break;case a:s=n.stringify(s),e[r]=s;break;case o:s=!!s,e[r]=s}return}}switch(r){case"className":r="class";case"id":case"class":this.__style&&(r="migi-"+r);default:null===s||void 0===s?e.removeAttribute(r):e.setAttribute(r,s)}}}},function(t,e,r){function n(t,e,r,n,i){var a;if(i){var o=m.stringify(n);if(o){var s=g.NODE;s.innerHTML=m.encodeHtml(o),a=s.firstChild}else a=document.createTextNode("");r>=e.length?t.appendChild(a):t.replaceChild(a,e[r]),(n instanceof migi.NonVisualComponent||g.lie&&n&&n.__migiNV)&&n.emit(d.DOM)}else{if(a=n.toString(),r>=e.length)t.insertAdjacentHTML("beforeend",a);else if(1==e[r].nodeType)e[r].insertAdjacentHTML("afterend",a),t.removeChild(e[r]);else{var s=g.getParent(n.name);s.innerHTML=a,t.replaceChild(s.firstChild,e[r])}n.emit(d.DOM)}}function i(t,e,r,n,i){var a;if(i){var o=m.stringify(n);if(o){var s=g.NODE;s.innerHTML=m.encodeHtml(o),a=s.firstChild}else a=document.createTextNode("");r>=e.length?t.appendChild(a):t.insertBefore(a,e[r]),(n instanceof migi.NonVisualComponent||g.lie&&n&&n.__migiNV)&&n.emit(d.DOM)}else{if(a=n.toString(),r>=e.length)t.insertAdjacentHTML("beforeend",a);else if(1==e[r].nodeType)e[r].insertAdjacentHTML("beforebegin",a);else{var s=g.getParent(n.name);s.innerHTML=a,t.insertBefore(s.firstChild,e[r])}n.emit(d.DOM)}}function a(t,e,r,n,o,s,c){if(Array.isArray(e)){o.push(0);for(var f=0,l=Math.max(e.length,1);l>f;f++){var h=e[f];o[o.length-1]=f,a(t,h,r,n,o,s,c&&f==l-1)}o.pop()}else if(e instanceof p&&!(e instanceof migi.NonVisualComponent)||g.lie&&e&&e.__migiEL&&!e.__migiNV){if(s.hasOwnProperty("prev")){if(n.prev==b.TEXT&&n.start++,i(t,t.childNodes,n.start++,e),c)switch(s.state){case k:case E:n.t2d=!0;break;default:delete n.d2t}}else{switch(s.state=n.state,n.state){case E:n.start++;break;case k:u(r,n),n.start++,n.t2d=!0;break;case A:n.t2d=!0}i(t,t.childNodes,n.start++,e)}s.d=!0,s.prev=n.prev=b.DOM,n.state=P}else{if(s.hasOwnProperty("prev")){if(n.prev==b.DOM?(O.record(o,n),i(t,t.childNodes,n.start,e,!0)):u(r,n),c&&s.d)switch(u(r,n),s.state){case P:case A:delete n.t2d;break;default:delete n.d2t}}else switch(_(n,t,e,r,o),s.state=n.state,n.state){case E:n.d2t=!0;case k:u(r,n);break;case A:O.record(o,n),i(t,t.childNodes,n.start,e,!0),u(r,n);break;case P:O.record(o,n),i(t,t.childNodes,n.start,e,!0),n.d2t=!0}s.prev=n.prev=b.TEXT,n.state=k}}function o(t,e,r,n,i,a){if(Array.isArray(e)){var c=e.length;e.forEach(function(e,s){o(t,e,r,n,i,a&&s==c-1)})}else if(e instanceof p&&!(e instanceof migi.NonVisualComponent)||g.lie&&e&&e.__migiEL&&!e.__migiNV){if(i.hasOwnProperty("prev")){if(i.prev==b.TEXT?(i.d&&s(t,n.start+1),s(t,n.start+1)):n.prev==b.TEXT?s(t,n.start+1):s(t,n.start),a)switch(n.state){case k:case E:n.d2t=!0;break;default:delete n.t2d}}else switch(n.state){case E:s(t,n.start+1),n.state=k,n.prev=b.TEXT,n.d2t=!0;break;case k:s(t,n.start+1),n.prev=b.TEXT,n.d2t=!0;break;case A:s(t,n.start),n.state=P,n.prev=b.DOM;break;case P:s(t,n.start),n.prev=b.DOM}i.d=!0,i.prev=b.DOM,w.add(e.__destroy())}else{if(i.hasOwnProperty("prev")){if(i.prev==b.DOM&&u(r,n),a&&i.d)switch(s(t,n.start+1),n.state){case P:case A:n.t2d=!0;break;default:delete n.d2t}}else switch(n.state){case E:s(t,n.start+1),u(r,n),n.state=k,n.prev=b.TEXT;break;case k:u(r,n),n.prev=b.TEXT;break;case P:s(t,n.start),n.state=P,n.prev=b.DOM,n.t2d=!0;break;case A:n.prev=b.DOM,n.t2d=!0}i.prev=b.TEXT}}function s(t,e){t.removeChild(t.childNodes[e])}function c(t,e){return(void 0===t||null===t)&&(t=""),(void 0===e||null===e)&&(e=""),t.toString()==e.toString()}function u(t,e){var r=t.length;(!r||t[r-1].start<e.start)&&t.push({start:e.start,index:e.record.slice()})}function f(t,e){if(t!==e){var r=t.element;e.uid=t.uid,e.__element=r,e.__parent=t.__parent,e.__top=t.__top,e.__style=t.__style,e.__dom=t.__dom;var n=Object.keys(t.props),i=Object.keys(e.props),s={};n.forEach(function(r){if(!/^on[A-Z]/.test(r)){s[r]=!0;var n=t.props[r],i=e.props[r];n!==i&&t.__updateAttr(r,i)}}),t.__removeListener(),i.forEach(function(t){if(/^on[A-Z]/.test(t)){var r=t.slice(2).replace(/[A-Z]/g,function(t){return t.toLowerCase()});e.__addListener(r,function(r){var n=e.props[t];n instanceof y?n.cb.call(n.context,r):n(r)})}else s.hasOwnProperty(t)||e.__updateAttr(t,e.props[t])});for(var c,u=t.children.length,f=e.children.length,l=[],_={start:0,record:[],first:!0},d=0,p=Math.min(u,f);p>d;d++){var v=t.children[d],m=e.children[d];c=[d],h(r,v,m,l,_,c)}var g={};if(u>d)for(;u>d;d++)o(r,t.children[d],l,_,g,d==u-1);else if(f>d)for(;f>d;d++)c[c.length-1]=d,a(r,e.children[d],l,_,c,g,d==f-1);if(l.length){if("textarea"==e.name)return void e.__updateAttr("value",O.value(l[0],e.children));l.forEach(function(t){O.update(t,e.children,r)})}w.add(t.__destroy())}}function l(t,e,r,n,i,a){v.hasOwnProperty("default")&&(v=v["default"]),i.first||(i.prev==b.TEXT?i.state=k:i.state=P),h(t,e,r,n,i,a,!0),i.t2d||i.d2t||(i.state==A?i.t2d=!0:i.state==E&&(i.d2t=!0))}function h(t,e,r,s,l,y){var m=Array.isArray(e),D=Array.isArray(r);if(m&&D){var T=e.length,C=r.length,M=T?1:0,L=C?2:0;switch(y.push(0),l.first&&O.record(y,l),M+L){case 0:l.state=k,l.prev=b.TEXT;break;case 1:h(t,e[0],r[0],s,l,y);for(var S={},N=1;T>N;N++)o(t,e[N],s,l,S,N==T-1);break;case 2:h(t,e[0],r[0],s,l,y);for(var S={},N=1;C>N;N++)y[y.length-1]=N,a(t,r[N],s,l,y,S,N==C-1);break;case 3:for(var N=0,j=Math.min(T,C);j>N;N++)y[y.length-1]=N,h(t,e[N],r[N],s,l,y);var S={};if(T>N)for(;T>N;N++)o(t,e[N],s,l,S,N==T-1);else if(C>N)for(;C>N;N++)y[y.length-1]=N,a(t,r[N],s,l,y,S,N==C-1)}y.pop()}else if(m){h(t,e[0],r,s,l,y);for(var S={},N=1,j=e.length;j>N;N++)o(t,e[N],s,l,S,N==j-1)}else if(D){y.push(0),h(t,e,r[0],s,l,y);for(var S={},N=1,j=r.length;j>N;N++)y[y.length-1]=N,a(t,r[N],s,l,y,S,N==j-1);y.pop()}else{var x=e instanceof p&&!(e instanceof migi.NonVisualComponent)||g.lie&&e&&e.__migiEL&&!e.__migiNV?1:0,H=r instanceof p&&!(r instanceof migi.NonVisualComponent)||g.lie&&r&&r.__migiEL&&!r.__migiNV?2:0;switch(x+H){case 0:l.first||_(l,t,r,s,y),O.record(y,l);var V=t.childNodes;if(l.first)c(e,r)||u(s,l);else if(c(e,r))switch(l.state){case E:u(s,l),t.removeChild(V[l.start+1]);break;case A:u(s,l),i(t,V,l.start,r,!0)}else switch(l.state){case E:u(s,l),t.removeChild(V[l.start+1]);break;case A:u(s,l),i(t,V,l.start,r,!0);break;case P:O.record(y,l);case k:c(e,r)||u(s,l)}l.state=k,l.prev=b.TEXT;break;case 1:O.record(y,l);var V=t.childNodes;if(l.first)n(t,V,l.start,r,!0);else switch(l.state){case E:case k:u(s,l),t.removeChild(V[l.start+1]);break;case A:n(t,V,l.start++,r,!0);break;case P:n(t,V,l.start,r,!0)}w.add(e.__destroy()),l.state=E,l.prev=b.TEXT;break;case 2:var V=t.childNodes;if(l.first)n(t,V,l.start++,r);else switch(l.state){case E:l.start++;case P:n(t,V,l.start++,r);break;case A:i(t,V,l.start++,r);break;case k:u(s,l),i(t,V,++l.start,r),l.start++}l.state=A,l.prev=b.DOM;break;case 3:if(!l.first){switch(l.state){case E:case k:l.start++}delete l.t2d,delete l.d2t}var $=e instanceof v||g.lie&&e&&e.__migiCP?1:0,X=r instanceof v||g.lie&&r&&r.__migiCP?2:0;switch($+X){case 0:e.name==r.name?f(e,r):(t=e.element,t.insertAdjacentHTML("afterend",r.toString()),t.parentNode.removeChild(t),r.emit(d.DOM));break;case 1:case 2:case 3:t=e.element,t.insertAdjacentHTML("afterend",r.toString()),t.parentNode.removeChild(t),r.emit(d.DOM)}l.state=P,l.prev=b.DOM,l.start++,w.add(e.__destroy())}(r instanceof migi.NonVisualComponent||g.lie&&r&&r.__migiNV)&&r.emit(d.DOM)}l.first=!1}function _(t,e,r,n,a){t.t2d?(delete t.t2d,O.record(a,t),i(e,e.childNodes,t.start,r,!0)):t.d2t&&(delete t.d2t,u(n,t),s(e,t.start+1))}var d=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),p=function(){var t=r(4);return t.hasOwnProperty("default")?t["default"]:t}(),v=function(){var t=r(5);return t.hasOwnProperty("default")?t["default"]:t}(),y=function(){var t=r(7);return t.hasOwnProperty("default")?t["default"]:t}(),m=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),g=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),O=function(){var t=r(16);return t.hasOwnProperty("default")?t["default"]:t}(),w=function(){var t=r(14);return t.hasOwnProperty("default")?t["default"]:t}(),b=function(){var t=r(12);return t.hasOwnProperty("default")?t["default"]:t}(),E=0,P=1,A=2,k=3;e.diff=l,e.check=_},function(t,e){e["default"]=function(t){t.target||(t.target=t.srcElement||document,t.metaKey=!!t.metaKey,t.stopPropagation=function(){t.cancelBubble=!0},t.preventDefault=function(){t.returnValue=!1}),3==t.target.nodeType&&(t.target=t.target.parentNode)}},function(t,e,r){function n(t,e,r,n,a,s){o.hasOwnProperty("default")&&(o=o["default"]);var u=[],f={};i(t.length-1,t,e,r,n,a,u,String(t.length-1),f,s),c(u,function(t,e){return t[2]==e[2]?t[0]>e[0]:t[2]>e[2]});var l="";return u.forEach(function(t){l+=t[1]+";"}),l}function i(t,e,r,n,o,f,l,h,_,d){var p;_[h]=!0;var v=[];v.push(e[t]);var y=0;r[t]&&(v.push(r[t]),y=1);var m=0;switch(n[t]&&(v.push(n[t]),m=2),c(v,function(t,e){return e>t}),o.hasOwnProperty("_*")&&v.push("*"),y+m){case 1:v.push(v[0]+v[1]),o.hasOwnProperty("_*.")&&v.push("*"+v[1]);break;case 2:v.push(v[0]+v[1]),o.hasOwnProperty("_*#")&&v.push("*"+v[1]);break;case 3:v.push(v[0]+v[1]),v.push(v[0]+v[2]),v.push(v[1]+v[2]),v.push(v[0]+v[1]+v[2]),o.hasOwnProperty("_*.")&&v.push("*"+v[1]),o.hasOwnProperty("_*#")&&v.push("*"+v[2]),o.hasOwnProperty("_*.#")&&v.push("*"+v[1]+v[2])}for(var g=0,O=v.length;O>g;g++){var w=v[g];if(o.hasOwnProperty(w)){var b=o[w];if(t){i(t-1,e,r,n,b,f.parent,l,h+","+(t-1)+":"+g,_);for(var E=t-2;E>=0;E--){var P=h+","+E+":"+g;_.hasOwnProperty(P)||i(E,e,r,n,b,f.parent,l,P,_)}}b.hasOwnProperty("_v")&&a(l,b),d&&b.hasOwnProperty("_:")&&b["_:"].forEach(function(t){t[0].forEach(function(t){var e=f.element;switch(t){case"hover":f.on(s.DOM,function(){u.lie&&e.attachEvent?(f.element.attachEvent("onmouseenter",function(t){f.__hover=!0,f.__updateStyle()}),f.element.attachEvent("onmouseleave",function(t){f.__hover=!1,f.__updateStyle()})):(f.element.addEventListener("mouseenter",function(t){f.__hover=!0,f.__updateStyle()}),f.element.addEventListener("mouseleave",function(t){f.__hover=!1,f.__updateStyle()}))});break;case"active":f.on(s.DOM,function(){u.lie&&e.attachEvent?(f.element.attachEvent("onmousedown",function(t){f.__active=!0,f.__updateStyle()}),document.body.attachEvent("onmouseup",function(t){f.__active=!1,f.__updateStyle()},!0),window.attachEvent("onblur",function(t){f.__active=!1,f.__updateStyle()}),window.attachEvent("ondragend",function(t){f.__active=!1,f.__updateStyle()})):(f.element.addEventListener("mousedown",function(t){f.__active=!0,f.__updateStyle()}),document.body.addEventListener("mouseup",function(t){f.__active=!1,f.__updateStyle()},!0),window.addEventListener("blur",function(t){f.__active=!1,f.__updateStyle()}),window.addEventListener("dragend",function(t){f.__active=!1,f.__updateStyle()}))})}})}),(b.hasOwnProperty("_:")||b.hasOwnProperty("_["))&&!function(){function o(o){if(o&&o.hasOwnProperty("_[")){var s=o["_["];s.forEach(function(o){var c=o[0],u=!0;t:for(var d=0,p=c.length;p>d;d++){var v=c[d];if(1==v.length){if(!f.__cache.hasOwnProperty(v[0])){u=!1;break}}else{var y=f.__cache[v[0]];if(void 0===y){u=!1;break t}var m=v[2];switch(v[1]){case"=":u=y==m;break;case"^=":u=0==y.indexOf(m);break;case"$=":u=y.length>=m.length&&y.indexOf(m)==y.length-m.length;break;case"~=":var g=new RegExp("\\b"+m+"\\b");u=g.test(y);break;case"*=":u=y.indexOf(m)>-1;break;case"|=":u=0==y.indexOf(m)||0==y.indexOf(m+"-");break;default:u=!1;break t}if(!u)break t}}u&&(s=o[1],t&&i(t-1,e,r,n,s,f.parent,l,h+","+(t-1)+":"+d,_),s.hasOwnProperty("_v")&&a(l,s))})}}b.hasOwnProperty("_:")&&(p=b["_:"],p.forEach(function(o){var s=o[0],c=!0;t:for(var u=0,d=s.length;d>u;u++)switch(s[u]){case"hover":if(!f.__hover){c=!1;break t}break;case"active":if(!f.__active){c=!1;break t}break;case"first-child":if(!f.isFirst()){c=!1;break t}break;case"last-child":if(!f.isLast()){c=!1;break t}break;default:c=!1}c&&(p=o[1],t&&i(t-1,e,r,n,p,f.parent,l,h+","+(t-1)+":"+u,_),p.hasOwnProperty("_v")&&a(l,p))})),o(b),o(p)}()}}}function a(t,e){e._v.forEach(function(r){r[2]=e._p,t.push(r)})}var o=function(){var t=r(6);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=r(11);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}();e["default"]=n},function(t,e,r){var n=function(){var t=r(3);return t.hasOwnProperty("default")?t["default"]:t}(),i=function(){var t=r(4);return t.hasOwnProperty("default")?t["default"]:t}(),a=function(){var t=r(8);return t.hasOwnProperty("default")?t["default"]:t}(),o=function(){var t=r(13);return t.hasOwnProperty("default")?t["default"]:t}(),s=function(){var t=r(5);return t.hasOwnProperty("default")?t["default"]:t}(),c=function(){var t=r(6);return t.hasOwnProperty("default")?t["default"]:t}(),u=function(){var t=r(18);return t.hasOwnProperty("default")?t["default"]:t}(),f=function(){var t=r(17);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),h=function(){var t=r(9);return t.hasOwnProperty("default")?t["default"]:t}(),_=function(){var t=r(7);return t.hasOwnProperty("default")?t["default"]:t}(),d=function(){var t=r(14);return t.hasOwnProperty("default")?t["default"]:t}(),l=function(){var t=r(2);return t.hasOwnProperty("default")?t["default"]:t}(),p=function(){var t=r(1);return t.hasOwnProperty("default")?t["default"]:t}(),v=function(){var t=r(11);return t.hasOwnProperty("default")?t["default"]:t}(),y=function(){var t=r(15);return t.hasOwnProperty("default")?t["default"]:t}(),m={render:function(t,e){return e&&t.inTo(e),t},createCp:function(t,e,r){return new t(e,r)},createVd:function(t,e,r){if({script:!0,style:!0}.hasOwnProperty(t.toLowerCase()))throw new Error("can not create style/script VirtualDom: "+t);return d.index?d.get().__reset(t,e,r):new c(t,e,r)},Event:n,Model:o,EventBus:a,eventBus:new a,Element:i,Component:s,NonVisualComponent:u,CacheComponent:f,VirtualDom:c,Obj:h,Cb:_,util:l,browser:p,sort:v,mix:y};"undefined"!=typeof window&&(window.migi=m),e["default"]=m},function(t,e,r){t.exports=r(23)["default"]}]);